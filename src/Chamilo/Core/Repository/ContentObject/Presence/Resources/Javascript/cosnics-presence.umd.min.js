(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("vue")):"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["cosnics-presence"]=t(require("vue")):e["cosnics-presence"]=t(e["Vue"])})("undefined"!==typeof self?self:this,(e=>(()=>{var t={983:e=>{e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"new-presence-status":"New status","label":"Label","title":"Title","aliasses":"Corresponds to","color":"Color","checkout":"Checkout possible","no-checkout":"No checkout","verification-icon":"Verification icon for self registration"},"nl":{"new-presence-status":"Nieuwe status","label":"Label","title":"Titel","aliasses":"Komt overeen met","color":"Kleur","checkout":"Checkout mogelijk","no-checkout":"Geen checkout","verification-icon":"Verificatie-icoon voor zelfregistratie"}}'),delete e.options._Ctor}},296:e=>{e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"total":"Total","error-Timeout":"The server took too long to respond. Your changes have possibly not been saved. You can try again later.","error-LoggedOut":"It looks like you have been logged out. Your changes have not been saved. Please reload the page after logging in and try again.","error-Unknown":"An unknown error occurred. Your changes have possibly not been saved. You can try again later.","export":"Export","legend":"Legend","students-not-in-course":"Students not in course","without-status":"Without status","checkout-mode":"Checkout mode","show-all-periods":"Show all periods","new-period":"New period","refresh":"Refresh","changes-filters":"You have made changes so that the shown results possibly no longer reflect the chosen filter criteria. Choose different criteria or click refresh to remedy.","remove-period":"Remove period","more":"More"},"nl":{"total":"Totaal","error-LoggedOut":"Het lijkt erop dat je uitgelogd bent. Je wijzigingen werden niet opgeslagen. Herlaad deze pagina nadat je opnieuw ingelogd bent en probeer het opnieuw.","error-Timeout":"De server deed er te lang over om te antwoorden. Je wijzigingen werden mogelijk niet opgeslagen. Probeer het later opnieuw.","error-Unknown":"Er deed zich een onbekende fout voor. Je wijzigingen werden mogelijk niet opgeslagen. Probeer het later opnieuw.","export":"Exporteer","legend":"Legende","students-not-in-course":"Studenten niet in cursus","without-status":"Zonder status","checkout-mode":"Uitcheckmodus","show-all-periods":"Toon alle perioden","new-period":"Nieuwe periode","refresh":"Vernieuwen","changes-filters":"Je hebt een wijziging gedaan waardoor de getoonde resultaten mogelijk niet meer overeenkomen met de gekozen filtercriteria. Kies andere criteria of klik op Vernieuwen om dit op te lossen.","remove-period":"Verwijder periode","more":"Meer"}}'),delete e.options._Ctor}},26:e=>{e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"error-Timeout":"The server took too long to respond. Your changes have possibly not been saved. You can try again later.","error-LoggedOut":"It looks like you have been logged out. Your changes have not been saved. Please reload the page after logging in and try again.","error-Unknown":"An unknown error occurred. Your changes have possibly not been saved. You can try again later.","print-qr":"Display / Print QR code for general self registration","self-registration-off":"General self registration OFF","self-registration-on":"General self registration ON"},"nl":{"error-LoggedOut":"Het lijkt erop dat je uitgelogd bent. Je wijzigingen werden niet opgeslagen. Herlaad deze pagina nadat je opnieuw ingelogd bent en probeer het opnieuw.","error-Timeout":"De server deed er te lang over om te antwoorden. Je wijzigingen werden mogelijk niet opgeslagen. Probeer het later opnieuw.","error-Unknown":"Er deed zich een onbekende fout voor. Je wijzigingen werden mogelijk niet opgeslagen. Probeer het later opnieuw.","print-qr":"Toon / Print QR code voor globale zelfregistratie","self-registration-off":"Globale zelfregistratie UIT","self-registration-on":"Globale zelfregistratie AAN"}}'),delete e.options._Ctor}},356:e=>{e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"legend":"Legend","period":"Period","checked-in":"Checked in","checked-out":"Checked out"},"nl":{"legend":"Legende","period":"Periode","checked-in":"Ingechecked","checked-out":"Uitgechecked"}}'),delete e.options._Ctor}},991:e=>{e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"error-NoTitleGiven":"You haven\'t given a title for the following status:","error-TitleUpdateForbidden":"The title of the status \'{title}\' can no longer be changed.","error-InvalidType":"The status \'{title}\' has a wrong type set.","error-PresenceStatusMissing":"The status \'{title}\' can no longer be removed.","error-InvalidAlias":"The status with title \'{title}\' has a wrong mapping set.","error-AliasUpdateForbidden":"The mapping of the status \'{title}\' can no longer be changed.","error-NoCodeGiven":"You haven\'t given a label for the status \'{title}\'.","error-NoColorGiven":"You haven\'t given a color for the status \'{title}\'.","error-InvalidColor":"You have given the status \'{title}\' an invalid color.","error-Timeout":"The server took too long to respond. Your changes have possibly not been saved. You can try again later.","error-LoggedOut":"It looks like you have been logged out. Your changes have not been saved. Please reload the page after logging in and try again.","error-Unknown":"An unknown error occurred. Your changes have possibly not been saved. You can try again later.","changes-not-saved":"Your changes have not been saved."},"nl":{"error-NoTitleGiven":"Je hebt geen titel opgegeven voor de volgende status:","error-TitleUpdateForbidden":"De titel van de status \'{title}\' kan niet meer gewijzigd worden.","error-InvalidType":"De status \'{title}\' status heeft een verkeerd type.","error-PresenceStatusMissing":"De status \'{title}\' kan niet meer gewist worden.","error-InvalidAlias":"De status \'{title}\' heeft een verkeerde mapping.","error-AliasUpdateForbidden":"De mapping van de status \'{title}\' kan niet meer gewijzigd worden.","error-NoCodeGiven":"Je hebt geen label opgegeven voor de status \'{title}\'.","error-NoColorGiven":"Je hebt geen kleur opgegeven voor de status \'{title}\'.","error-InvalidColor":"Je hebt de status \'{title}\' een verkeerde kleur toegewezen.","error-LoggedOut":"Het lijkt erop dat je uitgelogd bent. Je wijzigingen werden niet opgeslagen. Herlaad deze pagina nadat je opnieuw ingelogd bent en probeer het opnieuw.","error-Timeout":"De server deed er te lang over om te antwoorden. Je wijzigingen werden mogelijk niet opgeslagen. Probeer het later opnieuw.","error-Unknown":"Er deed zich een onbekende fout voor. Je wijzigingen werden mogelijk niet opgeslagen. Probeer het later opnieuw.","changes-not-saved":"Je wijzigingen werden niet opgeslagen."}}'),delete e.options._Ctor}},898:e=>{e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"save":"Save","cancel":"Cancel"},"nl":{"save":"Opslaan","cancel":"Annuleren"}}'),delete e.options._Ctor}},859:e=>{e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"save":"Save presence"},"nl":{"save":"Aanwezigheid opslaan"}}'),delete e.options._Ctor}},120:e=>{e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"move-up":"Move up","move-down":"Move down","remove":"Remove"},"nl":{"move-up":"Verplaats naar boven","move-down":"Verplaats naar beneden","remove":"Verwijder"}}'),delete e.options._Ctor}},822:e=>{e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"display":"Display"},"nl":{"display":"Weergave"}}'),delete e.options._Ctor}},98:e=>{e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"last-name":"Last name","first-name":"First name","official-code":"Official code","period":"Period","new-period":"New period","checked-in":"Checked in","checked-out":"Checked out","not-checked-out":"Not checked out","checkout-mode":"Checkout mode","no-results":"No results","not-applicable":"n/a"},"nl":{"last-name":"Familienaam","first-name":"Voornaam","official-code":"OfficiÃ«le code","period":"Periode","new-period":"Nieuwe periode","checked-in":"Ingechecked","checked-out":"Uitgechecked","not-checked-out":"Niet uitgechecked","checkout-mode":"Uitcheckmodus","no-results":"Geen resultaten","not-applicable":"n.v.t."}}'),delete e.options._Ctor}},269:e=>{e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"apply":"Apply","cancel":"Cancel","self-registration-off":"Self registration for period OFF","self-registration-on":"Self registration for period ON","set-students-without-status":"Set all students without a status to"},"nl":{"apply":"Pas toe","cancel":"Annuleer","self-registration-off":"Zelfregistratie voor periode UIT","self-registration-on":"Zelfregistratie voor periode AAN","set-students-without-status":"Zet alle studenten zonder status op"}}'),delete e.options._Ctor}},744:e=>{e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"period":"Period","without-status":"Without status"},"nl":{"period":"Periode","without-status":"Zonder status"}}'),delete e.options._Ctor}},752:e=>{e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"checked-out":"Checked out","not-checked-out":"Not checked out"},"nl":{"checked-out":"Uitgechecked","not-checked-out":"Niet uitgechecked"}}'),delete e.options._Ctor}},57:e=>{e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"search":"Find"},"nl":{"search":"Zoeken"}}'),delete e.options._Ctor}},496:e=>{e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"not-checked-out":"Not checked out"},"nl":{"not-checked-out":"Niet uitgechecked"}}'),delete e.options._Ctor}},547:e=>{"use strict";var t=Object.prototype.hasOwnProperty,s="~";function o(){}function n(e,t,s){this.fn=e,this.context=t,this.once=s||!1}function r(e,t,o,r,i){if("function"!==typeof o)throw new TypeError("The listener must be a function");var a=new n(o,r||e,i),l=s?s+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],a]:e._events[l].push(a):(e._events[l]=a,e._eventsCount++),e}function i(e,t){0===--e._eventsCount?e._events=new o:delete e._events[t]}function a(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(s=!1)),a.prototype.eventNames=function(){var e,o,n=[];if(0===this._eventsCount)return n;for(o in e=this._events)t.call(e,o)&&n.push(s?o.slice(1):o);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},a.prototype.listeners=function(e){var t=s?s+e:e,o=this._events[t];if(!o)return[];if(o.fn)return[o.fn];for(var n=0,r=o.length,i=new Array(r);n<r;n++)i[n]=o[n].fn;return i},a.prototype.listenerCount=function(e){var t=s?s+e:e,o=this._events[t];return o?o.fn?1:o.length:0},a.prototype.emit=function(e,t,o,n,r,i){var a=s?s+e:e;if(!this._events[a])return!1;var l,c,u=this._events[a],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,o),!0;case 4:return u.fn.call(u.context,t,o,n),!0;case 5:return u.fn.call(u.context,t,o,n,r),!0;case 6:return u.fn.call(u.context,t,o,n,r,i),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var p,h=u.length;for(c=0;c<h;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,o);break;case 4:u[c].fn.call(u[c].context,t,o,n);break;default:if(!l)for(p=1,l=new Array(d-1);p<d;p++)l[p-1]=arguments[p];u[c].fn.apply(u[c].context,l)}}return!0},a.prototype.on=function(e,t,s){return r(this,e,t,s,!1)},a.prototype.once=function(e,t,s){return r(this,e,t,s,!0)},a.prototype.removeListener=function(e,t,o,n){var r=s?s+e:e;if(!this._events[r])return this;if(!t)return i(this,r),this;var a=this._events[r];if(a.fn)a.fn!==t||n&&!a.once||o&&a.context!==o||i(this,r);else{for(var l=0,c=[],u=a.length;l<u;l++)(a[l].fn!==t||n&&!a[l].once||o&&a[l].context!==o)&&c.push(a[l]);c.length?this._events[r]=1===c.length?c[0]:c:i(this,r)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=s?s+e:e,this._events[t]&&i(this,t)):(this._events=new o,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=s,a.EventEmitter=a,e.exports=a},306:e=>{"use strict";e.exports=(e,t)=>(t=t||(()=>{}),e.then((e=>new Promise((e=>{e(t())})).then((()=>e))),(e=>new Promise((e=>{e(t())})).then((()=>{throw e})))))},781:(e,t,s)=>{"use strict";const o=s(547),n=s(499),r=s(906),i=()=>{},a=new n.TimeoutError;class l extends o{constructor(e){var t,s,o,n;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=i,this._resolveIdle=i,e=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:r.default},e),!("number"===typeof e.intervalCap&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!==(s=null===(t=e.intervalCap)||void 0===t?void 0:t.toString())&&void 0!==s?s:""}\` (${typeof e.intervalCap})`);if(void 0===e.interval||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!==(n=null===(o=e.interval)||void 0===o?void 0:o.toString())&&void 0!==n?n:""}\` (${typeof e.interval})`);this._carryoverConcurrencyCount=e.carryoverConcurrencyCount,this._isIntervalIgnored=e.intervalCap===1/0||0===e.interval,this._intervalCap=e.intervalCap,this._interval=e.interval,this._queue=new e.queueClass,this._queueClass=e.queueClass,this.concurrency=e.concurrency,this._timeout=e.timeout,this._throwOnTimeout=!0===e.throwOnTimeout,this._isPaused=!1===e.autoStart}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=i,0===this._pendingCount&&(this._resolveIdle(),this._resolveIdle=i,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){const e=Date.now();if(void 0===this._intervalId){const t=this._intervalEnd-e;if(!(t<0))return void 0===this._timeoutId&&(this._timeoutId=setTimeout((()=>{this._onResumeInterval()}),t)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}_tryToStartAnother(){if(0===this._queue.size)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){const e=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){const t=this._queue.dequeue();return!!t&&(this.emit("active"),t(),e&&this._initializeIntervalIfNeeded(),!0)}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||void 0!==this._intervalId||(this._intervalId=setInterval((()=>{this._onInterval()}),this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){0===this._intervalCount&&0===this._pendingCount&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){while(this._tryToStartAnother());}get concurrency(){return this._concurrency}set concurrency(e){if(!("number"===typeof e&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);this._concurrency=e,this._processQueue()}async add(e,t={}){return new Promise(((s,o)=>{const r=async()=>{this._pendingCount++,this._intervalCount++;try{const r=void 0===this._timeout&&void 0===t.timeout?e():n.default(Promise.resolve(e()),void 0===t.timeout?this._timeout:t.timeout,(()=>{(void 0===t.throwOnTimeout?this._throwOnTimeout:t.throwOnTimeout)&&o(a)}));s(await r)}catch(r){o(r)}this._next()};this._queue.enqueue(r,t),this._tryToStartAnother(),this.emit("add")}))}async addAll(e,t){return Promise.all(e.map((async e=>this.add(e,t))))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(0!==this._queue.size)return new Promise((e=>{const t=this._resolveEmpty;this._resolveEmpty=()=>{t(),e()}}))}async onIdle(){if(0!==this._pendingCount||0!==this._queue.size)return new Promise((e=>{const t=this._resolveIdle;this._resolveIdle=()=>{t(),e()}}))}get size(){return this._queue.size}sizeBy(e){return this._queue.filter(e).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(e){this._timeout=e}}t.Z=l},918:(e,t)=>{"use strict";function s(e,t,s){let o=0,n=e.length;while(n>0){const r=n/2|0;let i=o+r;s(e[i],t)<=0?(o=++i,n-=r+1):n=r}return o}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=s},906:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(918);class n{constructor(){this._queue=[]}enqueue(e,t){t=Object.assign({priority:0},t);const s={priority:t.priority,run:e};if(this.size&&this._queue[this.size-1].priority>=t.priority)return void this._queue.push(s);const n=o.default(this._queue,s,((e,t)=>t.priority-e.priority));this._queue.splice(n,0,s)}dequeue(){const e=this._queue.shift();return null===e||void 0===e?void 0:e.run}filter(e){return this._queue.filter((t=>t.priority===e.priority)).map((e=>e.run))}get size(){return this._queue.length}}t["default"]=n},499:(e,t,s)=>{"use strict";const o=s(306);class n extends Error{constructor(e){super(e),this.name="TimeoutError"}}const r=(e,t,s)=>new Promise(((r,i)=>{if("number"!==typeof t||t<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(t===1/0)return void r(e);const a=setTimeout((()=>{if("function"===typeof s){try{r(s())}catch(l){i(l)}return}const o="string"===typeof s?s:`Promise timed out after ${t} milliseconds`,a=s instanceof Error?s:new n(o);"function"===typeof e.cancel&&e.cancel(),i(a)}),t);o(e.then(r,i),(()=>{clearTimeout(a)}))}));e.exports=r,e.exports["default"]=r,e.exports.TimeoutError=n},203:t=>{"use strict";t.exports=e}},s={};function o(e){var n=s[e];if(void 0!==n)return n.exports;var r=s[e]={exports:{}};return t[e](r,r.exports,o),r.exports}(()=>{o.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return o.d(t,{a:t}),t}})(),(()=>{o.d=(e,t)=>{for(var s in t)o.o(t,s)&&!o.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}})(),(()=>{o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{o.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{o.p=""})();var n={};return(()=>{"use strict";o.r(n),o.d(n,{default:()=>Qi});var e={};if(o.r(e),o.d(e,{hasBrowserEnv:()=>ct,hasStandardBrowserEnv:()=>ut,hasStandardBrowserWebWorkerEnv:()=>dt}),"undefined"!==typeof window){var t=window.document.currentScript,s=t&&t.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);s&&(o.p=s[1])}var r=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.presence?t("div",[t("div",{staticClass:"u-flex u-flex-wrap u-gap-small-3x"},[t("div",{staticClass:"presence-builder"},[t("b-table",{ref:"builder",staticClass:"mod-presence mod-builder",class:{"is-enabled":e.isEditEnabled},attrs:{bordered:"",items:e.presenceStatuses,fields:e.fields,"tbody-tr-class":e.rowClass,selectable:e.isEditEnabled,"select-mode":"single","selected-variant":""},on:{"row-selected":e.onRowSelected},scopedSlots:e._u([{key:"thead-top",fn:function(){return[t("selection-preview",{staticClass:"presence-preview-row",attrs:{"presence-statuses":e.presenceStatuses}})]},proxy:!0},{key:"head(label)",fn:function(){return[e._v(e._s(e.$t("label")))]},proxy:!0},{key:"head(title)",fn:function(){return[e._v(e._s(e.$t("title")))]},proxy:!0},{key:"head(aliasses)",fn:function(){return[e._v(e._s(e.$t("aliasses")))]},proxy:!0},{key:"head(color)",fn:function(){return[e._v(e._s(e.$t("color")))]},proxy:!0},{key:"cell(label)",fn:function({item:s,index:o}){return[t("b-input",{staticClass:"mod-input mod-trans mod-pad mod-small",attrs:{type:"text",required:"",autocomplete:"off",disabled:e.isEditDisabled},on:{focus:function(t){return e.onSelectStatus(s,o)}},model:{value:s.code,callback:function(t){e.$set(s,"code",t)},expression:"item.code"}})]}},{key:"cell(title)",fn:function({item:s,index:o}){return[t("title-control",{attrs:{status:s,"status-title":e.getStatusTitle(s),"is-editable":e.isStatusEditable(s),disabled:e.isEditDisabled},on:{select:function(t){return e.onSelectStatus(s,o)}}})]}},{key:"cell(aliasses)",fn:function({item:s,index:o}){return[t("alias-control",{attrs:{status:s,"alias-title":e.getAliasedTitle(s),"fixed-status-defaults":e.fixedStatusDefaults,"is-editable":e.isStatusEditable(s),"is-select-disabled":e.isEditDisabled},on:{select:function(t){return e.onSelectStatus(s,o)}}})]}},{key:"cell(color)",fn:function({item:s,index:o}){return[t("color-control",{staticClass:"u-flex u-align-items-center",attrs:{id:o,disabled:e.isEditDisabled,color:s.color,selected:s===e.selectedStatus},on:{select:function(t){return e.onSelectStatus(s,o)},"color-selected":function(t){return e.setStatusColor(s,t)}}})]}},{key:"cell(actions)",fn:function({item:s,index:o}){return[t("selection-controls",{staticClass:"u-flex u-gap-small presence-actions",attrs:{id:s.id,"is-up-disabled":e.isEditDisabled||0===o,"is-down-disabled":e.isEditDisabled||o>=e.presenceStatuses.length-1,"is-remove-disabled":e.isEditDisabled||"fixed"===s.type||e.savedEntryStatuses.includes(s.id)},on:{"move-down":function(t){return e.onMoveDown(s.id,o)},"move-up":function(t){return e.onMoveUp(s.id,o)},remove:function(t){return e.onRemove(s)},select:function(t){return e.onSelectStatus(s,o)}}})]}},e.createNew?{key:"bottom-row",fn:function(){return[t("b-td",[t("b-input",{staticClass:"mod-input mod-pad mod-small",attrs:{required:"",type:"text",id:"new-presence-code"},model:{value:e.codeNew,callback:function(t){e.codeNew=t},expression:"codeNew"}})],1),t("b-td",[t("b-input",{staticClass:"mod-input mod-pad",attrs:{required:"",type:"text"},model:{value:e.titleNew,callback:function(t){e.titleNew=t},expression:"titleNew"}})],1),t("b-td",[t("alias-control",{attrs:{status:e.aliasNew,"fixed-status-defaults":e.fixedStatusDefaults}})],1),t("b-td",[t("color-control",{staticClass:"u-flex u-align-items-center",attrs:{id:"999",color:e.colorNew},on:{"color-selected":function(t){e.colorNew=t}}})],1),t("b-td",{staticClass:"table-actions"},[t("new-status-controls",{staticClass:"u-flex u-gap-small presence-actions",attrs:{isSavingDisabled:!(e.codeNew&&e.titleNew&&e.aliasNew.aliasses>0)},on:{save:e.onSaveNew,cancel:e.onCancelNew}})],1)]},proxy:!0}:null],null,!0)}),e.createNew?e._e():t("div",{staticClass:"m-new"},[t("button",{staticClass:"btn-new-status u-text-no-underline",on:{click:e.onCreateNew}},[t("i",{staticClass:"fa fa-plus",attrs:{"aria-hidden":"true"}}),e._v(" "+e._s(e.$t("new-presence-status")))])]),e.errorData?t("error-display",{on:{close:function(t){e.errorData=null}}},[t("error-message",{attrs:{"error-data":e.errorData}})],1):e._e()],1),t("div",{staticClass:"u-align-self-start"},[t("div",{staticStyle:{"margin-bottom":"15px"}},[t("on-off-switch",{staticStyle:{width:"136px"},attrs:{id:"allow-checkout",checked:e.presence.has_checkout,"on-text":e.$t("checkout"),"off-text":e.$t("no-checkout"),"switch-class":"mod-checkout-choice"},on:{toggle:function(t){e.presence.has_checkout=!e.presence.has_checkout}}})],1),t("div",{style:e.useVerificationIcon?"margin-bottom: 10px":""},[t("button",{staticClass:"btn-check",class:{checked:e.useVerificationIcon},attrs:{"aria-pressed":e.useVerificationIcon?"true":"false","aria-expanded":e.useVerificationIcon?"true":"false"},on:{click:function(t){e.useVerificationIcon=!e.useVerificationIcon}}},[t("span",{staticClass:"lbl-check",attrs:{tabindex:"-1"}},[t("i",{staticClass:"btn-icon-check fa",attrs:{"aria-hidden":"true"}}),e._v(e._s(e.$t("verification-icon")))])])]),t("verification-icon",{directives:[{name:"show",rawName:"v-show",value:e.useVerificationIcon,expression:"useVerificationIcon"}],ref:"verification-icon",attrs:{"icon-data":e.presence.verification_icon_data||null,"use-builder":!0}})],1)]),t("div",{staticClass:"m-save"},[t("save-control",{attrs:{"is-disabled":e.isEditDisabled,"is-saving":e.isSaving},on:{save:function(t){return e.onSave()}}})],1)]):e._e()},i=[];function a(e,t,s,o){var n,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,s):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,s,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(i=(r<3?n(i):r>3?n(t,s,i):n(t,s))||i);return r>3&&i&&Object.defineProperty(t,s,i),i}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var l=o(203),c=o.n(l);
/**
  * vue-class-component v7.2.6
  * (c) 2015-present Evan You
  * @license MIT
  */
function u(e){return u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function d(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function p(e){return h(e)||f(e)||g()}function h(e){if(Array.isArray(e)){for(var t=0,s=new Array(e.length);t<e.length;t++)s[t]=e[t];return s}}function f(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function g(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function y(){return"undefined"!==typeof Reflect&&Reflect.defineMetadata&&Reflect.getOwnMetadataKeys}function v(e,t){m(e,t),Object.getOwnPropertyNames(t.prototype).forEach((function(s){m(e.prototype,t.prototype,s)})),Object.getOwnPropertyNames(t).forEach((function(s){m(e,t,s)}))}function m(e,t,s){var o=s?Reflect.getOwnMetadataKeys(t,s):Reflect.getOwnMetadataKeys(t);o.forEach((function(o){var n=s?Reflect.getOwnMetadata(o,t,s):Reflect.getOwnMetadata(o,t);s?Reflect.defineMetadata(o,n,e,s):Reflect.defineMetadata(o,n,e)}))}var b={__proto__:[]},_=b instanceof Array;function w(e){return function(t,s,o){var n="function"===typeof t?t:t.constructor;n.__decorators__||(n.__decorators__=[]),"number"!==typeof o&&(o=void 0),n.__decorators__.push((function(t){return e(t,s,o)}))}}function S(e){var t=u(e);return null==e||"object"!==t&&"function"!==t}function k(e,t){var s=t.prototype._init;t.prototype._init=function(){var t=this,s=Object.getOwnPropertyNames(e);if(e.$options.props)for(var o in e.$options.props)e.hasOwnProperty(o)||s.push(o);s.forEach((function(s){Object.defineProperty(t,s,{get:function(){return e[s]},set:function(t){e[s]=t},configurable:!0})}))};var o=new t;t.prototype._init=s;var n={};return Object.keys(o).forEach((function(e){void 0!==o[e]&&(n[e]=o[e])})),n}var C=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.name=t.name||e._componentTag||e.name;var s=e.prototype;Object.getOwnPropertyNames(s).forEach((function(e){if("constructor"!==e)if(C.indexOf(e)>-1)t[e]=s[e];else{var o=Object.getOwnPropertyDescriptor(s,e);void 0!==o.value?"function"===typeof o.value?(t.methods||(t.methods={}))[e]=o.value:(t.mixins||(t.mixins=[])).push({data:function(){return d({},e,o.value)}}):(o.get||o.set)&&((t.computed||(t.computed={}))[e]={get:o.get,set:o.set})}})),(t.mixins||(t.mixins=[])).push({data:function(){return k(this,e)}});var o=e.__decorators__;o&&(o.forEach((function(e){return e(t)})),delete e.__decorators__);var n=Object.getPrototypeOf(e.prototype),r=n instanceof c()?n.constructor:c(),i=r.extend(t);return E(i,e,r),y()&&v(i,e),i}var P={prototype:!0,arguments:!0,callee:!0,caller:!0};function E(e,t,s){Object.getOwnPropertyNames(t).forEach((function(o){if(!P[o]){var n=Object.getOwnPropertyDescriptor(e,o);if(!n||n.configurable){var r=Object.getOwnPropertyDescriptor(t,o);if(!_){if("cid"===o)return;var i=Object.getOwnPropertyDescriptor(s,o);if(!S(r.value)&&i&&i.value===r.value)return}0,Object.defineProperty(e,o,r)}}}))}function O(e){return"function"===typeof e?x(e):function(t){return x(t,e)}}O.registerHooks=function(e){C.push.apply(C,p(e))};const D=O;var R="undefined"!==typeof Reflect&&"undefined"!==typeof Reflect.getMetadata;function T(e,t,s){if(R&&!Array.isArray(e)&&"function"!==typeof e&&!e.hasOwnProperty("type")&&"undefined"===typeof e.type){var o=Reflect.getMetadata("design:type",t,s);o!==Object&&(e.type=o)}}function $(e){return void 0===e&&(e={}),function(t,s){T(e,t,s),w((function(t,s){(t.props||(t.props={}))[s]=e}))(t,s)}}function N(e,t){void 0===t&&(t={});var s=t.deep,o=void 0!==s&&s,n=t.immediate,r=void 0!==n&&n;return w((function(t,s){"object"!==typeof t.watch&&(t.watch=Object.create(null));var n=t.watch;"object"!==typeof n[e]||Array.isArray(n[e])?"undefined"===typeof n[e]&&(n[e]=[]):n[e]=[n[e]],n[e].push({handler:s,deep:o,immediate:r})}))}class A{loadPresenceEntriesURL="";loadStatisticsURL="";loadPresenceURL="";updatePresenceURL="";updatePresenceGlobalSelfRegistrationURL="";savePresenceEntryURL="";bulkSavePresenceEntriesURL="";createPresencePeriodURL="";updatePresencePeriodURL="";deletePresencePeriodURL="";loadRegisteredPresenceEntryStatusesURL="";togglePresenceEntryCheckoutURL="";printQrCodeURL="";exportURL="";csrfToken="";constructor(e){Object.assign(this,e)}static from(e){return new A(e)}}function j(e,t){return function(){return e.apply(t,arguments)}}const{toString:F}=Object.prototype,{getPrototypeOf:I}=Object,L=(e=>t=>{const s=F.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),U=e=>(e=e.toLowerCase(),t=>L(t)===e),B=e=>t=>typeof t===e,{isArray:q}=Array,M=B("undefined");function z(e){return null!==e&&!M(e)&&null!==e.constructor&&!M(e.constructor)&&J(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const V=U("ArrayBuffer");function H(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&V(e.buffer),t}const Q=B("string"),J=B("function"),G=B("number"),K=e=>null!==e&&"object"===typeof e,Y=e=>!0===e||!1===e,W=e=>{if("object"!==L(e))return!1;const t=I(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Z=U("Date"),X=U("File"),ee=U("Blob"),te=U("FileList"),se=e=>K(e)&&J(e.pipe),oe=e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||J(e.append)&&("formdata"===(t=L(e))||"object"===t&&J(e.toString)&&"[object FormData]"===e.toString()))},ne=U("URLSearchParams"),re=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ie(e,t,{allOwnKeys:s=!1}={}){if(null===e||"undefined"===typeof e)return;let o,n;if("object"!==typeof e&&(e=[e]),q(e))for(o=0,n=e.length;o<n;o++)t.call(null,e[o],o,e);else{const n=s?Object.getOwnPropertyNames(e):Object.keys(e),r=n.length;let i;for(o=0;o<r;o++)i=n[o],t.call(null,e[i],i,e)}}function ae(e,t){t=t.toLowerCase();const s=Object.keys(e);let o,n=s.length;while(n-- >0)if(o=s[n],t===o.toLowerCase())return o;return null}const le=(()=>"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global)(),ce=e=>!M(e)&&e!==le;function ue(){const{caseless:e}=ce(this)&&this||{},t={},s=(s,o)=>{const n=e&&ae(t,o)||o;W(t[n])&&W(s)?t[n]=ue(t[n],s):W(s)?t[n]=ue({},s):q(s)?t[n]=s.slice():t[n]=s};for(let o=0,n=arguments.length;o<n;o++)arguments[o]&&ie(arguments[o],s);return t}const de=(e,t,s,{allOwnKeys:o}={})=>(ie(t,((t,o)=>{s&&J(t)?e[o]=j(t,s):e[o]=t}),{allOwnKeys:o}),e),pe=e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),he=(e,t,s,o)=>{e.prototype=Object.create(t.prototype,o),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},fe=(e,t,s,o)=>{let n,r,i;const a={};if(t=t||{},null==e)return t;do{n=Object.getOwnPropertyNames(e),r=n.length;while(r-- >0)i=n[r],o&&!o(i,e,t)||a[i]||(t[i]=e[i],a[i]=!0);e=!1!==s&&I(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},ge=(e,t,s)=>{e=String(e),(void 0===s||s>e.length)&&(s=e.length),s-=t.length;const o=e.indexOf(t,s);return-1!==o&&o===s},ye=e=>{if(!e)return null;if(q(e))return e;let t=e.length;if(!G(t))return null;const s=new Array(t);while(t-- >0)s[t]=e[t];return s},ve=(e=>t=>e&&t instanceof e)("undefined"!==typeof Uint8Array&&I(Uint8Array)),me=(e,t)=>{const s=e&&e[Symbol.iterator],o=s.call(e);let n;while((n=o.next())&&!n.done){const s=n.value;t.call(e,s[0],s[1])}},be=(e,t)=>{let s;const o=[];while(null!==(s=e.exec(t)))o.push(s);return o},_e=U("HTMLFormElement"),we=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,s){return t.toUpperCase()+s})),Se=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),ke=U("RegExp"),Ce=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),o={};ie(s,((s,n)=>{let r;!1!==(r=t(s,n,e))&&(o[n]=r||s)})),Object.defineProperties(e,o)},xe=e=>{Ce(e,((t,s)=>{if(J(e)&&-1!==["arguments","caller","callee"].indexOf(s))return!1;const o=e[s];J(o)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")}))}))},Pe=(e,t)=>{const s={},o=e=>{e.forEach((e=>{s[e]=!0}))};return q(e)?o(e):o(String(e).split(t)),s},Ee=()=>{},Oe=(e,t)=>(e=+e,Number.isFinite(e)?e:t),De="abcdefghijklmnopqrstuvwxyz",Re="0123456789",Te={DIGIT:Re,ALPHA:De,ALPHA_DIGIT:De+De.toUpperCase()+Re},$e=(e=16,t=Te.ALPHA_DIGIT)=>{let s="";const{length:o}=t;while(e--)s+=t[Math.random()*o|0];return s};function Ne(e){return!!(e&&J(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])}const Ae=e=>{const t=new Array(10),s=(e,o)=>{if(K(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[o]=e;const n=q(e)?[]:{};return ie(e,((e,t)=>{const r=s(e,o+1);!M(r)&&(n[t]=r)})),t[o]=void 0,n}}return e};return s(e,0)},je=U("AsyncFunction"),Fe=e=>e&&(K(e)||J(e))&&J(e.then)&&J(e.catch),Ie={isArray:q,isArrayBuffer:V,isBuffer:z,isFormData:oe,isArrayBufferView:H,isString:Q,isNumber:G,isBoolean:Y,isObject:K,isPlainObject:W,isUndefined:M,isDate:Z,isFile:X,isBlob:ee,isRegExp:ke,isFunction:J,isStream:se,isURLSearchParams:ne,isTypedArray:ve,isFileList:te,forEach:ie,merge:ue,extend:de,trim:re,stripBOM:pe,inherits:he,toFlatObject:fe,kindOf:L,kindOfTest:U,endsWith:ge,toArray:ye,forEachEntry:me,matchAll:be,isHTMLForm:_e,hasOwnProperty:Se,hasOwnProp:Se,reduceDescriptors:Ce,freezeMethods:xe,toObjectSet:Pe,toCamelCase:we,noop:Ee,toFiniteNumber:Oe,findKey:ae,global:le,isContextDefined:ce,ALPHABET:Te,generateString:$e,isSpecCompliantForm:Ne,toJSONObject:Ae,isAsyncFn:je,isThenable:Fe};function Le(e,t,s,o,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),o&&(this.request=o),n&&(this.response=n)}Ie.inherits(Le,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ie.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Ue=Le.prototype,Be={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{Be[e]={value:e}})),Object.defineProperties(Le,Be),Object.defineProperty(Ue,"isAxiosError",{value:!0}),Le.from=(e,t,s,o,n,r)=>{const i=Object.create(Ue);return Ie.toFlatObject(e,i,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),Le.call(i,e.message,t,s,o,n),i.cause=e,i.name=e.name,r&&Object.assign(i,r),i};const qe=Le,Me=null;function ze(e){return Ie.isPlainObject(e)||Ie.isArray(e)}function Ve(e){return Ie.endsWith(e,"[]")?e.slice(0,-2):e}function He(e,t,s){return e?e.concat(t).map((function(e,t){return e=Ve(e),!s&&t?"["+e+"]":e})).join(s?".":""):t}function Qe(e){return Ie.isArray(e)&&!e.some(ze)}const Je=Ie.toFlatObject(Ie,{},null,(function(e){return/^is[A-Z]/.test(e)}));function Ge(e,t,s){if(!Ie.isObject(e))throw new TypeError("target must be an object");t=t||new(Me||FormData),s=Ie.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Ie.isUndefined(t[e])}));const o=s.metaTokens,n=s.visitor||u,r=s.dots,i=s.indexes,a=s.Blob||"undefined"!==typeof Blob&&Blob,l=a&&Ie.isSpecCompliantForm(t);if(!Ie.isFunction(n))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(Ie.isDate(e))return e.toISOString();if(!l&&Ie.isBlob(e))throw new qe("Blob is not supported. Use a Buffer instead.");return Ie.isArrayBuffer(e)||Ie.isTypedArray(e)?l&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function u(e,s,n){let a=e;if(e&&!n&&"object"===typeof e)if(Ie.endsWith(s,"{}"))s=o?s:s.slice(0,-2),e=JSON.stringify(e);else if(Ie.isArray(e)&&Qe(e)||(Ie.isFileList(e)||Ie.endsWith(s,"[]"))&&(a=Ie.toArray(e)))return s=Ve(s),a.forEach((function(e,o){!Ie.isUndefined(e)&&null!==e&&t.append(!0===i?He([s],o,r):null===i?s:s+"[]",c(e))})),!1;return!!ze(e)||(t.append(He(n,s,r),c(e)),!1)}const d=[],p=Object.assign(Je,{defaultVisitor:u,convertValue:c,isVisitable:ze});function h(e,s){if(!Ie.isUndefined(e)){if(-1!==d.indexOf(e))throw Error("Circular reference detected in "+s.join("."));d.push(e),Ie.forEach(e,(function(e,o){const r=!(Ie.isUndefined(e)||null===e)&&n.call(t,e,Ie.isString(o)?o.trim():o,s,p);!0===r&&h(e,s?s.concat(o):[o])})),d.pop()}}if(!Ie.isObject(e))throw new TypeError("data must be an object");return h(e),t}const Ke=Ge;function Ye(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function We(e,t){this._pairs=[],e&&Ke(e,this,t)}const Ze=We.prototype;Ze.append=function(e,t){this._pairs.push([e,t])},Ze.toString=function(e){const t=e?function(t){return e.call(this,t,Ye)}:Ye;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const Xe=We;function et(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function tt(e,t,s){if(!t)return e;const o=s&&s.encode||et,n=s&&s.serialize;let r;if(r=n?n(t,s):Ie.isURLSearchParams(t)?t.toString():new Xe(t,s).toString(o),r){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}class st{constructor(){this.handlers=[]}use(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!s&&s.synchronous,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ie.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}const ot=st,nt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},rt="undefined"!==typeof URLSearchParams?URLSearchParams:Xe,it="undefined"!==typeof FormData?FormData:null,at="undefined"!==typeof Blob?Blob:null,lt={isBrowser:!0,classes:{URLSearchParams:rt,FormData:it,Blob:at},protocols:["http","https","file","blob","url","data"]},ct="undefined"!==typeof window&&"undefined"!==typeof document,ut=(e=>ct&&["ReactNative","NativeScript","NS"].indexOf(e)<0)("undefined"!==typeof navigator&&navigator.product),dt=(()=>"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts)(),pt={...e,...lt};function ht(e,t){return Ke(e,new pt.classes.URLSearchParams,Object.assign({visitor:function(e,t,s,o){return pt.isNode&&Ie.isBuffer(e)?(this.append(t,e.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function ft(e){return Ie.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}function gt(e){const t={},s=Object.keys(e);let o;const n=s.length;let r;for(o=0;o<n;o++)r=s[o],t[r]=e[r];return t}function yt(e){function t(e,s,o,n){let r=e[n++];const i=Number.isFinite(+r),a=n>=e.length;if(r=!r&&Ie.isArray(o)?o.length:r,a)return Ie.hasOwnProp(o,r)?o[r]=[o[r],s]:o[r]=s,!i;o[r]&&Ie.isObject(o[r])||(o[r]=[]);const l=t(e,s,o[r],n);return l&&Ie.isArray(o[r])&&(o[r]=gt(o[r])),!i}if(Ie.isFormData(e)&&Ie.isFunction(e.entries)){const s={};return Ie.forEachEntry(e,((e,o)=>{t(ft(e),o,s,0)})),s}return null}const vt=yt;function mt(e,t,s){if(Ie.isString(e))try{return(t||JSON.parse)(e),Ie.trim(e)}catch(o){if("SyntaxError"!==o.name)throw o}return(s||JSON.stringify)(e)}const bt={transitional:nt,adapter:["xhr","http"],transformRequest:[function(e,t){const s=t.getContentType()||"",o=s.indexOf("application/json")>-1,n=Ie.isObject(e);n&&Ie.isHTMLForm(e)&&(e=new FormData(e));const r=Ie.isFormData(e);if(r)return o&&o?JSON.stringify(vt(e)):e;if(Ie.isArrayBuffer(e)||Ie.isBuffer(e)||Ie.isStream(e)||Ie.isFile(e)||Ie.isBlob(e))return e;if(Ie.isArrayBufferView(e))return e.buffer;if(Ie.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(n){if(s.indexOf("application/x-www-form-urlencoded")>-1)return ht(e,this.formSerializer).toString();if((i=Ie.isFileList(e))||s.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Ke(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return n||o?(t.setContentType("application/json",!1),mt(e)):e}],transformResponse:[function(e){const t=this.transitional||bt.transitional,s=t&&t.forcedJSONParsing,o="json"===this.responseType;if(e&&Ie.isString(e)&&(s&&!this.responseType||o)){const s=t&&t.silentJSONParsing,r=!s&&o;try{return JSON.parse(e)}catch(n){if(r){if("SyntaxError"===n.name)throw qe.from(n,qe.ERR_BAD_RESPONSE,this,null,this.response);throw n}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:pt.classes.FormData,Blob:pt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ie.forEach(["delete","get","head","post","put","patch"],(e=>{bt.headers[e]={}}));const _t=bt,wt=Ie.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),St=e=>{const t={};let s,o,n;return e&&e.split("\n").forEach((function(e){n=e.indexOf(":"),s=e.substring(0,n).trim().toLowerCase(),o=e.substring(n+1).trim(),!s||t[s]&&wt[s]||("set-cookie"===s?t[s]?t[s].push(o):t[s]=[o]:t[s]=t[s]?t[s]+", "+o:o)})),t},kt=Symbol("internals");function Ct(e){return e&&String(e).trim().toLowerCase()}function xt(e){return!1===e||null==e?e:Ie.isArray(e)?e.map(xt):String(e)}function Pt(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;while(o=s.exec(e))t[o[1]]=o[2];return t}const Et=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Ot(e,t,s,o,n){return Ie.isFunction(o)?o.call(this,t,s):(n&&(t=s),Ie.isString(t)?Ie.isString(o)?-1!==t.indexOf(o):Ie.isRegExp(o)?o.test(t):void 0:void 0)}function Dt(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,s)=>t.toUpperCase()+s))}function Rt(e,t){const s=Ie.toCamelCase(" "+t);["get","set","has"].forEach((o=>{Object.defineProperty(e,o+s,{value:function(e,s,n){return this[o].call(this,t,e,s,n)},configurable:!0})}))}class Tt{constructor(e){e&&this.set(e)}set(e,t,s){const o=this;function n(e,t,s){const n=Ct(t);if(!n)throw new Error("header name must be a non-empty string");const r=Ie.findKey(o,n);(!r||void 0===o[r]||!0===s||void 0===s&&!1!==o[r])&&(o[r||t]=xt(e))}const r=(e,t)=>Ie.forEach(e,((e,s)=>n(e,s,t)));return Ie.isPlainObject(e)||e instanceof this.constructor?r(e,t):Ie.isString(e)&&(e=e.trim())&&!Et(e)?r(St(e),t):null!=e&&n(t,e,s),this}get(e,t){if(e=Ct(e),e){const s=Ie.findKey(this,e);if(s){const e=this[s];if(!t)return e;if(!0===t)return Pt(e);if(Ie.isFunction(t))return t.call(this,e,s);if(Ie.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Ct(e),e){const s=Ie.findKey(this,e);return!(!s||void 0===this[s]||t&&!Ot(this,this[s],s,t))}return!1}delete(e,t){const s=this;let o=!1;function n(e){if(e=Ct(e),e){const n=Ie.findKey(s,e);!n||t&&!Ot(s,s[n],n,t)||(delete s[n],o=!0)}}return Ie.isArray(e)?e.forEach(n):n(e),o}clear(e){const t=Object.keys(this);let s=t.length,o=!1;while(s--){const n=t[s];e&&!Ot(this,this[n],n,e,!0)||(delete this[n],o=!0)}return o}normalize(e){const t=this,s={};return Ie.forEach(this,((o,n)=>{const r=Ie.findKey(s,n);if(r)return t[r]=xt(o),void delete t[n];const i=e?Dt(n):String(n).trim();i!==n&&delete t[n],t[i]=xt(o),s[i]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Ie.forEach(this,((s,o)=>{null!=s&&!1!==s&&(t[o]=e&&Ie.isArray(s)?s.join(", "):s)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const s=new this(e);return t.forEach((e=>s.set(e))),s}static accessor(e){const t=this[kt]=this[kt]={accessors:{}},s=t.accessors,o=this.prototype;function n(e){const t=Ct(e);s[t]||(Rt(o,e),s[t]=!0)}return Ie.isArray(e)?e.forEach(n):n(e),this}}Tt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Ie.reduceDescriptors(Tt.prototype,(({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[s]=e}}})),Ie.freezeMethods(Tt);const $t=Tt;function Nt(e,t){const s=this||_t,o=t||s,n=$t.from(o.headers);let r=o.data;return Ie.forEach(e,(function(e){r=e.call(s,r,n.normalize(),t?t.status:void 0)})),n.normalize(),r}function At(e){return!(!e||!e.__CANCEL__)}function jt(e,t,s){qe.call(this,null==e?"canceled":e,qe.ERR_CANCELED,t,s),this.name="CanceledError"}Ie.inherits(jt,qe,{__CANCEL__:!0});const Ft=jt;function It(e,t,s){const o=s.config.validateStatus;s.status&&o&&!o(s.status)?t(new qe("Request failed with status code "+s.status,[qe.ERR_BAD_REQUEST,qe.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s)):e(s)}const Lt=pt.hasStandardBrowserEnv?{write(e,t,s,o,n,r){const i=[e+"="+encodeURIComponent(t)];Ie.isNumber(s)&&i.push("expires="+new Date(s).toGMTString()),Ie.isString(o)&&i.push("path="+o),Ie.isString(n)&&i.push("domain="+n),!0===r&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Ut(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Bt(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function qt(e,t){return e&&!Ut(t)?Bt(e,t):t}const Mt=pt.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let s;function o(s){let o=s;return e&&(t.setAttribute("href",o),o=t.href),t.setAttribute("href",o),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return s=o(window.location.href),function(e){const t=Ie.isString(e)?o(e):e;return t.protocol===s.protocol&&t.host===s.host}}():function(){return function(){return!0}}();function zt(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Vt(e,t){e=e||10;const s=new Array(e),o=new Array(e);let n,r=0,i=0;return t=void 0!==t?t:1e3,function(a){const l=Date.now(),c=o[i];n||(n=l),s[r]=a,o[r]=l;let u=i,d=0;while(u!==r)d+=s[u++],u%=e;if(r=(r+1)%e,r===i&&(i=(i+1)%e),l-n<t)return;const p=c&&l-c;return p?Math.round(1e3*d/p):void 0}}const Ht=Vt;function Qt(e,t){let s=0;const o=Ht(50,250);return n=>{const r=n.loaded,i=n.lengthComputable?n.total:void 0,a=r-s,l=o(a),c=r<=i;s=r;const u={loaded:r,total:i,progress:i?r/i:void 0,bytes:a,rate:l||void 0,estimated:l&&i&&c?(i-r)/l:void 0,event:n};u[t?"download":"upload"]=!0,e(u)}}const Jt="undefined"!==typeof XMLHttpRequest,Gt=Jt&&function(e){return new Promise((function(t,s){let o=e.data;const n=$t.from(e.headers).normalize();let r,i,{responseType:a,withXSRFToken:l}=e;function c(){e.cancelToken&&e.cancelToken.unsubscribe(r),e.signal&&e.signal.removeEventListener("abort",r)}if(Ie.isFormData(o))if(pt.hasStandardBrowserEnv||pt.hasStandardBrowserWebWorkerEnv)n.setContentType(!1);else if(!1!==(i=n.getContentType())){const[e,...t]=i?i.split(";").map((e=>e.trim())).filter(Boolean):[];n.setContentType([e||"multipart/form-data",...t].join("; "))}let u=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",s=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";n.set("Authorization","Basic "+btoa(t+":"+s))}const d=qt(e.baseURL,e.url);function p(){if(!u)return;const o=$t.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders()),n=a&&"text"!==a&&"json"!==a?u.response:u.responseText,r={data:n,status:u.status,statusText:u.statusText,headers:o,config:e,request:u};It((function(e){t(e),c()}),(function(e){s(e),c()}),r),u=null}if(u.open(e.method.toUpperCase(),tt(d,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,"onloadend"in u?u.onloadend=p:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(p)},u.onabort=function(){u&&(s(new qe("Request aborted",qe.ECONNABORTED,e,u)),u=null)},u.onerror=function(){s(new qe("Network Error",qe.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const o=e.transitional||nt;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),s(new qe(t,o.clarifyTimeoutError?qe.ETIMEDOUT:qe.ECONNABORTED,e,u)),u=null},pt.hasStandardBrowserEnv&&(l&&Ie.isFunction(l)&&(l=l(e)),l||!1!==l&&Mt(d))){const t=e.xsrfHeaderName&&e.xsrfCookieName&&Lt.read(e.xsrfCookieName);t&&n.set(e.xsrfHeaderName,t)}void 0===o&&n.setContentType(null),"setRequestHeader"in u&&Ie.forEach(n.toJSON(),(function(e,t){u.setRequestHeader(t,e)})),Ie.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),a&&"json"!==a&&(u.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&u.addEventListener("progress",Qt(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",Qt(e.onUploadProgress)),(e.cancelToken||e.signal)&&(r=t=>{u&&(s(!t||t.type?new Ft(null,e,u):t),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(r),e.signal&&(e.signal.aborted?r():e.signal.addEventListener("abort",r)));const h=zt(d);h&&-1===pt.protocols.indexOf(h)?s(new qe("Unsupported protocol "+h+":",qe.ERR_BAD_REQUEST,e)):u.send(o||null)}))},Kt={http:Me,xhr:Gt};Ie.forEach(Kt,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(s){}Object.defineProperty(e,"adapterName",{value:t})}}));const Yt=e=>`- ${e}`,Wt=e=>Ie.isFunction(e)||null===e||!1===e,Zt={getAdapter:e=>{e=Ie.isArray(e)?e:[e];const{length:t}=e;let s,o;const n={};for(let r=0;r<t;r++){let t;if(s=e[r],o=s,!Wt(s)&&(o=Kt[(t=String(s)).toLowerCase()],void 0===o))throw new qe(`Unknown adapter '${t}'`);if(o)break;n[t||"#"+r]=o}if(!o){const e=Object.entries(n).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));let s=t?e.length>1?"since :\n"+e.map(Yt).join("\n"):" "+Yt(e[0]):"as no adapter specified";throw new qe("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return o},adapters:Kt};function Xt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ft(null,e)}function es(e){Xt(e),e.headers=$t.from(e.headers),e.data=Nt.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);const t=Zt.getAdapter(e.adapter||_t.adapter);return t(e).then((function(t){return Xt(e),t.data=Nt.call(e,e.transformResponse,t),t.headers=$t.from(t.headers),t}),(function(t){return At(t)||(Xt(e),t&&t.response&&(t.response.data=Nt.call(e,e.transformResponse,t.response),t.response.headers=$t.from(t.response.headers))),Promise.reject(t)}))}const ts=e=>e instanceof $t?e.toJSON():e;function ss(e,t){t=t||{};const s={};function o(e,t,s){return Ie.isPlainObject(e)&&Ie.isPlainObject(t)?Ie.merge.call({caseless:s},e,t):Ie.isPlainObject(t)?Ie.merge({},t):Ie.isArray(t)?t.slice():t}function n(e,t,s){return Ie.isUndefined(t)?Ie.isUndefined(e)?void 0:o(void 0,e,s):o(e,t,s)}function r(e,t){if(!Ie.isUndefined(t))return o(void 0,t)}function i(e,t){return Ie.isUndefined(t)?Ie.isUndefined(e)?void 0:o(void 0,e):o(void 0,t)}function a(s,n,r){return r in t?o(s,n):r in e?o(void 0,s):void 0}const l={url:r,method:r,data:r,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:a,headers:(e,t)=>n(ts(e),ts(t),!0)};return Ie.forEach(Object.keys(Object.assign({},e,t)),(function(o){const r=l[o]||n,i=r(e[o],t[o],o);Ie.isUndefined(i)&&r!==a||(s[o]=i)})),s}const os="1.6.2",ns={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{ns[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}}));const rs={};function is(e,t,s){if("object"!==typeof e)throw new qe("options must be an object",qe.ERR_BAD_OPTION_VALUE);const o=Object.keys(e);let n=o.length;while(n-- >0){const r=o[n],i=t[r];if(i){const t=e[r],s=void 0===t||i(t,r,e);if(!0!==s)throw new qe("option "+r+" must be "+s,qe.ERR_BAD_OPTION_VALUE)}else if(!0!==s)throw new qe("Unknown option "+r,qe.ERR_BAD_OPTION)}}ns.transitional=function(e,t,s){function o(e,t){return"[Axios v"+os+"] Transitional option '"+e+"'"+t+(s?". "+s:"")}return(s,n,r)=>{if(!1===e)throw new qe(o(n," has been removed"+(t?" in "+t:"")),qe.ERR_DEPRECATED);return t&&!rs[n]&&(rs[n]=!0,console.warn(o(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(s,n,r)}};const as={assertOptions:is,validators:ns},ls=as.validators;class cs{constructor(e){this.defaults=e,this.interceptors={request:new ot,response:new ot}}request(e,t){"string"===typeof e?(t=t||{},t.url=e):t=e||{},t=ss(this.defaults,t);const{transitional:s,paramsSerializer:o,headers:n}=t;void 0!==s&&as.assertOptions(s,{silentJSONParsing:ls.transitional(ls.boolean),forcedJSONParsing:ls.transitional(ls.boolean),clarifyTimeoutError:ls.transitional(ls.boolean)},!1),null!=o&&(Ie.isFunction(o)?t.paramsSerializer={serialize:o}:as.assertOptions(o,{encode:ls.function,serialize:ls.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let r=n&&Ie.merge(n.common,n[t.method]);n&&Ie.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete n[e]})),t.headers=$t.concat(r,n);const i=[];let a=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,i.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,d=0;if(!a){const e=[es.bind(this),void 0];e.unshift.apply(e,i),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);while(d<u)c=c.then(e[d++],e[d++]);return c}u=i.length;let p=t;d=0;while(d<u){const e=i[d++],t=i[d++];try{p=e(p)}catch(h){t.call(this,h);break}}try{c=es.call(this,p)}catch(h){return Promise.reject(h)}d=0,u=l.length;while(d<u)c=c.then(l[d++],l[d++]);return c}getUri(e){e=ss(this.defaults,e);const t=qt(e.baseURL,e.url);return tt(t,e.params,e.paramsSerializer)}}Ie.forEach(["delete","get","head","options"],(function(e){cs.prototype[e]=function(t,s){return this.request(ss(s||{},{method:e,url:t,data:(s||{}).data}))}})),Ie.forEach(["post","put","patch"],(function(e){function t(t){return function(s,o,n){return this.request(ss(n||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}cs.prototype[e]=t(),cs.prototype[e+"Form"]=t(!0)}));const us=cs;class ds{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const s=this;this.promise.then((e=>{if(!s._listeners)return;let t=s._listeners.length;while(t-- >0)s._listeners[t](e);s._listeners=null})),this.promise.then=e=>{let t;const o=new Promise((e=>{s.subscribe(e),t=e})).then(e);return o.cancel=function(){s.unsubscribe(t)},o},e((function(e,o,n){s.reason||(s.reason=new Ft(e,o,n),t(s.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;const t=new ds((function(t){e=t}));return{token:t,cancel:e}}}const ps=ds;function hs(e){return function(t){return e.apply(null,t)}}function fs(e){return Ie.isObject(e)&&!0===e.isAxiosError}const gs={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(gs).forEach((([e,t])=>{gs[t]=e}));const ys=gs;function vs(e){const t=new us(e),s=j(us.prototype.request,t);return Ie.extend(s,us.prototype,t,{allOwnKeys:!0}),Ie.extend(s,t,null,{allOwnKeys:!0}),s.create=function(t){return vs(ss(e,t))},s}const ms=vs(_t);ms.Axios=us,ms.CanceledError=Ft,ms.CancelToken=ps,ms.isCancel=At,ms.VERSION=os,ms.toFormData=Ke,ms.AxiosError=qe,ms.Cancel=ms.CanceledError,ms.all=function(e){return Promise.all(e)},ms.spread=hs,ms.isAxiosError=fs,ms.mergeConfig=ss,ms.AxiosHeaders=$t,ms.formToJSON=e=>vt(Ie.isHTMLForm(e)?new FormData(e):e),ms.getAdapter=Zt.getAdapter,ms.HttpStatusCode=ys,ms.default=ms;const bs=ms;var _s=o(781);const ws=30;class Ss{apiConfig;queue=new _s.Z({concurrency:1});_isSaving=!1;errorListeners=[];constructor(e){this.apiConfig=e,this.finishSaving=this.finishSaving.bind(this)}addErrorListener(e){this.errorListeners.push(e)}removeErrorListener(e){const t=this.errorListeners.indexOf(e);t>=0&&this.errorListeners.splice(t,1)}get processingSize(){return this.queue.pending+this.queue.size}get isSaving(){return this._isSaving}beginSaving(){this._isSaving=!0}finishSaving(){this._isSaving=!1}async createResultPeriod(e=void 0){this.addToQueue((async()=>{const t=await this.executeAPIRequest(this.apiConfig.createPresencePeriodURL);return e&&e(t),t}))}async loadPresenceEntries(e){const t=await bs.get(this.apiConfig.loadPresenceEntriesURL,{params:e});return t.data}async loadStatistics(){const e=await bs.get(this.apiConfig.loadStatisticsURL);return e.data}async loadPresence(){const e=await bs.get(this.apiConfig.loadPresenceURL);return e.data}async updatePresence(e,t,s,o,n=void 0){this.addToQueue((async()=>{const r={data:JSON.stringify({id:e,statuses:t,has_checkout:s,verification_icon_data:o})},i=await this.executeAPIRequest(this.apiConfig.updatePresenceURL,r);return n&&n(i),i}))}async updatePresenceGlobalSelfRegistration(e,t,s=void 0){this.addToQueue((async()=>{const o={data:JSON.stringify({id:e,self_registration_disabled:t})},n=await this.executeAPIRequest(this.apiConfig.updatePresenceGlobalSelfRegistrationURL,o);return s&&s(n),n}))}async loadRegisteredPresenceEntryStatuses(){const e=await bs.get(this.apiConfig.loadRegisteredPresenceEntryStatusesURL);return e.data}async updatePresencePeriod(e,t,s,o=void 0){this.addToQueue((async()=>{const n={period_id:e,period_label:t,period_self_registration_disabled:s},r=await this.executeAPIRequest(this.apiConfig.updatePresencePeriodURL,n);return o&&o(r),r}))}async deletePresencePeriod(e,t=void 0){this.addToQueue((async()=>{const s={period_id:e},o=await this.executeAPIRequest(this.apiConfig.deletePresencePeriodURL,s);return t&&t(o),o}))}async savePresenceEntry(e,t,s,o=void 0){this.addToQueue((async()=>{const n={period_id:e,user_id:t,status_id:s},r=await this.executeAPIRequest(this.apiConfig.savePresenceEntryURL,n);return o&&o(r),r}))}async bulkSavePresenceEntries(e,t,s=void 0){this.addToQueue((async()=>{const o={period_id:e,status_id:t},n=await this.executeAPIRequest(this.apiConfig.bulkSavePresenceEntriesURL,o);return s&&s(n),n}))}async togglePresenceEntryCheckout(e,t,s=void 0){this.addToQueue((async()=>{const o={period_id:e,user_id:t},n=await this.executeAPIRequest(this.apiConfig.togglePresenceEntryCheckoutURL,o);return s&&s(n),n}))}addToQueue(e){this.queue.add((async()=>{await e()})),this.queue.onIdle().then(this.finishSaving)}async executeAPIRequest(e,t={}){this.beginSaving();const s=new FormData;this.apiConfig.csrfToken&&s.set("_csrf_token",this.apiConfig.csrfToken);for(const[n,r]of Object.entries(t))s.set(n,r);try{const t=await bs.post(e,s,{timeout:1e3*ws});if("object"===typeof t.data)return t.data;throw"string"===typeof t.data&&-1!==t.data.indexOf("formLogin")?{type:"LoggedOut"}:{type:"Unknown"}}catch(o){let e;e=o?.isAxiosError&&-1!==o.message?.toLowerCase().indexOf("timeout")?{type:"Timeout"}:o?.response?.data?.error?o.response.data.error:o?.type?o:{type:"Unknown"},this.errorListeners.forEach((t=>t.setError(e)))}}}var ks=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.isEditable?t("b-input",{staticClass:"mod-input mod-trans mod-pad",attrs:{type:"text",required:"",autocomplete:"off",disabled:e.disabled},on:{focus:function(t){return e.$emit("select")}},model:{value:e.status.title,callback:function(t){e.$set(e.status,"title",t)},expression:"status.title"}}):t("span",[e._v(e._s(e.statusTitle))])},Cs=[];let xs=class extends(c()){status;statusTitle;disabled;isEditable};a([$({type:Object,required:!0})],xs.prototype,"status",void 0),a([$({type:String,default:""})],xs.prototype,"statusTitle",void 0),a([$({type:Boolean,default:!1})],xs.prototype,"disabled",void 0),a([$({type:Boolean,default:!0})],xs.prototype,"isEditable",void 0),xs=a([D({name:"title-control"})],xs);const Ps=xs,Es=Ps;function Os(e,t,s,o,n,r,i,a){var l,c="function"===typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=s,c._compiled=!0),o&&(c.functional=!0),r&&(c._scopeId="data-v-"+r),i?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},c._ssrRegister=l):n&&(l=a?function(){n.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:n),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:c}}var Ds=Os(Es,ks,Cs,!1,null,null,null);const Rs=Ds.exports;var Ts=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.isEditable?t("select",{directives:[{name:"model",rawName:"v-model",value:e.status.aliasses,expression:"status.aliasses"}],staticClass:"form-control mod-trans mod-select",attrs:{disabled:e.isSelectDisabled},on:{focus:function(t){return e.$emit("select")},change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.status,"aliasses",t.target.multiple?s:s[0])}}},e._l(e.fixedStatusDefaults,(function(s,o){return t("option",{key:`fs-${o}`,domProps:{value:s.id}},[e._v(e._s(s.title))])})),0):t("span",[e._v(e._s(e.aliasTitle))])},$s=[];let Ns=class extends(c()){fixedStatusDefaults;status;aliasTitle;isSelectDisabled;isEditable};a([$({type:Array,default:()=>[]})],Ns.prototype,"fixedStatusDefaults",void 0),a([$({type:Object,required:!0})],Ns.prototype,"status",void 0),a([$({type:String,default:""})],Ns.prototype,"aliasTitle",void 0),a([$({type:Boolean,default:!1})],Ns.prototype,"isSelectDisabled",void 0),a([$({type:Boolean,default:!0})],Ns.prototype,"isEditable",void 0),Ns=a([D({name:"alias-control"})],Ns);const As=Ns,js=As;var Fs=Os(js,Ts,$s,!1,null,null,null);const Is=Fs.exports;var Ls=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("button",{staticClass:"btn-color",class:[{"is-selected":e.selected},e.color],attrs:{id:`color-${e.id}`,disabled:e.disabled},on:{focus:function(t){return e.$emit("select")}}}),t("color-picker",{attrs:{target:`color-${e.id}`,"selected-color":e.color,triggers:"click blur",placement:"right"},on:{"color-selected":function(t){return e.$emit("color-selected",t)}}})],1)},Us=[],Bs=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("b-popover",{attrs:{target:e.target,triggers:e.triggers,placement:e.placement}},[t("div",{staticClass:"presence-swatches"},[e._l(e.variants,(function(s){return[e._l(e.colors,(function(o){return[t("button",{key:`color-swatch-${o}-${s}`,class:[`btn-color mod-swatch ${o}-${s}`,{"is-selected":e.selectedColor===`${o}-${s}`}],on:{click:function(t){return t.stopPropagation(),e.$emit("color-selected",`${o}-${s}`)}}})]}))]}))],2)])},qs=[];let Ms=class extends(c()){variants=[100,300,500,700,900];colors=["pink","blue","cyan","teal","green","light-green","lime","yellow","amber","deep-orange","grey"];target;triggers;placement;selectedColor};a([$({type:String,required:!0})],Ms.prototype,"target",void 0),a([$({type:String,default:"click"})],Ms.prototype,"triggers",void 0),a([$({type:String,default:"bottom"})],Ms.prototype,"placement",void 0),a([$({type:String,default:""})],Ms.prototype,"selectedColor",void 0),Ms=a([D({name:"color-picker"})],Ms);const zs=Ms,Vs=zs;var Hs=Os(Vs,Bs,qs,!1,null,null,null);const Qs=Hs.exports;let Js=class extends(c()){id;disabled;selected;color};a([$({type:Number,default:0})],Js.prototype,"id",void 0),a([$({type:Boolean,default:!1})],Js.prototype,"disabled",void 0),a([$({type:Boolean,default:!1})],Js.prototype,"selected",void 0),a([$({type:String,default:""})],Js.prototype,"color",void 0),Js=a([D({name:"color-control",components:{ColorPicker:Qs}})],Js);const Gs=Js,Ks=Gs;var Ys=Os(Ks,Ls,Us,!1,null,null,null);const Ws=Ys.exports;var Zs=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("button",{staticClass:"btn btn-default btn-sm mod-status-action",attrs:{id:`btn-up-${e.id}`,title:e.$t("move-up"),disabled:e.isUpDisabled},on:{click:function(t){return t.stopPropagation(),e.$emit("move-up")},focus:function(t){return e.$emit("select")}}},[t("i",{staticClass:"fa fa-arrow-up",attrs:{"aria-hidden":"true"}}),t("span",{staticClass:"sr-only"},[e._v(e._s(e.$t("move-up")))])]),t("button",{staticClass:"btn btn-default btn-sm mod-status-action",attrs:{id:`btn-down-${e.id}`,title:e.$t("move-down"),disabled:e.isDownDisabled},on:{click:function(t){return t.stopPropagation(),e.$emit("move-down")},focus:function(t){return e.$emit("select")}}},[t("i",{staticClass:"fa fa-arrow-down",attrs:{"aria-hidden":"true"}}),t("span",{staticClass:"sr-only"},[e._v(e._s(e.$t("move-down")))])]),t("button",{staticClass:"btn btn-default btn-sm mod-status-action mod-remove",attrs:{title:e.$t("remove"),disabled:e.isRemoveDisabled},on:{click:function(t){return t.stopPropagation(),e.$emit("remove")},focus:function(t){return e.$emit("select")}}},[t("i",{staticClass:"fa fa-minus-circle",attrs:{"aria-hidden":"true"}}),t("span",{staticClass:"sr-only"},[e._v(e._s(e.$t("remove")))])])])},Xs=[];let eo=class extends(c()){id;isUpDisabled;isDownDisabled;isRemoveDisabled};a([$({type:Number,default:0})],eo.prototype,"id",void 0),a([$({type:Boolean,default:!1})],eo.prototype,"isUpDisabled",void 0),a([$({type:Boolean,default:!1})],eo.prototype,"isDownDisabled",void 0),a([$({type:Boolean,default:!1})],eo.prototype,"isRemoveDisabled",void 0),eo=a([D({name:"selection-controls"})],eo);const to=eo,so=to;var oo=o(120),no=o.n(oo);const ro=no();var io=Os(so,Zs,Xs,!1,null,null,null);"function"===typeof ro&&ro(io);const ao=io.exports;var lo=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("button",{staticClass:"btn btn-default btn-sm mod-status-action",attrs:{title:e.$t("save"),disabled:e.isSavingDisabled},on:{click:function(t){return t.stopPropagation(),e.$emit("save")}}},[t("i",{staticClass:"fa fa-check-circle",attrs:{"aria-hidden":"true"}}),t("span",{staticClass:"sr-only"},[e._v(e._s(e.$t("save")))])]),t("button",{staticClass:"btn btn-default btn-sm mod-status-action mod-cancel",attrs:{title:e.$t("cancel")},on:{click:function(t){return t.stopPropagation(),e.$emit("cancel")}}},[t("i",{staticClass:"fa fa-minus-circle",attrs:{"aria-hidden":"true"}}),t("span",{staticClass:"sr-only"},[e._v(e._s(e.$t("cancel")))])])])},co=[];let uo=class extends(c()){isSavingDisabled};a([$({type:Boolean,default:!1})],uo.prototype,"isSavingDisabled",void 0),uo=a([D({name:"new-status-controls"})],uo);const po=uo,ho=po;var fo=o(898),go=o.n(fo);const yo=go();var vo=Os(ho,lo,co,!1,null,null,null);"function"===typeof yo&&yo(vo);const mo=vo.exports;var bo=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("b-tr",[t("b-th",{staticClass:"u-font-normal"},[e._v(e._s(e.$t("display")))]),t("b-th",{attrs:{colspan:"3"}},[t("div",{staticClass:"u-flex u-gap-small u-flex-wrap",staticStyle:{padding:"4px 0"}},e._l(e.presenceStatuses,(function(s,o){return t("div",{key:`status-${o}`,staticClass:"color-code",class:[s.color]},[t("span",[e._v(e._s(s.code))])])})),0)])],1)},_o=[];let wo=class extends(c()){presenceStatuses};a([$({type:Array,default:()=>[]})],wo.prototype,"presenceStatuses",void 0),wo=a([D({name:"selection-preview"})],wo);const So=wo,ko=So;var Co=o(822),xo=o.n(Co);const Po=xo();var Eo=Os(ko,bo,_o,!1,null,null,null);"function"===typeof Po&&Po(Eo);const Oo=Eo.exports;var Do=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("button",{staticClass:"btn btn-primary mod-presence-save",attrs:{disabled:e.isSaving||e.isDisabled},on:{click:function(t){return e.$emit("save")}}},[e.isSaving?t("div",{staticClass:"glyphicon glyphicon-repeat glyphicon-spin"}):e._e(),e._v(" "+e._s(e.$t("save"))+" ")])},Ro=[];let To=class extends(c()){isSaving;isDisabled};a([$({type:Boolean,default:!1})],To.prototype,"isSaving",void 0),a([$({type:Boolean,default:!1})],To.prototype,"isDisabled",void 0),To=a([D({name:"save-control"})],To);const $o=To,No=$o;var Ao=o(859),jo=o.n(Ao);const Fo=jo();var Io=Os(No,Do,Ro,!1,null,null,null);"function"===typeof Fo&&Fo(Io);const Lo=Io.exports;var Uo=function(){var e=this,t=e._self._c;e._self._setupProxy;return"NoTitleGiven"===e.errorData.type?t("span",[e._v(" "+e._s(e.$t("error-NoTitleGiven"))+" "),t("span",{staticClass:"u-block"},[e._v(e._s(e.errorData.status))]),e._v(" "+e._s(e.$t("changes-not-saved"))+" ")]):e.errorData.status?t("span",[e._v(e._s(e.$t("error-"+e.errorData.type,{title:e.errorData.status.title}))+" "+e._s(e.$t("changes-not-saved")))]):t("span",[e._v(e._s(e.$t("error-"+e.errorData.type)))])},Bo=[];let qo=class extends(c()){errorData};a([$({type:Object,required:!0})],qo.prototype,"errorData",void 0),qo=a([D({name:"error-message"})],qo);const Mo=qo,zo=Mo;var Vo=o(991),Ho=o.n(Vo);const Qo=Ho();var Jo=Os(zo,Uo,Bo,!1,null,null,null);"function"===typeof Qo&&Qo(Jo);const Go=Jo.exports;var Ko=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticStyle:{display:"contents"}},[t("div",{staticClass:"modal-overlay"}),t("div",{staticClass:"save-error u-flex u-justify-content-center"},[t("div",{staticClass:"save-error-inner"},[t("div",{staticClass:"errors-important u-flex u-align-items-baseline"},[t("i",{staticClass:"fa fa-exclamation-circle mod-icon"}),t("div",[e._t("default"),t("div",{staticStyle:{"text-align":"center","margin-top":"5px"}},[t("button",{staticClass:"btn btn-success btn-sm",staticStyle:{padding:"3px 10px"},on:{click:function(t){return e.$emit("close")}}},[e._v("OK")])])],2)])])])])},Yo=[];let Wo=class extends(c()){};Wo=a([D({name:"error-display"})],Wo);const Zo=Wo,Xo=Zo;var en=Os(Xo,Ko,Yo,!1,null,null,null);const tn=en.exports;var sn=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{class:{"u-flex u-gap-small-2x m-fill":e.useBuilder}},[e.useBuilder?t("div",{staticClass:"u-flex u-gap-small-2x u-flex-wrap shapes-mw"},[t("verification-shape",{attrs:{selected:e.isRect},on:{click:function(t){e.shape="r"}}},[t("rect",{attrs:{x:"-25",y:"-25",width:"50",height:"50",fill:"var(--fillcolor)"}})]),t("verification-shape",{attrs:{selected:e.isCircle},on:{click:function(t){e.shape="c"}}},[t("circle",{attrs:{cx:"0",cy:"0",r:"25",fill:"var(--fillcolor)"}})]),t("verification-shape",{attrs:{selected:"p11"===e.shape},on:{click:function(t){e.shape="p11"}}},[t("polygon",{attrs:{points:"25,-25 25,25 -25,25",fill:"var(--fillcolor)"}})]),t("verification-shape",{attrs:{selected:"p01"===e.shape},on:{click:function(t){e.shape="p01"}}},[t("polygon",{attrs:{points:"-25,-25 25,25 -25,25",fill:"var(--fillcolor)"}})]),t("verification-shape",{attrs:{selected:"p10"===e.shape},on:{click:function(t){e.shape="p10"}}},[t("polygon",{attrs:{points:"25,-25 25,25 -25,-25",fill:"var(--fillcolor)"}})]),t("verification-shape",{attrs:{selected:"p00"===e.shape},on:{click:function(t){e.shape="p00"}}},[t("polygon",{attrs:{points:"25,-25 -25,25 -25,-25",fill:"var(--fillcolor)"}})])],1):e._e(),e.useBuilder?t("div",{staticClass:"u-flex u-gap-small-2x u-flex-wrap u-justify-content-space-between colors-mw"},[e._l(e.colors,(function(s,o){return t("div",{key:`vc-${o}`,staticClass:"verification-color u-flex u-align-items-center u-justify-content-center",style:`--color: ${s}`,on:{click:function(t){e.colorIndex=o}}},[o===e.colorIndex?t("span",{staticClass:"verification-color-check"},[t("i",{staticClass:"fa fa-check"})]):e._e()])})),e.colors.length%2?t("div"):e._e(),t("div",{staticClass:"shapestyle",class:{"is-selected":e.hasFill},on:{click:function(t){e.stroked=!1}}},[t("svg",{attrs:{width:"36",height:"36",xmlns:"http://www.w3.org/2000/svg"}},[t("rect",{attrs:{x:"0",y:"0",width:"36",height:"36",fill:"white",stroke:"#e6e6e6","stroke-width":"1"}}),t("g",{attrs:{transform:"translate(18, 18)"}},[t("rect",{attrs:{x:"-12.5",y:"-12.5",width:"25",height:"25",fill:"var(--fillcolor)"}})])])]),t("div",{staticClass:"shapestyle",class:{"is-selected":e.hasStroke},on:{click:function(t){e.stroked=!0}}},[t("svg",{attrs:{width:"36",height:"36",xmlns:"http://www.w3.org/2000/svg"}},[t("rect",{attrs:{x:"0",y:"0",width:"36",height:"36",fill:"white",stroke:"#e6e6e6","stroke-width":"1"}}),t("g",{attrs:{transform:"translate(18, 18)"}},[t("rect",{attrs:{x:"-12.5",y:"-12.5",width:"25",height:"25",fill:"none","stroke-width":"3",stroke:"currentColor"}})])])])],2):e._e(),t("div",{class:{"icon-ml":e.useBuilder}},[t("svg",{attrs:{width:"120",height:"120",xmlns:"http://www.w3.org/2000/svg"}},[t("rect",{attrs:{x:"0",y:"0",width:"120",height:"120",fill:"white",stroke:"currentColor","stroke-width":"1"}}),t("g",{attrs:{transform:"translate(60, 60)"}},[e.isRect&&e.hasFill?t("rect",{attrs:{x:"-50",y:"-50",width:"100",height:"100",fill:e.hexColor}}):e.isRect&&e.hasStroke?t("rect",{attrs:{x:"-50",y:"-50",width:"100",height:"100",fill:"white",stroke:e.hexColor,"stroke-width":"5"}}):e.isCircle&&e.hasFill?t("circle",{attrs:{cx:"0",cy:"0",r:"50",fill:e.hexColor}}):e.isCircle&&e.hasStroke?t("circle",{attrs:{cx:"0",cy:"0",r:"50",fill:"white",stroke:e.hexColor,"stroke-width":"5"}}):e.isPolygon&&e.hasFill?t("polygon",{attrs:{points:e.points,fill:e.hexColor}}):e.isPolygon&&e.hasStroke?t("polygon",{attrs:{points:e.points,fill:"white",stroke:e.hexColor,"stroke-width":"5"}}):e._e()])])])])},on=[],nn=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"shape",class:{"is-selected":e.selected},on:{click:function(t){return e.$emit("click")}}},[t("svg",{attrs:{width:"60",height:"60",xmlns:"http://www.w3.org/2000/svg"}},[t("rect",{attrs:{x:"0",y:"0",width:"60",height:"60",fill:"white",stroke:"#e6e6e6","stroke-width":"1"}}),t("g",{attrs:{transform:"translate(30, 30)"}},[e._t("default")],2)])])},rn=[];let an=class extends(c()){selected};a([$({type:Boolean,default:!1})],an.prototype,"selected",void 0),an=a([D({name:"verification-shape"})],an);const ln=an,cn=ln;var un=Os(cn,nn,rn,!1,null,"2ac5c54a",null);const dn=un.exports;let pn=class extends(c()){colors=["#000000","#ff0000","#ffed00","#306eff","#ff69b4","#228b22","#fbb117","#00ff00","#d462ff"];position="q0";shapeType="r";shapeMeta="00";colorIndex=0;stroked=!1;iconData;useBuilder;get verificationIconCode(){const e=this.padIndex(this.colorIndex);return`${this.position}${this.shapeType}${this.shapeMeta}${this.hasFill?`f${e}`:"fxx"}${this.hasStroke?`s${e}`:"sxx"}`}get isRect(){return"r"===this.shapeType}get isCircle(){return"c"===this.shapeType}get isPolygon(){return"p"===this.shapeType}get shape(){return`${this.shapeType}${this.shapeMeta}`}set shape(e){this.shapeType=e[0],this.shapeMeta=e.slice(1,3)||"00"}get points(){if("p"!==this.shapeType)return"";switch(this.shapeMeta){case"00":return"50,-50 -50,50 -50,-50";case"01":return"-50,-50 50,50 -50,50";case"10":return"50,-50 50,50 -50,-50";case"11":return"50,-50 50,50 -50,50";default:return""}}padIndex(e){return e<10?`0${e}`:String(e)}get hexColor(){return this.colors[this.colorIndex]}get hasFill(){return!this.stroked}get hasStroke(){return this.stroked}mounted(){this.parseIconData()}parseIconData(){if(this.iconData){const e=this.iconData.result;if(e)return this.position=e.slice(0,2),this.shape=e.slice(2,5),void("fxx"!==e.slice(5,8)?(this.stroked=!1,this.colorIndex=parseInt(e.slice(6,8))):(this.stroked=!0,this.colorIndex=parseInt(e.slice(9,11))))}this.position="q0",this.shape="r00",this.colorIndex=0,this.stroked=!1}};a([$({type:Object,default:()=>null})],pn.prototype,"iconData",void 0),a([$({type:Boolean,default:!1})],pn.prototype,"useBuilder",void 0),a([N("iconData")],pn.prototype,"parseIconData",null),pn=a([D({name:"verification-icon",components:{VerificationShape:dn}})],pn);const hn=pn,fn=hn;var gn=Os(fn,sn,on,!1,null,"35108449",null);const yn=gn.exports;var vn=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"onoffswitch",class:[e.switchClass]},[t("input",{staticClass:"onoffswitch-checkbox",attrs:{type:"checkbox",id:`onoffswitch-${e.id}`},domProps:{checked:e.checked},on:{input:function(t){return e.$emit("toggle")}}}),t("label",{staticClass:"onoffswitch-label",class:[e.switchClass],attrs:{for:`onoffswitch-${e.id}`}},[t("span",{staticClass:"onoffswitch-inner"},[t("span",{staticClass:"onoffswitch-inner-before",class:[e.switchClass]},[e._v(e._s(e.onText))]),t("span",{staticClass:"onoffswitch-inner-after",class:[e.switchClass]},[e._v(e._s(e.offText))])]),t("span",{staticClass:"onoffswitch-switch",class:[e.switchClass]})])])},mn=[];let bn=class extends(c()){checked;id;onText;offText;switchClass};a([$({type:Boolean})],bn.prototype,"checked",void 0),a([$({type:String,default:""})],bn.prototype,"id",void 0),a([$({type:String,default:""})],bn.prototype,"onText",void 0),a([$({type:String,default:""})],bn.prototype,"offText",void 0),a([$({type:String,default:""})],bn.prototype,"switchClass",void 0),bn=a([D({name:"on-off-switch"})],bn);const _n=bn,wn=_n;var Sn=Os(wn,vn,mn,!1,null,null,null);const kn=Sn.exports,Cn="yellow-100",xn=["PresenceStatusMissing","InvalidType","NoTitleGiven","TitleUpdateForbidden","InvalidAlias","AliasUpdateForbidden","NoCodeGiven","NoColorGiven","InvalidColor"];let Pn=class extends(c()){fields=[{key:"label",sortable:!1},{key:"title",sortable:!1},{key:"aliasses",sortable:!1},{key:"color",sortable:!1},{key:"actions",sortable:!1,label:"",variant:"actions"}];statusDefaults=[];presence=null;selectedStatus=null;savedEntryStatuses=[];useVerificationIcon=!1;connector=null;errorData=null;createNew=!1;codeNew="";titleNew="";aliasNew={aliasses:3};colorNew=Cn;apiConfig;loadIndex;async load(){const e=await(this.connector?.loadPresence());this.statusDefaults=e?.["status-defaults"]||[],this.presence=e?.presence||null,this.presence?.verification_icon_data&&(this.useVerificationIcon=!0)}async loadSavedEntryStatuses(){const e=await(this.connector?.loadRegisteredPresenceEntryStatuses());this.savedEntryStatuses=e?.statuses}mounted(){this.connector=new Ss(this.apiConfig),this.connector.addErrorListener(this),this.load()}get isEditEnabled(){return!this.createNew}get isEditDisabled(){return this.createNew}get isSaving(){return this.connector?.isSaving||!1}get presenceStatuses(){return this.presence?.statuses||[]}get fixedStatusDefaults(){return this.statusDefaults.filter((e=>"fixed"===e.type))}getStatusDefault(e,t=!1){const s=this.statusDefaults.find((t=>t.id===e.id));return t?"fixed"===s.type?s:this.statusDefaults.find((e=>e.id===s.aliasses)):s}isStatusEditable(e){return!("fixed"===e.type||"semifixed"===e.type||this.savedEntryStatuses.includes(e.id))}getStatusTitle(e){return"fixed"===e.type||"semifixed"===e.type?this.getStatusDefault(e)?.title||"":e.title}getAliasedTitle(e){return"fixed"===e.type||"semifixed"===e.type?this.getStatusDefault(e,!0)?.title||"":this.statusDefaults.find((t=>t.id===e.aliasses))?.title||""}setStatusColor(e,t){e.color!==t&&(e.color=t)}rowClass(e){return`table-body-row presence-builder-row${e===this.selectedStatus?" is-selected":""}${this.createNew?"":" is-enabled"}`}hasEmptyFields(){let e=!1;const t=[...document.querySelectorAll(".presence-builder .form-control")];return t.reverse(),t.forEach((t=>{t.checkValidity()||(t.reportValidity(),e=!0)})),e}isConflictError(e){return xn.includes(e)}setError(e){this.errorData=e}resetNew(){this.createNew=!1,this.codeNew="",this.titleNew="",this.aliasNew.aliasses=3,this.colorNew=Cn}onCreateNew(){this.createNew=!0,this.selectedStatus=null,this.$nextTick((()=>{document.getElementById("new-presence-code")?.focus()}))}onCancelNew(){this.resetNew()}onSaveNew(){this.presence&&(this.presence.statuses.push({id:Math.max(this.statusDefaults.length,Math.max.apply(null,this.presence.statuses.map((e=>e.id))))+1,type:"custom",code:this.codeNew,title:this.titleNew,aliasses:this.aliasNew.aliasses,color:this.colorNew}),this.resetNew(),this.$nextTick((()=>{this.selectedStatus=this.presenceStatuses[this.presenceStatuses.length-1]})))}onSelectStatus(e,t=0){this.createNew||(this.selectedStatus=e,this.$refs["builder"].selectRow(t))}onRowSelected(e){this.selectedStatus=e[0]||null}onMoveDown(e,t){if(!this.presence||t>=this.presence.statuses.length-1)return;const s=this.presence.statuses;this.presence.statuses=s.slice(0,t).concat(s[t+1],s[t]).concat(s.slice(t+2)),this.$nextTick((()=>{let t=document.querySelector(`#btn-down-${e}`);t?.disabled&&(t=t?.previousSibling),t?.focus()}))}onMoveUp(e,t){if(!this.presence||t<=0)return;const s=this.presence.statuses;this.presence.statuses=s.slice(0,t-1).concat(s[t],s[t-1]).concat(s.slice(t+1)),this.$nextTick((()=>{let t=document.querySelector(`#btn-up-${e}`);t?.disabled&&(t=t?.nextSibling),t?.focus()}))}onRemove(e){if(!this.presence||"fixed"===e.type)return;const t=this.presence.statuses,s=t.findIndex((t=>t===e));-1!==s&&(this.presence.statuses=t.slice(0,s).concat(t.slice(s+1)))}onSave(){this.presence&&(this.hasEmptyFields()||(this.setError(null),this.useVerificationIcon?this.presence.verification_icon_data={version:1,result:this.$refs["verification-icon"].verificationIconCode}:this.presence.verification_icon_data=null,this.connector?.updatePresence(this.presence.id,this.presenceStatuses,this.presence.has_checkout,this.presence.verification_icon_data,(e=>{"ok"===e?.status&&this.$emit("presence-data-changed",{statusDefaults:this.statusDefaults,presence:this.presence})}))))}_loadIndex(){this.loadSavedEntryStatuses()}};a([$({type:A,required:!0})],Pn.prototype,"apiConfig",void 0),a([$({type:Number,default:0})],Pn.prototype,"loadIndex",void 0),a([N("loadIndex")],Pn.prototype,"_loadIndex",null),Pn=a([D({components:{OnOffSwitch:kn,TitleControl:Rs,AliasControl:Is,ColorControl:Ws,SelectionControls:ao,NewStatusControls:mo,SelectionPreview:Oo,SaveControl:Lo,ErrorMessage:Go,ErrorDisplay:tn,VerificationIcon:yn}})],Pn);const En=Pn,On=En;var Dn=o(983),Rn=o.n(Dn);const Tn=Rn();var $n=Os(On,r,i,!1,null,"79e0346f",null);"function"===typeof Tn&&Tn($n);const Nn=$n.exports;var An=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("div",{staticClass:"u-flex u-gap-small-3x u-align-items-center",class:[{"m-controls":e.defaultTableShown}]},[e.defaultTableShown?t("search-bar",{attrs:{"search-options":e.searchOptions},on:{"filter-changed":e.onFilterChanged,"filter-cleared":e.onFilterCleared}}):e._e(),e.statusFiltersShown?t("div",{staticClass:"status-filters u-flex u-gap-small u-align-items-baseline"},[e._m(0),e._l(e.presenceStatuses,(function(s,o){return t("filter-status-button",{key:`status-${o}`,attrs:{title:e.getPresenceStatusTitle(s),label:s.code,color:s.color,"is-selected":-1!==e.statusFilters.indexOf(s)},on:{"toggle-filter":function(t){return e.toggleStatusFilters(s)}}})})),t("filter-status-button",{attrs:{label:e.$t("without-status"),color:"grey-100","is-selected":e.withoutStatusSelected},on:{"toggle-filter":e.toggleWithoutStatus}})],2):e.useStatistics?e._e():[t("a",{staticClass:"btn btn-default btn-sm mod-export",attrs:{href:e.apiConfig.exportURL}},[e._v(e._s(e.$t("export")))]),t("button",{staticClass:"btn btn-default btn-sm mod-create-period",on:{click:e.createResultPeriod}},[t("i",{staticClass:"fa fa-plus",attrs:{"aria-hidden":"true"}}),e._v(e._s(e.$t("new-period")))])]],2),t("div",{staticClass:"u-flex"},[t("div",{staticClass:"w-max-content"},[t("div",{staticClass:"u-relative"},[t("entry-table",{directives:[{name:"show",rawName:"v-show",value:e.defaultTableShown,expression:"defaultTableShown"}],attrs:{id:"course-students",items:e.itemsProvider,periods:e.periods,"status-defaults":e.statusDefaults,presence:e.presence,"selected-period":e.selectedPeriod,"global-search-query":e.globalSearchQuery,pagination:e.pagination,"is-saving":e.isSaving,"checkout-mode":e.checkoutMode,"is-creating-new-period":e.creatingNew,statistics:e.statistics,"use-statistics":e.useStatistics},on:{"create-period":e.createResultPeriod,"period-label-changed":e.setSelectedPeriodLabel,"select-student-status":e.setSelectedStudentStatus,"toggle-checkout-mode":function(t){e.checkoutMode=!e.checkoutMode},"toggle-checkout":e.toggleCheckout,"change-selected-period":e.setSelectedPeriod},scopedSlots:e._u([e.hasSelectedPeriod?{key:"slot-top",fn:function(){return[t("div",{staticClass:"u-flex u-align-items-baseline u-justify-content-space-between u-gap-small-2x minw-100"},[t("button",{staticClass:"btn btn-sm mod-period-action mod-show-periods",on:{click:function(t){return e.setSelectedPeriod(null)}}},[e._v(e._s(e.$t("show-all-periods")))]),t("button",{staticClass:"btn btn-default btn-sm mod-more",attrs:{id:"show-more"},on:{click:function(t){e.showMore=!e.showMore}}},[e._v(e._s(e.$t("more"))+"â¦")]),t("period-menu",{attrs:{target:"show-more","is-visible":e.showMore,"presence-statuses":e.presenceStatuses,"status-defaults":e.statusDefaults,"print-qr-code-url":`${e.apiConfig.printQrCodeURL}&presence_period_id=${e.selectedPeriod.id}`,"self-registration-disabled":e.selectedPeriod.period_self_registration_disabled},on:{"self-registration-disabled-changed":function(t){return e.setSelectedPeriodSelfRegistrationDisabled(e.selectedPeriod,t)},"apply-bulk":e.applyBulkStatus,"cancel-bulk":e.cancelBulkStatus}})],1)]},proxy:!0}:null,e.hasSelectedPeriod?{key:"slot-bottom",fn:function(){return[t("button",{staticClass:"btn btn-sm mod-period-action mod-remove-period",attrs:{disabled:e.toRemovePeriod===e.selectedPeriod},on:{click:e.removeSelectedPeriod}},[e._v(e._s(e.$t("remove-period")))])]},proxy:!0}:null],null,!0)}),e.periodStatsShown?t("periods-stats-table",{attrs:{id:"course-students",periods:e.periods,"is-busy":e.loadingStatistics,"status-defaults":e.statusDefaults,presence:e.presence,statistics:e.statistics}}):e._e(),e.creatingNew?e._e():t("div",{staticClass:"lds-ellipsis",attrs:{"aria-hidden":"true"}},[t("div"),t("div"),t("div"),t("div")])],1),e.paginationShown?t("div",{staticClass:"pagination-container u-flex u-justify-content-end my-3"},[t("b-pagination",{attrs:{"total-rows":e.pagination.total,"per-page":e.pagination.perPage,"aria-controls":"course-students",disabled:e.changeAfterStatusFilters},model:{value:e.pagination.currentPage,callback:function(t){e.$set(e.pagination,"currentPage",t)},expression:"pagination.currentPage"}}),t("ul",{staticClass:"pagination"},[t("li",{staticClass:"page-item",class:{active:!e.changeAfterStatusFilters,disabled:e.changeAfterStatusFilters}},[t("a",{staticClass:"page-link",class:{"u-text-line-through":e.changeAfterStatusFilters}},[e._v(e._s(e.$t("total"))+" "+e._s(e.pagination.total))])]),e.changeAfterStatusFilters?t("li",{staticClass:"page-item active"},[t("a",{directives:[{name:"b-popover",rawName:"v-b-popover.hover.right",value:e.$t("changes-filters"),expression:"$t('changes-filters')",modifiers:{hover:!0,right:!0}}],staticClass:"page-link u-cursor-pointer",on:{click:e.refreshFilters}},[e._v(e._s(e.$t("refresh"))+" "),t("i",{staticClass:"fa fa-info-circle"})])]):e._e()])],1):e._e()])]),e.errorData?t("error-display",{on:{close:function(t){e.errorData=null}}},[500===e.errorData.code?t("span",[e._v(e._s(e.errorData.message))]):e.errorData.type?t("span",[e._v(e._s(e.$t("error-"+e.errorData.type)))]):e._e()]):e._e(),e.nonCourseStudentsShown?[t("h4",{staticClass:"u-font-medium h-not-in-course"},[e._v(e._s(e.$t("students-not-in-course")))]),t("entry-table",{attrs:{id:"non-course-students",items:e.nonCourseStudents,"selected-period":e.selectedPeriod,periods:e.periods,"status-defaults":e.statusDefaults,presence:e.presence,"is-fully-editable":!1,"is-saving":e.isSavingNonCourse,"is-creating-new-period":e.creatingNew,"checkout-mode":e.checkoutMode,"use-statistics":e.useStatistics},on:{"select-student-status":e.setSelectedStudentStatus,"toggle-checkout":e.toggleCheckout}})]:e._e()],2)},jn=[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("span",{staticClass:"lbl-filters"},[t("i",{staticClass:"fa fa-filter"}),e._v("Filters:")])}],Fn=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"u-flex u-align-items-baseline u-gap-small"},[t("div",{class:["color-code",e.color],staticStyle:{height:"20px",padding:"2px 4px"}},[t("span",[e._v(e._s(e.label))])]),t("span",[e._v(e._s(e.title))])])},In=[];let Ln=class extends(c()){label;color;title};a([$({type:String,default:""})],Ln.prototype,"label",void 0),a([$({type:String,default:""})],Ln.prototype,"color",void 0),a([$({type:String,default:""})],Ln.prototype,"title",void 0),Ln=a([D({name:"legend-item"})],Ln);const Un=Ln,Bn=Un;var qn=Os(Bn,Fn,In,!1,null,null,null);const Mn=qn.exports;var zn=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"action-bar input-group"},[t("b-form-input",{staticClass:"form-group action-bar-search shadow-none",attrs:{type:"text",placeholder:e.$t("search"),debounce:"750",autocomplete:"off"},on:{input:function(t){return e.$emit("filter-changed")}},model:{value:e.searchOptions.globalSearchQuery,callback:function(t){e.$set(e.searchOptions,"globalSearchQuery",t)},expression:"searchOptions.globalSearchQuery"}}),t("div",{staticClass:"input-group-append"},[t("button",{staticClass:"btn btn-default",attrs:{name:"clear",value:"clear"},on:{click:function(t){return e.$emit("filter-cleared")}}},[t("span",{staticClass:"glyphicon glyphicon-remove",attrs:{"aria-hidden":"true"}})])])],1)},Vn=[];let Hn=class extends(c()){searchOptions};a([$({type:Object})],Hn.prototype,"searchOptions",void 0),Hn=a([D({name:"search-bar"})],Hn);const Qn=Hn,Jn=Qn;var Gn=o(57),Kn=o.n(Gn);const Yn=Kn();var Wn=Os(Jn,zn,Vn,!1,null,"1de83810",null);"function"===typeof Yn&&Yn(Wn);const Zn=Wn.exports;var Xn=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.isEditable?t("div",{attrs:{role:"button",tabindex:"0"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$emit("select")},click:function(t){return e.$emit("select")}}},[e._t("default")],2):t("div",{staticClass:"u-cursor-default u-text-center"},[e._t("default")],2)},er=[];let tr=class extends(c()){isEditable};a([$({type:Boolean})],tr.prototype,"isEditable",void 0),tr=a([D({name:"dynamic-field-key"})],tr);const sr=tr,or=sr;var nr=Os(or,Xn,er,!1,null,null,null);const rr=nr.exports;var ir=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("b-table",{ref:"table",staticClass:"mod-presence mod-entry",attrs:{id:e.id,bordered:"",busy:e.isBusy,items:e.items,fields:e.fields,"tbody-tr-class":"table-body-row","sort-by":e.sortBy,"sort-desc":e.sortDesc,"per-page":e.pagination.perPage,"current-page":e.pagination.currentPage,filter:e.globalSearchQuery,"no-sort-reset":""},on:{"update:busy":function(t){e.isBusy=t},"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t}},scopedSlots:e._u([{key:"cell(photo)",fn:function({item:e}){return[t("img",{attrs:{src:e.photo}})]}},e.isFullyEditable?{key:"head(fullname)",fn:function(){return[t("a",{staticClass:"tbl-sort-option",attrs:{"aria-sort":e.getSortStatus("lastname")},on:{click:function(t){return e.sortByNameField("lastname")}}},[e._v(e._s(e.$t("last-name")))]),t("a",{staticClass:"tbl-sort-option",attrs:{"aria-sort":e.getSortStatus("firstname")},on:{click:function(t){return e.sortByNameField("firstname")}}},[e._v(e._s(e.$t("first-name")))])]},proxy:!0}:{key:"head(fullname)",fn:function(){return[e._v(e._s(e.$t("last-name"))+", "+e._s(e.$t("first-name")))]},proxy:!0},{key:"cell(fullname)",fn:function({item:s,toggleDetails:o,detailsShowing:n}){return[s.tableEmpty?t("span"):[e.selectedPeriod||e.useStatistics?[e._v(e._s(s.lastname.toUpperCase())+", "+e._s(s.firstname))]:t("a",{staticClass:"u-text-no-underline u-cursor-pointer",class:{"u-font-bold":n},on:{click:o}},[e._v(e._s(s.lastname.toUpperCase())+", "+e._s(s.firstname))])]]}},e.selectedPeriod||e.useStatistics?null:{key:"row-details",fn:function({item:s}){return[t("div",{staticStyle:{margin:"0 auto","max-width":"fit-content"}},[t("b-table-simple",{staticClass:"student-checkinout"},[t("b-thead",[t("b-tr",[t("b-th",[e._v(e._s(e.$t("period")))]),t("b-th",[e._v(e._s(e.$t("checked-in")))]),e.presence&&e.presence.has_checkout?t("b-th",[e._v(e._s(e.$t("checked-out")))]):e._e()],1)],1),t("b-tbody",e._l(e.periodsReversed,(function(o){return t("student-details",{attrs:{"has-checkout":e.presence&&e.presence.has_checkout,"period-title":o.label||e.getPlaceHolder(o.id),"check-in-date":s[`period#${o.id}-checked_in_date`],"check-out-date":s[`period#${o.id}-checked_out_date`]}})})),1)],1)],1)]}},e.isFullyEditable?{key:"head(official_code)",fn:function(){return[t("a",{staticClass:"tbl-sort-option",attrs:{"aria-sort":e.getSortStatus("official_code")},on:{click:function(t){return e.sortByNameField("official_code")}}},[e._v(e._s(e.$t("official-code")))])]},proxy:!0}:{key:"head(official_code)",fn:function(){return[e._v(e._s(e.$t("official-code")))]},proxy:!0},{key:"head(period-entry-plh)",fn:function(){return[t("div",{staticClass:"u-flex u-align-items-center u-gap-small"},[t("b-input",{staticClass:"u-bg-none u-font-normal u-font-italic u-pointer-events-none ti-label mod-border",attrs:{type:"text",autocomplete:"off",placeholder:e.$t("new-period")+"..."}}),t("div",{staticClass:"spin"},[e.isSaving?t("div",{staticClass:"glyphicon glyphicon-repeat glyphicon-spin"}):e._e()])],1)]},proxy:!0},{key:"cell(period-entry-plh)",fn:function(){return[t("div",{staticClass:"u-flex u-gap-small u-flex-wrap u-pointer-events-none"},e._l(e.presenceStatuses,(function(s,o){return t("button",{key:`status-${o}`,staticClass:"color-code mod-plh",class:[s.color]},[t("span",[e._v(e._s(s.code))])])})),0)]},proxy:!0},e._l(e.presenceStatuses,(function(s){return{key:`head(status-${s.id})`,fn:function(){return[t("div",{staticClass:"color-code",class:[s.color],staticStyle:{width:"fit-content"},attrs:{title:e.getPresenceStatusTitle(s)}},[t("span",[e._v(e._s(s.code))])])]},proxy:!0}})),{key:"head(status-none)",fn:function(){return[t("div",{staticClass:"color-code grey-100"},[t("span",[e._v("Zonder status")])])]},proxy:!0},e._l([...e.presenceStatuses,null],(function(s){return{key:`cell(status-${s&&s.id||"none"})`,fn:function({item:o}){return[e._l([e.getStudentStats(o,s)],(function(s){return[s?t("div",{staticClass:"color-code grey-100",staticStyle:{width:"fit-content",margin:"0 auto"}},[t("span",{staticStyle:{"font-variant":"initial","font-size":"13px"}},[e._v(e._s(s))])]):t("span",{staticClass:"u-block u-text-center",staticStyle:{color:"#a9b9bc"}},[e._v("0")])]}))]}}})),e._l(e.dynamicFieldKeys,(function(s){return{key:`head(${s.key})`,fn:function({label:o}){return[t("dynamic-field-key",{class:[{"btn-select-period":e.isFullyEditable},"u-txt-truncate"],attrs:{"is-editable":e.isFullyEditable,title:o},on:{select:function(t){return e.$emit("change-selected-period",s.id)}},scopedSlots:e._u([{key:"default",fn:function(){return[o?t("span",[e._v(e._s(o))]):t("span",{staticClass:"u-font-italic"},[e._v(e._s(e.getPlaceHolder(s.id)))])]},proxy:!0}],null,!0)})]}}})),e._l(e.dynamicFieldKeys,(function(s){return{key:`cell(${s.key})`,fn:function({item:o}){return[t("presence-status-display",{attrs:{title:e.getStatusTitleForStudent(o,s.id),label:e.getStatusCodeForStudent(o,s.id),color:e.getStatusColorForStudent(o,s.id),"has-checkout":e.presence&&e.presence.has_checkout,"check-in-date":o[`period#${s.id}-checked_in_date`],"check-out-date":o[`period#${s.id}-checked_out_date`]}})]}}})),{key:"head(period-entry)",fn:function(){return[t("div",{staticClass:"u-flex u-align-items-center u-gap-small"},[e.isFullyEditable?t("b-input",{staticClass:"u-font-normal ti-label",attrs:{type:"text",debounce:"750",autocomplete:"off",placeholder:e.getPlaceHolder(e.selectedPeriod.id)},model:{value:e.selectedPeriodLabel,callback:function(t){e.selectedPeriodLabel=t},expression:"selectedPeriodLabel"}}):e.selectedPeriodLabel?t("span",{staticStyle:{width:"100%"}},[e._v(e._s(e.selectedPeriodLabel))]):t("span",{staticClass:"u-font-italic",staticStyle:{width:"100%"}},[e._v(e._s(e.getPlaceHolder(e.selectedPeriod.id)))]),t("div",{staticClass:"spin"},[e.isSaving?t("div",{staticClass:"glyphicon glyphicon-repeat glyphicon-spin"}):e._e()])],1)]},proxy:!0},e.isFullyEditable&&e.selectedPeriod&&!e.useStatistics?{key:"thead-top",fn:function(s){return[t("b-tr",[t("b-td"),t("b-td",{attrs:{colspan:"2"}},[t("span",{staticClass:"u-font-medium",staticStyle:{color:"#47686b","font-size":"14px"}},[e._v(e._s(e.selectedPeriod.label||e.getPlaceHolder(e.selectedPeriod.id)))])]),t("b-td",[e._t("slot-top")],2),e.checkoutMode?t("b-td"):e._e()],1)]}}:null,e.isFullyEditable&&e.selectedPeriod&&!e.useStatistics?{key:"bottom-row",fn:function(){return[t("b-td",{attrs:{colspan:"3"}}),t("b-td",[e._t("slot-bottom")],2),e.checkoutMode?t("b-td"):e._e()]},proxy:!0}:null,{key:"cell(period-entry)",fn:function({item:s}){return[s.tableEmpty?t("div",{staticClass:"u-font-italic"},[e._v(e._s(e.$t("no-results")))]):[t("label",{staticClass:"sr-only",attrs:{id:`lbl-item-${s.id}-status`}},[e._v("Status")]),t("div",{staticClass:"u-flex u-gap-small u-flex-wrap",attrs:{role:"radiogroup","aria-labelledby":`lbl-item-${s.id}-status`}},e._l(e.presenceStatuses,(function(o,n){return t("presence-status-button",{key:`status-${n}`,attrs:{status:o,title:e.getPresenceStatusTitle(o),"is-selected":e.hasSelectedStudentStatus(s,o.id),"is-disabled":e.checkoutMode},on:{select:function(t){return e.$emit("select-student-status",s,e.selectedPeriod,o.id,e.isFullyEditable)}}})})),1)]]}},{key:"head(period-checkout)",fn:function(){return[e.isFullyEditable?t("on-off-switch",{attrs:{id:`checkout-${e.id}`,"switch-class":"mod-checkout-choice","on-text":e.$t("checkout-mode"),"off-text":e.$t("checkout-mode"),checked:e.checkoutMode},on:{toggle:function(t){return e.$emit("toggle-checkout-mode")}}}):t("span")]},proxy:!0},e.checkoutMode?{key:"cell(period-checkout)",fn:function({item:s}){return[s.tableEmpty?t("span"):s[`period#${e.selectedPeriod.id}-checked_in_date`]?t("on-off-switch",{attrs:{id:s.id,"on-text":e.$t("checked-out"),"off-text":e.$t("not-checked-out"),checked:s[`period#${e.selectedPeriod.id}-checked_out_date`]>s[`period#${e.selectedPeriod.id}-checked_in_date`],"switch-class":"mod-checkout"},on:{toggle:function(t){return e.$emit("toggle-checkout",s,e.selectedPeriod,e.isFullyEditable)}}}):t("span",{staticStyle:{color:"#999"}},[e._v(e._s(e.$t("not-applicable")))])]}}:{key:"cell(period-checkout)",fn:function(){return[e._v(e._s(""))]},proxy:!0}],null,!0)})},ar=[],lr=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("button",{staticClass:"color-code",class:[e.isActive?e.status.color:"mod-disabled",{"mod-selectable":e.isActive,"mod-shadow-grey":e.isActive&&!e.isSelected,"mod-shadow is-selected":e.isSelected}],attrs:{title:e.isActive?e.title:"",disabled:e.isDisabled,role:"radio","aria-checked":e.isSelected?"true":"false"},on:{click:e.select}},[t("span",[e._v(e._s(e.status.code))])])},cr=[];let ur=class extends(c()){isSelected;isDisabled;status;title;get isActive(){return this.isSelected||!this.isDisabled}select(){this.isSelected||this.$emit("select")}};a([$({type:Boolean})],ur.prototype,"isSelected",void 0),a([$({type:Boolean})],ur.prototype,"isDisabled",void 0),a([$({type:Object,required:!0})],ur.prototype,"status",void 0),a([$({type:String,default:""})],ur.prototype,"title",void 0),ur=a([D({name:"presence-status-button"})],ur);const dr=ur,pr=dr;var hr=Os(pr,lr,cr,!1,null,null,null);const fr=hr.exports;var gr=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"result-wrap",class:{"u-flex":e.showCheckout,"u-align-items-center":e.showCheckout}},[t("div",{staticClass:"color-code u-cursor-default",class:[e.color||"mod-none"],attrs:{title:e.title}},[t("span",[e._v(e._s(e.label))])]),e.showCheckout?[t("i",{staticClass:"fa fa-sign-out checkout-indicator",class:{"is-checked-out":e.isCheckedOut},attrs:{"aria-hidden":"true",title:e.$t(e.isCheckedOut?"checked-out":"not-checked-out")}}),t("span",{staticClass:"sr-only"},[e._v(e._s(e.$t(e.isCheckedOut?"checked-out":"not-checked-out")))])]:e._e()],2)},yr=[];let vr=class extends(c()){hasCheckout;title;label;color;checkInDate;checkOutDate;get showCheckout(){return this.hasCheckout&&!!this.checkInDate}get isCheckedOut(){return"number"===typeof this.checkOutDate&&"number"===typeof this.checkInDate&&this.checkOutDate>this.checkInDate}};a([$({type:Boolean,default:!1})],vr.prototype,"hasCheckout",void 0),a([$({type:String,default:""})],vr.prototype,"title",void 0),a([$({type:String,default:""})],vr.prototype,"label",void 0),a([$({type:String,default:""})],vr.prototype,"color",void 0),a([$({type:Number,default:0})],vr.prototype,"checkInDate",void 0),a([$({type:Number,default:0})],vr.prototype,"checkOutDate",void 0),vr=a([D({name:"presence-status-display"})],vr);const mr=vr,br=mr;var _r=o(752),wr=o.n(_r);const Sr=wr();var kr=Os(br,gr,yr,!1,null,"2542bfb6",null);"function"===typeof Sr&&Sr(kr);const Cr=kr.exports;var xr=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("b-tr",[t("b-td",[e._v(e._s(e.periodTitle))]),e.showStatus?t("b-td",[t("presence-status-display",{attrs:{title:e.title,label:e.label,color:e.color}})],1):e._e(),e.hasCheckout?[e.showCheckout?[t("b-td",[e._v(e._s(e.checkInDateFormatted))]),e.isCheckedOut?t("b-td",[e._v(e._s(e.checkOutDateFormatted))]):t("b-td",{staticClass:"not-checked-out"},[e._v(e._s(e.$t("not-checked-out")))])]:[t("b-td",[t("div",{staticClass:"color-code mod-none"})]),t("b-td",[t("div",{staticClass:"color-code mod-none"})])]]:[e.checkInDate?t("b-td",[e._v(e._s(e.checkInDateFormatted))]):t("b-td",[t("div",{staticClass:"color-code mod-none"})])]],2)},Pr=[];function Er(e){return`${e<10?"0":""}${e}`}let Or=class extends(c()){hasCheckout;showStatus;periodTitle;title;label;color;checkInDate;checkOutDate;get showCheckout(){return this.hasCheckout&&!!this.checkInDate}createDate(e){const t=new Date(0);return t.setUTCSeconds(e),t}formatDate(e){const t=new Date(0);return t.setUTCSeconds(e),t.toLocaleString()}get isCheckedOut(){return"number"===typeof this.checkOutDate&&"number"===typeof this.checkInDate&&this.checkOutDate>this.checkInDate}getDateFormatted(e){const t=this.createDate(e);return isNaN(t.getDate())?"":`${Er(t.getDate())}/${Er(t.getMonth()+1)}/${t.getFullYear()} ${Er(t.getHours())}:${Er(t.getMinutes())}`}get checkInDateFormatted(){return"number"!==typeof this.checkInDate?"":this.getDateFormatted(this.checkInDate)}get checkOutDateFormatted(){return"number"!==typeof this.checkOutDate?"":this.getDateFormatted(this.checkOutDate)}};a([$({type:Boolean,default:!1})],Or.prototype,"hasCheckout",void 0),a([$({type:Boolean,default:!1})],Or.prototype,"showStatus",void 0),a([$({type:String,default:""})],Or.prototype,"periodTitle",void 0),a([$({type:String,default:""})],Or.prototype,"title",void 0),a([$({type:String,default:""})],Or.prototype,"label",void 0),a([$({type:String,default:""})],Or.prototype,"color",void 0),a([$({type:Number,default:0})],Or.prototype,"checkInDate",void 0),a([$({type:Number,default:0})],Or.prototype,"checkOutDate",void 0),Or=a([D({name:"student-details",components:{PresenceStatusDisplay:Cr},filters:{fDate:function(e){return isNaN(e.getDate())?"":`${Er(e.getDate())}/${Er(e.getMonth()+1)}/${e.getFullYear()} ${Er(e.getHours())}:${Er(e.getMinutes())}`}}})],Or);const Dr=Or,Rr=Dr;var Tr=o(496),$r=o.n(Tr);const Nr=$r();var Ar=Os(Rr,xr,Pr,!1,null,"5e7449e4",null);"function"===typeof Nr&&Nr(Ar);const jr=Ar.exports;let Fr=class extends(c()){sortBy="lastname";sortDesc=!1;isBusy=!1;id;items;selectedPeriod;pagination;isSaving;checkoutMode;globalSearchQuery;statusDefaults;periods;presence;isFullyEditable;isCreatingNewPeriod;statistics;useStatistics;getStudentStats(e,t){let s=0;return this.periods.forEach((o=>{const n=e[`period#${o.id}-status`];(n&&t?.id===n||!n&&!t)&&s++})),s}getStudentAllStats(e){const t=[...this.presenceStatuses,null].map((e=>({status:e,count:0})));return this.periods.forEach((s=>{const o=e[`period#${s.id}-status`];let n;n=o?t.find((e=>e.status?.id===o))||null:t[t.length-1],n&&n.count++})),t}get hasResults(){return 0!==this.pagination.total}getSortStatus(e){return this.sortBy!==e?"none":this.sortDesc?"descending":"ascending"}sortByNameField(e){this.sortBy!==e?(this.sortBy=e,this.sortDesc=!1):this.sortDesc=!this.sortDesc}get periodsReversed(){const e=[...this.periods];return e.reverse(),e}get dynamicFieldKeys(){return this.periods.map((e=>({key:`period#${e.id}`,id:e.id})))}get selectedPeriodLabel(){return this.selectedPeriod?.label||""}set selectedPeriodLabel(e){this.selectedPeriod&&this.$emit("period-label-changed",this.selectedPeriod,e)}getPlaceHolder(e){return`P${this.periods.findIndex((t=>t.id===e))+1}`}getStudentStatusForPeriod(e,t){return e[`period#${t}-status`]}getPresenceStatusTitle(e){return"custom"!==e.type?this.statusDefaults.find((t=>t.id===e.id))?.title||"":e.title||""}get presenceStatuses(){return this.presence?.statuses||[]}getPresenceStatus(e){return this.presenceStatuses.find((t=>t.id===e))}hasSelectedStudentStatus(e,t){return!!this.selectedPeriod&&this.getStudentStatusForPeriod(e,this.selectedPeriod.id)===t}getStatusCodeForStudent(e,t=void 0){if(void 0===t){if(!this.selectedPeriod)return"";t=this.selectedPeriod.id}return this.getPresenceStatus(this.getStudentStatusForPeriod(e,t))?.code||""}getStatusColorForStudent(e,t=void 0){if(void 0===t){if(!this.selectedPeriod)return"";t=this.selectedPeriod.id}return this.getPresenceStatus(this.getStudentStatusForPeriod(e,t))?.color||""}getStatusTitleForStudent(e,t=void 0){if(void 0===t){if(!this.selectedPeriod)return"";t=this.selectedPeriod.id}const s=this.getPresenceStatus(this.getStudentStatusForPeriod(e,t));return s?this.getPresenceStatusTitle(s):""}get userFields(){return[{key:"photo",sortable:!1,label:"",variant:"photo"},{key:"fullname",sortable:!1,label:"Student"},{key:"official_code",sortable:!1}]}get periodFields(){if(this.isCreatingNewPeriod)return[];if(this.selectedPeriod)return[{key:"period-entry",sortable:!1,label:this.selectedPeriod.label,variant:"period"},this.presence&&this.presence.has_checkout&&(this.isFullyEditable||this.checkoutMode)?{key:"period-checkout",sortable:!1,variant:"checkout"}:null];const e=this.periods.map((e=>({key:`period#${e.id}`,sortable:!1,label:e.label||"",variant:"result"})));return e.reverse(),e}get statusFields(){const e=this.presenceStatuses.map((e=>({key:"status-"+e.id,sortable:!1})));return e.push({key:"status-none",sortable:!1}),e}get fields(){return[...this.userFields,...this.useStatistics?this.statusFields:[this.isCreatingNewPeriod?{key:"period-entry-plh",sortable:!1,variant:"period"}:null,...this.periodFields]]}created(){this.$parent?.$on("refresh",(()=>{this.isFullyEditable&&this.$refs.table.refresh()}))}};a([$({type:String,default:""})],Fr.prototype,"id",void 0),a([$()],Fr.prototype,"items",void 0),a([$({type:Object,default:null})],Fr.prototype,"selectedPeriod",void 0),a([$({type:Object,default:()=>({perPage:0,currentPage:0,total:0})})],Fr.prototype,"pagination",void 0),a([$({type:Boolean,default:!1})],Fr.prototype,"isSaving",void 0),a([$({type:Boolean,default:!1})],Fr.prototype,"checkoutMode",void 0),a([$({type:String,default:""})],Fr.prototype,"globalSearchQuery",void 0),a([$({type:Array,default:()=>[]})],Fr.prototype,"statusDefaults",void 0),a([$({type:Array,default:()=>[]})],Fr.prototype,"periods",void 0),a([$({type:Object,default:null})],Fr.prototype,"presence",void 0),a([$({type:Boolean,default:!0})],Fr.prototype,"isFullyEditable",void 0),a([$({type:Boolean,default:!1})],Fr.prototype,"isCreatingNewPeriod",void 0),a([$({type:Array,default:()=>[]})],Fr.prototype,"statistics",void 0),a([$({type:Boolean,default:!1})],Fr.prototype,"useStatistics",void 0),Fr=a([D({name:"entry-table",components:{StudentDetails:jr,PresenceStatusDisplay:Cr,PresenceStatusButton:fr,OnOffSwitch:kn,DynamicFieldKey:rr}})],Fr);const Ir=Fr,Lr=Ir;var Ur=o(98),Br=o.n(Ur);const qr=Br();var Mr=Os(Lr,ir,ar,!1,null,"b7a91320",null);"function"===typeof qr&&qr(Mr);const zr=Mr.exports;var Vr=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("button",{staticClass:"color-code mod-selectable",class:[e.color,{"mod-off":!e.isSelected,"is-selected":e.isSelected}],attrs:{title:e.title,"aria-pressed":e.isSelected?"true":"false"},on:{click:function(t){return e.$emit("toggle-filter")}}},[t("span",[e._v(e._s(e.label))])])},Hr=[];let Qr=class extends(c()){isSelected;title;label;color};a([$({type:Boolean})],Qr.prototype,"isSelected",void 0),a([$({type:String,default:""})],Qr.prototype,"title",void 0),a([$({type:String,default:""})],Qr.prototype,"label",void 0),a([$({type:String,default:""})],Qr.prototype,"color",void 0),Qr=a([D({name:"filter-status-button"})],Qr);const Jr=Qr,Gr=Jr;var Kr=Os(Gr,Vr,Hr,!1,null,null,null);const Yr=Kr.exports;var Wr=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("b-popover",{attrs:{target:e.target,show:e.isVisible,triggers:"click",placement:"right","custom-class":"bulk-status"},on:{"update:show":function(t){e.isVisible=t}}},[t("div",{staticStyle:{padding:"8px","border-bottom":"1px solid #d4d4d4","font-size":"13px"}},[t("on-off-switch",{attrs:{id:"disable-selfreg-check","switch-class":"mod-self-disable mod-period","on-text":e.$t("self-registration-on"),"off-text":e.$t("self-registration-off"),checked:!e.selfRegistrationDisabled},on:{toggle:e.selfRegistrationChanged}}),e.selfRegistrationDisabled?e._e():t("a",{staticStyle:{display:"inline-block","margin-top":"7px"},attrs:{href:e.printQrCodeUrl,target:"_blank"}},[t("i",{staticClass:"fa fa-print",staticStyle:{"margin-right":"5px"},attrs:{"aria-hidden":"true"}}),e._v("Toon QR code voor zelfregistratie")])],1),t("div",{staticStyle:{padding:"8px 8px 8px"}},[t("div",{staticClass:"u-flex u-justify-content-start u-align-items-center msg-text u-cursor-pointer",attrs:{id:"lbl-bulk"}},[e._v(e._s(e.$t("set-students-without-status"))+" "),t("i",{staticClass:"fa fa-chevron-right",staticStyle:{color:"#999","margin-left":"3px"},attrs:{"aria-hidden":"true"}})]),t("b-popover",{attrs:{target:"lbl-bulk",triggers:"hover",placement:"rightbottom"}},[t("div",{staticClass:"p-08"},[t("div",{staticClass:"u-flex u-gap-small u-flex-wrap mb-12",attrs:{role:"radiogroup","aria-labelledby":"lbl-bulk"}},e._l(e.presenceStatuses,(function(s,o){return t("button",{key:`status-${o}`,staticClass:"color-code mod-selectable",class:[s.color,e.selectedStatus===s?"mod-shadow is-selected":"mod-shadow-grey"],attrs:{title:e.getPresenceStatusTitle(s),role:"radio","aria-checked":e.selectedStatus===s},on:{click:function(t){e.selectedStatus=s}}},[t("span",[e._v(e._s(s.code))])])})),0),t("div",{staticClass:"u-flex u-gap-small u-justify-content-end"},[t("button",{staticClass:"btn btn-primary btn-sm px-08 py-02",attrs:{disabled:null===e.selectedStatus},on:{click:e.apply}},[e._v(e._s(e.$t("apply")))]),t("button",{staticClass:"btn btn-default btn-sm px-08 py-02",on:{click:e.cancel}},[e._v(e._s(e.$t("cancel")))])])])])],1)])},Zr=[];let Xr=class extends(c()){selectedStatus=null;target;isVisible;presenceStatuses;statusDefaults;selfRegistrationDisabled;printQrCodeUrl;apply(){this.$emit("apply-bulk",this.selectedStatus),this.selectedStatus=null}cancel(){this.$emit("cancel-bulk"),this.selectedStatus=null}selfRegistrationChanged(){this.$emit("self-registration-disabled-changed",!this.selfRegistrationDisabled)}getPresenceStatusTitle(e){return"custom"!==e.type?this.statusDefaults.find((t=>t.id===e.id))?.title||"":e.title||""}};a([$({type:String,required:!0})],Xr.prototype,"target",void 0),a([$({type:Boolean,default:!1})],Xr.prototype,"isVisible",void 0),a([$({type:Array,default:()=>[]})],Xr.prototype,"presenceStatuses",void 0),a([$({type:Array,default:()=>[]})],Xr.prototype,"statusDefaults",void 0),a([$({type:Boolean,required:!0})],Xr.prototype,"selfRegistrationDisabled",void 0),a([$({type:String,default:""})],Xr.prototype,"printQrCodeUrl",void 0),Xr=a([D({name:"period-menu",components:{OnOffSwitch:kn}})],Xr);const ei=Xr,ti=ei;var si=o(269),oi=o.n(si);const ni=oi();var ri=Os(ti,Wr,Zr,!1,null,"b32f5ca2",null);"function"===typeof ni&&ni(ri);const ii=ri.exports;var ai=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("b-table",{ref:"table",staticClass:"mod-presence mod-entry",attrs:{id:e.id,bordered:"",busy:e.isBusy,items:e.items,fields:e.fields,"tbody-tr-class":"table-body-row","no-sort-reset":""},on:{"update:busy":function(t){e.isBusy=t}},scopedSlots:e._u([{key:"head(period-stats)",fn:function(){return[e._v(e._s(e.$t("period")))]},proxy:!0},{key:"cell(period-stats)",fn:function({item:t}){return[e._v(" "+e._s(t.label||e.getPlaceHolder(t.id))+" ")]}},e._l(e.presenceStatuses,(function(s){return{key:`head(status-${s.id})`,fn:function(){return[t("div",{staticClass:"color-code",class:[s.color],staticStyle:{width:"fit-content"},attrs:{title:e.getPresenceStatusTitle(s)}},[t("span",[e._v(e._s(s.code))])])]},proxy:!0}})),{key:"head(status-none)",fn:function(){return[t("div",{staticClass:"color-code grey-100"},[t("span",[e._v(e._s(e.$t("without-status")))])])]},proxy:!0},e.statistics.length?e._l([...e.presenceStatuses,null],(function(s){return{key:`cell(status-${s&&s.id||"none"})`,fn:function({item:o}){return[e._l([e.getPeriodStats(o,s)],(function(s){return[s?t("div",{staticClass:"color-code",staticStyle:{width:"fit-content",margin:"0 auto",background:"#f9f9f9"}},[t("span",{staticStyle:{"font-variant":"initial","font-size":"13px"}},[e._v(e._s(s))])]):t("span",{staticClass:"u-block u-text-center",staticStyle:{color:"#a9b9bc"}},[e._v("0")])]}))]}}})):null],null,!0)})},li=[];let ci=class extends(c()){id;isBusy;selectedPeriod;statusDefaults;periods;presence;statistics;get items(){return[...this.periodsReversed,{id:null,label:"Gem./periode"}]}get periodsReversed(){const e=[...this.periods];return e.reverse(),e}get presenceStatuses(){return this.presence?.statuses||[]}get fields(){const e=this.presenceStatuses.map((e=>({key:"status-"+e.id,sortable:!1})));return e.push({key:"status-none",sortable:!1}),[{key:"period-stats",sortable:!1},...e]}getPlaceHolder(e){return`P${this.periods.findIndex((t=>t.id===e))+1}`}getPeriodStats(e,t){if(!this.periods.length)return 0;if(null===e.id){const e=this.periods.map((e=>this.getPeriodStats(e,t))).reduce(((e,t)=>e+t),0);return parseFloat((e/this.periods.length).toFixed(1))}const s=this.statistics.find((s=>s.period_id===e.id&&s.choice_id===(t?.id||null)));return s?.count||0}getPresenceStatus(e){return this.presenceStatuses.find((t=>t.id===e))}getPresenceStatusTitle(e){return"custom"!==e.type?this.statusDefaults.find((t=>t.id===e.id))?.title||"":e.title||""}};a([$({type:String,default:""})],ci.prototype,"id",void 0),a([$({type:Boolean,default:!1})],ci.prototype,"isBusy",void 0),a([$({type:Object,default:null})],ci.prototype,"selectedPeriod",void 0),a([$({type:Array,default:()=>[]})],ci.prototype,"statusDefaults",void 0),a([$({type:Array,default:()=>[]})],ci.prototype,"periods",void 0),a([$({type:Object,default:null})],ci.prototype,"presence",void 0),a([$({type:Array,default:()=>[]})],ci.prototype,"statistics",void 0),ci=a([D({name:"periods-stats-table"})],ci);const ui=ci,di=ui;var pi=o(744),hi=o.n(pi);const fi=hi();var gi=Os(di,ai,li,!1,null,null,null);"function"===typeof fi&&fi(gi);const yi=gi.exports;let vi=class extends(c()){statusDefaults=[];presence=null;connector=null;connectorNonCourse=null;periods=[];toRemovePeriod=null;students=[];nonCourseStudents=[];creatingNew=!1;createdId=null;pageLoaded=!1;errorData=null;statusFilters=[];withoutStatusSelected=!1;checkoutMode=!1;showMore=!1;statistics=[];loadingStatistics=!1;statOptions=[{text:"Geen statistiek",value:0},{text:"Student/Status",value:1},{text:"Status/Periode",value:2}];pagination={currentPage:1,perPage:15,total:0};searchOptions={globalSearchQuery:""};requestCount=!0;requestNonCourseStudents=!0;selectedPeriod=null;changeAfterStatusFilters=!1;apiConfig;loadIndex;useStatistics;statMode;get globalSearchQuery(){return this.searchOptions.globalSearchQuery}set globalSearchQuery(e){this.searchOptions.globalSearchQuery=e}get defaultTableShown(){return!this.useStatistics||this.useStatistics&&"student"===this.statMode}get nonCourseStudentsShown(){return this.defaultTableShown&&this.nonCourseStudents.length}get statusFiltersShown(){return this.hasSelectedPeriod&&!this.useStatistics}get paginationShown(){return this.defaultTableShown&&this.pageLoaded&&this.pagination.total>0}get periodStatsShown(){return this.useStatistics&&"period"===this.statMode}get hasSelectedPeriod(){return!!this.selectedPeriod}toggleStatusFilters(e){const t=this.statusFilters,s=t.indexOf(e);-1===s?this.statusFilters.push(e):this.statusFilters=t.slice(0,s).concat(t.slice(s+1)),this.requestCount=!0,this.$emit("refresh")}refreshFilters(){this.requestCount=!0,this.$emit("refresh")}toggleWithoutStatus(){this.withoutStatusSelected=!this.withoutStatusSelected,this.requestCount=!0,this.$emit("refresh")}onFilterChanged(){this.requestCount=!0}onFilterCleared(){""!==this.globalSearchQuery&&(this.globalSearchQuery="",this.requestCount=!0)}getPresenceStatusTitle(e){return"custom"!==e.type?this.statusDefaults.find((t=>t.id===e.id))?.title||"":e.title||""}getPlaceHolder(e){return`P${this.periods.findIndex((t=>t.id===e))+1}`}get presenceStatuses(){return this.presence?.statuses||[]}applyBulkStatus(e){this.showMore=!1,this.selectedPeriod&&(this.errorData=null,this.connector?.bulkSavePresenceEntries(this.selectedPeriod.id,e.id,(e=>{"ok"===e?.status&&this.$emit("refresh")})))}cancelBulkStatus(){this.showMore=!1}async load(){const e=await(this.connector?.loadPresence());e&&(this.statusDefaults=e["status-defaults"],this.presence=e.presence),this.presence?.has_checkout||(this.checkoutMode=!1)}async itemsProvider(e){const t={global_search_query:e.filter,sort_field:e.sortBy,sort_direction:e.sortDesc?"desc":"asc",items_per_page:e.perPage,page_number:e.currentPage,request_count:this.requestCount,request_non_course_students:this.requestNonCourseStudents};this.selectedPeriod&&(this.statusFilters.length||this.withoutStatusSelected)&&(t["period_id"]=this.selectedPeriod.id,t["status_filters"]=this.statusFilters.map((e=>e.id)),t["without_status"]=this.withoutStatusSelected);const s=await(this.connector?.loadPresenceEntries(t));this.changeAfterStatusFilters=!1;const{periods:o,students:n}=s;this.periods=o,this.students=n,void 0!==s.count&&(this.pagination.total=s.count,this.requestCount=!1),this.requestNonCourseStudents&&(void 0!==s["non_course_students"]&&(this.nonCourseStudents=s["non_course_students"]),this.requestNonCourseStudents=!1);const r=this.selectedPeriod;return!this.pageLoaded&&this.periods.length?(this.setSelectedPeriod(this.periods[this.periods.length-1].id),this.pageLoaded=!0):null!==this.createdId?(this.setSelectedPeriod(this.createdId),this.createdId=null,this.creatingNew=!1):r&&this.setSelectedPeriod(r.id),n.length?n:[{tableEmpty:!0}]}get isSaving(){return this.connector?.isSaving||!1}get isSavingNonCourse(){return this.connectorNonCourse?.isSaving||!1}setError(e){this.errorData=e,console.log(this.errorData)}async createResultPeriod(){this.selectedPeriod=null,this.creatingNew=!0,this.errorData=null,this.checkoutMode=!1,await(this.connector?.createResultPeriod((e=>{"ok"===e?.status&&(this.createdId=e.id,this.$emit("refresh"))})))}removeSelectedPeriod(){if(!this.selectedPeriod)return;this.errorData=null;const e=this.selectedPeriod;this.toRemovePeriod=e;const t=this.periods.indexOf(e);this.connector?.deletePresencePeriod(e.id,(e=>{this.toRemovePeriod=null,"ok"===e?.status&&(this.periods.splice(t,1),this.setSelectedPeriod(null))}))}setSelectedPeriod(e){this.selectedPeriod=null===e?null:this.periods.find((t=>t.id===e))||null;const t=this.statusFilters.length||this.withoutStatusSelected;null===this.selectedPeriod&&t?(this.statusFilters=[],this.withoutStatusSelected=!1,this.requestCount=!0,this.$emit("refresh")):t&&(this.requestCount=!0,this.$emit("refresh"))}setSelectedPeriodLabel(e,t){this.errorData=null,e.label=t,this.connector?.updatePresencePeriod(e.id,t,e.period_self_registration_disabled)}setSelectedPeriodSelfRegistrationDisabled(e,t){this.errorData=null,e.period_self_registration_disabled=t,this.connector?.updatePresencePeriod(e.id,e.label,t)}async setSelectedStudentStatus(e,t,s,o=!0){this.errorData=null;const n=t.id;e[`period#${n}-status`]=s,o&&(this.statusFilters.length||this.withoutStatusSelected)&&(this.changeAfterStatusFilters=!0);const r=o?this.connector:this.connectorNonCourse;r?.savePresenceEntry(n,e.id,s,(function(t){"ok"===t?.status&&(e[`period#${n}-checked_in_date`]=t.checked_in_date,e[`period#${n}-checked_out_date`]=t.checked_out_date)}))}toggleCheckout(e,t,s=!0){const o=t.id;if(!e[`period#${o}-checked_in_date`])return;const n=s?this.connector:this.connectorNonCourse;n?.togglePresenceEntryCheckout(o,e.id,(t=>{"ok"===t?.status&&(e[`period#${o}-checked_in_date`]=t.checked_in_date,e[`period#${o}-checked_out_date`]=t.checked_out_date)}))}mounted(){this.connector=new Ss(this.apiConfig),this.connector.addErrorListener(this),this.connectorNonCourse=new Ss(this.apiConfig),this.connectorNonCourse.addErrorListener(this),this.load()}_loadIndex(){this.load()}async _statMode(){if("period"===this.statMode){this.loadingStatistics=!0,this.statistics=[];const e=await(this.connector?.loadStatistics())||null;this.loadingStatistics=!1,this.statistics=e?.statistics||[]}}};a([$({type:A,required:!0})],vi.prototype,"apiConfig",void 0),a([$({type:Number,default:0})],vi.prototype,"loadIndex",void 0),a([$({type:Boolean,default:!1})],vi.prototype,"useStatistics",void 0),a([$({type:String,default:""})],vi.prototype,"statMode",void 0),a([N("loadIndex")],vi.prototype,"_loadIndex",null),a([N("statMode")],vi.prototype,"_statMode",null),vi=a([D({name:"entry",components:{PeriodsStatsTable:yi,EntryTable:zr,OnOffSwitch:kn,FilterStatusButton:Yr,SearchBar:Zn,LegendItem:Mn,DynamicFieldKey:rr,PeriodMenu:ii,ErrorDisplay:tn}})],vi);const mi=vi,bi=mi;var _i=o(296),wi=o.n(_i);const Si=wi();var ki=Os(bi,An,jn,!1,null,"07388830",null);"function"===typeof Si&&Si(ki);const Ci=ki.exports;var xi=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"u-flex"},[t("div",{staticClass:"w-max-content"},[t("div",{staticClass:"u-relative"},[t("div",{staticClass:"u-flex u-align-items-baseline u-flex-wrap u-gap-small-3x m-legend"},[t("span",{staticClass:"lbl-legend"},[e._v(e._s(e.$t("legend"))+":")]),e._l(e.presenceStatuses,(function(s){return t("legend-item",{attrs:{title:e.getPresenceStatusTitle(s),label:s.code,color:s.color}})}))],2),e.student?t("b-table-simple",{staticClass:"mod-presence mod-user"},[t("b-thead",[t("b-tr",{staticClass:"table-body-row"},[t("b-th",[e._v(e._s(e.$t("period")))]),t("b-th",[e._v("Status")]),t("b-th",[e._v(e._s(e.$t("checked-in")))]),e.presence&&e.presence.has_checkout?t("b-th",[e._v(e._s(e.$t("checked-out")))]):e._e()],1)],1),t("b-tbody",e._l(e.periodsReversed,(function(s){return t("student-details",{staticClass:"table-body-row",attrs:{"has-checkout":e.presence&&e.presence.has_checkout,"show-status":!0,"period-title":s.label||e.getPlaceHolder(s.id),title:e.getStatusTitleForStudent(s.id),label:e.getStatusCodeForStudent(s.id),color:e.getStatusColorForStudent(s.id),"check-in-date":e.student[`period#${s.id}-checked_in_date`],"check-out-date":e.student[`period#${s.id}-checked_out_date`]}})})),1)],1):e._e()],1),e.errorData?t("error-display",{on:{close:function(t){e.errorData=null}}},[500===e.errorData.code?t("span",[e._v(e._s(e.errorData.message))]):e.errorData.type?t("span",[e._v(e._s(e.$t("error-"+e.errorData.type)))]):e._e()]):e._e()],1)])},Pi=[];let Ei=class extends(c()){statusDefaults=[];presence=null;connector=null;periods=[];student={};errorData=null;apiConfig;get periodsReversed(){const e=[...this.periods];return e.reverse(),e}getPresenceStatus(e){return this.presenceStatuses.find((t=>t.id===e))}getStudentStatusForPeriod(e){return this.student[`period#${e}-status`]}getStatusCodeForStudent(e){return this.getPresenceStatus(this.getStudentStatusForPeriod(e))?.code||""}getStatusColorForStudent(e){return this.getPresenceStatus(this.getStudentStatusForPeriod(e))?.color||""}getStatusTitleForStudent(e){const t=this.getPresenceStatus(this.getStudentStatusForPeriod(e));return t?this.getPresenceStatusTitle(t):""}getPresenceStatusTitle(e){return"custom"!==e.type?this.statusDefaults.find((t=>t.id===e.id))?.title||"":e.title||""}getPlaceHolder(e){return`P${this.periods.findIndex((t=>t.id===e))+1}`}get presenceStatuses(){return this.presence?.statuses||[]}async load(){const e=await(this.connector?.loadPresence());e&&(this.statusDefaults=e["status-defaults"],this.presence=e.presence);const{periods:t,students:s}=await(this.connector?.loadPresenceEntries({}));this.periods=t,this.student=s[0]}setError(e){this.errorData=e}mounted(){this.connector=new Ss(this.apiConfig),this.connector.addErrorListener(this),this.load()}};a([$({type:A,required:!0})],Ei.prototype,"apiConfig",void 0),Ei=a([D({name:"user-entry",components:{StudentDetails:jr,LegendItem:Mn,ErrorDisplay:tn}})],Ei);const Oi=Ei,Di=Oi;var Ri=o(356),Ti=o.n(Ri);const $i=Ti();var Ni=Os(Di,xi,Pi,!1,null,"afa2f7a2",null);"function"===typeof $i&&$i(Ni);const Ai=Ni.exports;var ji=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.presence?t("div",[t("on-off-switch",{staticStyle:{"margin-bottom":"15px"},attrs:{id:"disable-selfreg-global-check","switch-class":"mod-self-disable","on-text":e.$t("self-registration-on"),"off-text":e.$t("self-registration-off"),checked:!e.presence.global_self_registration_disabled},on:{toggle:e.selfRegistrationChanged}}),e.presence.global_self_registration_disabled?e._e():t("a",{staticStyle:{display:"block","font-size":"15px","margin-bottom":"15px"},attrs:{href:e.apiConfig.printQrCodeURL,target:"_blank"}},[t("i",{staticClass:"fa fa-print",staticStyle:{"margin-right":"5px"},attrs:{"aria-hidden":"true"}}),e._v(e._s(e.$t("print-qr")))]),e.errorData?t("error-display",{on:{close:function(t){e.errorData=null}}},[500===e.errorData.code?t("span",[e._v(e._s(e.errorData.message))]):e.errorData.type?t("span",[e._v(e._s(e.$t("error-"+e.errorData.type)))]):e._e()]):e._e()],1):e._e()},Fi=[];let Ii=class extends(c()){presence=null;connector=null;errorData=null;apiConfig;async load(){const e=await(this.connector?.loadPresence());this.presence=e?.presence||null}selfRegistrationChanged(){if(!this.presence)return;this.errorData=null;const e=!this.presence.global_self_registration_disabled;this.presence.global_self_registration_disabled=e,this.connector?.updatePresenceGlobalSelfRegistration(this.presence.id,e)}setError(e){this.errorData=e}mounted(){this.connector=new Ss(this.apiConfig),this.connector.addErrorListener(this),this.load()}};a([$({type:A,required:!0})],Ii.prototype,"apiConfig",void 0),Ii=a([D({name:"properties",components:{OnOffSwitch:kn,ErrorDisplay:tn}})],Ii);const Li=Ii,Ui=Li;var Bi=o(26),qi=o.n(Bi);const Mi=qi();var zi=Os(Ui,ji,Fi,!1,null,null,null);"function"===typeof Mi&&Mi(zi);const Vi=zi.exports,Hi={install(e){e.component("PresenceBuilder",Nn),e.component("PresenceEntry",Ci),e.component("PresenceUserEntry",Ai),e.component("PresenceProperties",Vi)}},Qi=Hi})(),n})()));
//# sourceMappingURL=cosnics-presence.umd.min.js.map