(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("vue-swatches"),require("vue")):"function"===typeof define&&define.amd?define(["vue-swatches"],t):"object"===typeof exports?exports["cosnics-rubric"]=t(require("vue-swatches"),require("vue")):e["cosnics-rubric"]=t(e["vue-swatches"],e["Vue"])})("undefined"!==typeof self?self:this,(function(e,t){return function(){var i={461:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"bold":"bold","bold-strong":"Bold / Strong emphasis","close":"Close","first-item":"A first item","first-paragraph":"A first paragraph","formatting-help":"Formatting help","formatting-intro":"The Markdown techniques below can be used for formatting level descriptions","is":"is","italic":"italicized","italic-emphasis":"Italic / Emphasis","lists":"Lists","numbered-lists":"Numbered lists","paragraphs":"Paragraphs","paragraphs-explain":"Enter two new lines to create a new paragraph.","second-item":"A second item","second-paragraph":"A second paragraph","third-item":"A third item","this-text":"This text"},"fr":{"bold":"gras","bold-strong":"Gras / Grande emphase","close":"Fermer","first-item":"Un premier élément","first-paragraph":"Un premier paragraphe","formatting-help":"Aide de mise en forme","formatting-intro":"On peut utiliser les techniques Markdown ci-dessous pour mettre en forme les descriptions de niveau","is":"est","italic":"italique","italic-emphasis":"Italique / Emphase","lists":"Listes","numbered-lists":"Listes numérotées","paragraphs":"Paragraphes","paragraphs-explain":"Sauter deux lignes pour commencer un nouveau paragraphe.","second-item":"Un deuxième élément","second-paragraph":"Un deuxième paragraphe","third-item":"Un troisième élément","this-text":"Ce texte"},"nl":{"bold":"vetgedrukt","bold-strong":"Vetgedrukt / Sterke nadruk","close":"Sluiten","first-item":"Een eerste item","first-paragraph":"Een eerste paragraaf","formatting-help":"Opmaakhulp","formatting-intro":"De volgende Markdown-technieken kan je gebruiken om niveauomschrijvingen op te maken","is":"is","italic":"schuingedrukt","italic-emphasis":"Schuin / Nadruk","lists":"Lijsten","numbered-lists":"Genummerde lijsten","paragraphs":"Paragrafen","paragraphs-explain":"Voeg twee regels in om een nieuwe paragraaf te maken.","second-item":"Een tweede item","second-paragraph":"Een tweede paragraaf","third-item":"Een derde item","this-text":"Deze tekst"}}'),delete e.options._Ctor}},641:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"enter-level-description":"Enter level description"},"fr":{"enter-level-description":"Entrer une description de niveau"},"nl":{"enter-level-description":"Voer een niveauomschrijving in"}}'),delete e.options._Ctor}},231:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"points":"points"},"fr":{"points":"points"},"nl":{"points":"punten"}}'),delete e.options._Ctor}},85:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"add-level":"Add Level","cancel":"Cancel","default":"Default","default-info":"Optional choice field. The level assigned by default to a criterium.","default-trunc":"Def.","enter-level-description":"Enter level description","level":"Level","points":"Points","range":"Range","remove":"Remove","remove-level":"Remove level {item}"},"fr":{"add-level":"Ajouter un niveau","cancel":"Annuler","default":"Norme","default-info":"Contrôle de choix optionnel. Le niveau attribué par défaut à un critère.","default-trunc":"Nrm.","enter-level-description":"Entrer une description de niveau","level":"Niveau","points":"Points","range":"Range","remove":"Supprimer","remove-level":"Supprimer le niveau {item}"},"nl":{"add-level":"Niveau toevoegen","cancel":"Annuleer","default":"Standaard","default-info":"Optioneel keuzeveld. Het niveau dat standaard wordt toegekend aan een criterium.","default-trunc":"Std.","enter-level-description":"Voer een niveauomschrijving in","level":"Niveau","points":"Punten","range":"Bereik","remove":"Verwijder","remove-level":"Niveau {item} verwijderen"}}'),delete e.options._Ctor}},397:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"levels":"Levels","weights-per-total":"Weights relative to total score","with-scores":"With scores","without-scores":"Without scores"},"fr":{"levels":"Niveaux","with-scores":"Avec scores","without-scores":"Sans scores"},"nl":{"levels":"Niveaus","weights-per-total":"Gewichten relatief t.o.v. totaalscore","with-scores":"Met scores","without-scores":"Zonder scores"}}'),delete e.options._Ctor}},963:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"move-up":"Move up","move-down":"Move down","remove":"Remove"},"nl":{"move-up":"Verplaats naar boven","move-down":"Verplaats naar beneden","remove":"Verwijder"}}'),delete e.options._Ctor}},445:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"change-into-category":"Change into categorie","color-picker":"Color Picker","edit":"Edit","edit-title":"Edit title","list-of-criteria":"List of criteria","open-menu":"Open menu","remove":"Remove","title-category":"Title of category"},"fr":{"change-into-category":"Transformer en catégorie","color-picker":"Pipette à Couleurs","edit":"Modifier","edit-title":"Modifier le titre","list-of-criteria":"Liste des critères","open-menu":"Ouvrer le menu","remove":"Supprimer","title-category":"Titre de la catégorie"},"nl":{"change-into-category":"Wijzig naar categorie","color-picker":"Kleurenkiezer","edit":"Wijzig","edit-title":"Wijzig titel","list-of-criteria":"Lijst met criteria","open-menu":"Open menu","remove":"Verwijder","title-category":"Titel voor categorie"}}'),delete e.options._Ctor}},849:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"edit":"Edit","edit-title":"Edit title","open-menu":"Open menu","remove":"Remove","title-subsection":"Title of subsection"},"fr":{"edit":"Modifier","edit-title":"Modifier le titre","open-menu":"Ouvrer le menu","remove":"Supprimer","title-subsection":"Titre de la sous-section"},"nl":{"edit":"Wijzig","edit-title":"Wijzig titel","open-menu":"Open menu","remove":"Verwijder","title-subsection":"Titel voor onderverdeling"}}'),delete e.options._Ctor}},266:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"back-to-rubric":"Back to rubric","cancel-custom-levels":"Cancel custom levels","close":"Close","criterium":"Criterium","formatting":"Formatting","use-custom-levels":"Use custom levels","weight":"Weight"},"fr":{"back-to-rubric":"Retour à la rubrique","cancel-custom-levels":"Annuler niveaux personnalisés","close":"Fermer","criterium":"Critère","formatting":"Mise en forme","use-custom-levels":"Utiliser des niveaux personnalisés","weight":"Poids"},"nl":{"back-to-rubric":"Terug naar rubric","cancel-custom-levels":"Annuleer aangepaste niveaus","close":"Sluiten","criterium":"Criterium","formatting":"Opmaakhulp","use-custom-levels":"Gebruik aangepaste niveaus","weight":"Gewicht"}}'),delete e.options._Ctor}},758:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"enter-level-description":"Enter level description","fixed-score":"This level has a fixed score for this level. Click to remove."},"fr":{"enter-level-description":"Entrer une description de niveau","fixed-score":"Ce critère a une note fixe pour ce niveau. Cliquez pour l\'annuler."},"nl":{"enter-level-description":"Voer een niveauomschrijving in","fixed-score":"Dit criterium heeft een overschreven vaste score voor dit niveau. Klik om dit ongedaan te maken."}}'),delete e.options._Ctor}},652:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"edit":"Edit","edit-title":"Edit title","details":"Details","open-menu":"Open menu","remove":"Remove","title-criterium":"Title of criterium"},"fr":{"edit":"Modifier","edit-title":"Modifier le titre","details":"Détails","open-menu":"Ouvrer le menu","remove":"Supprimer","title-criterium":"Titre du critère"},"nl":{"edit":"Wijzig","edit-title":"Wijzig titel","details":"Details","open-menu":"Open menu","remove":"Verwijder","title-criterium":"Titel voor criterium"}}'),delete e.options._Ctor}},437:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"cancel":"Cancel","ok":"OK"},"fr":{"cancel":"Annuler","ok":"D\'accord"},"nl":{"cancel":"Annuleer","ok":"OK"}}'),delete e.options._Ctor}},917:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"add":"Add","add-category":"Add new category","title-new-category":"Title of new category"},"fr":{"add":"Ajouter","add-category":"Ajouter une catégorie","title-new-category":"Titre de la nouvelle catégorie"},"nl":{"add":"Voeg Toe","add-category":"Categorie toevoegen","title-new-category":"Titel voor nieuwe categorie"}}'),delete e.options._Ctor}},478:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"add":"Add","add-subsection":"Add new subsection","title-new-subsection":"Title of new subsection"},"fr":{"add":"Ajouter","add-subsection":"Ajouter une sous-section","title-new-subsection":"Titre de la nouvelle sous-section"},"nl":{"add":"Voeg Toe","add-subsection":"Onderdeel toevoegen","title-new-subsection":"Titel voor nieuwe onderverdeling"}}'),delete e.options._Ctor}},653:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"add":"Add","add-criterium":"Add new criterium","title-new-criterium":"Title of new criterium"},"fr":{"add":"Ajouter","add-criterium":"Ajouter un critère","title-new-criterium":"Titre du nouveau critère"},"nl":{"add":"Voeg Toe","add-criterium":"Criterium toevoegen","title-new-criterium":"Titel voor nieuw criterium"}}'),delete e.options._Ctor}},867:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"cancel":"Cancel","Category":"category","Cluster":"subsection","Criterium":"criterium","remove":"Remove","remove-criteria":"Remove criteria","remove-item":"Remove {item}"},"fr":{"cancel":"Annuler","Category":"la catégorie","Cluster":"la sous-section","Criterium":"le critère","remove":"Supprimer","remove-criteria":"Supprimer la liste des critères","remove-item":"Supprimer {item}"},"nl":{"cancel":"Annuleer","Category":"Categorie","Cluster":"Onderverdeling","Criterium":"Criterium","remove":"Verwijder","remove-criteria":"Criteria verwijderen","remove-item":"{item} verwijderen"}}'),delete e.options._Ctor}},173:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"new-criteria-list":"New list of criteria","no-criteria-yet":"No criteria yet","subsections":"Subsections"},"fr":{"new-criteria-list":"Nouvelle liste de critères","no-criteria-yet":"Pas de critères ajoutés","subsections":"Sous-sections"},"nl":{"new-criteria-list":"Nieuwe lijst met criteria","no-criteria-yet":"Nog geen criteria toegevoegd","subsections":"Onderverdelingen"}}'),delete e.options._Ctor}},236:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"split-view":"Split View"},"fr":{"split-view":"Vue Partagé"},"nl":{"split-view":"Split View"}}'),delete e.options._Ctor}},331:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"num-changes":"1 change | {count} changes","all-saved":"All changes saved"},"fr":{"num-changes":"1 modification | {count} modifications","all-saved":"Modifications enregistrées"},"nl":{"num-changes":"1 wijziging | {count} wijzigingen","all-saved":"Wijzigingen opgeslagen"}}'),delete e.options._Ctor}},633:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"adjusted-score":"Adjusted score","deselect":"Deselect","no-description":"No description","points":"points"},"fr":{"adjusted-score":"Score personnalisé","deselect":"Désélectionner","no-description":"Pas de description","points":"points"},"nl":{"adjusted-score":"Aangepaste score","deselect":"Deselecteer","no-description":"Geen omschrijving","points":"punten"}}'),delete e.options._Ctor}},243:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"date-time-at":"at","level":"Level","no-level":"No level given","no-score":"No score","score-weight":"Score on grand total with the given weight"},"fr":{"date-time-at":"à","level":"Niveau","no-level":"No level given","no-score":"No score","score-weight":"Score sur le total général avec le poids donné"},"nl":{"date-time-at":"om","level":"Niveau","no-level":"geen niveau opgegeven","no-score":"geen score","score-weight":"Score op eindtotaal met het gegeven gewicht"}}'),delete e.options._Ctor}},501:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"close":"Close","no-results":"No results to display.","only-feedback":"Show only results with feedback","weight":"Weight"},"fr":{"close":"Fermer","no-results":"Aucun résultat à afficher.","only-feedback":"Seulement des résultats avec feedback","weight":"Poids"},"nl":{"close":"Sluiten","no-results":"Geen resultaten om weer te geven.","only-feedback":"Alleen resultaten met feedback","weight":"Gewicht"}}'),delete e.options._Ctor}},503:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"builder":"Builder","level-descriptions":"Level descriptions","levels":"Levels","error-conflict":"The server responded with an error due to a conflict. Probably someone else is working on the same rubric at this time. Please refresh the page and try again.","error-forbidden":"The server responded with an error. Possibly your last change(s) haven\'t been saved correctly. Please refresh the page and try again.","error-notfound":"The server responded with an error. Possibly your last change(s) haven\'t been saved correctly. Please refresh the page and try again.","error-timeout":"The server is taking too long to respond. Possibly your last change(s) haven\'t been saved correctly. Please refresh the page and try again.","error-unknown":"An unknown error happened. Possibly your last change(s) haven\'t been saved. Please refresh the page and try again.","preview":"Preview","use-scores":"Use Scores","weights-system-msg":"<p>Beste Gebruiker</p><p>We ontwikkelden een nieuwe manier van werken met de gewichten binnen een rubric. Lees onderstaande informatie en maak je keuze.</p><table style=\\"border: 1px solid #cbcbcb;margin-bottom: 16px;\\"><thead style=\\"border-bottom: 1px solid #cbcbcb\\"><tr><th style=\\"padding: .5rem\\">Oude gewichtensysteem</th><th style=\\"padding: .5rem;border-left: 1px solid #cbcbcb;\\">Nieuwe gewichtensysteem</th></tr></thead><tbody><tr><td style=\\"padding: .5rem;vertical-align:top;\\"><p>Je gebruikt een gewicht om een bepaald criterium een andere score te geven dan de standaardscore.</p><br><p>Bijvoorbeeld:</p></td><td style=\\"padding: .5rem;vertical-align:top;border-left: 1px solid #cbcbcb;\\"><p>Je gebruikt een gewicht om aan te duiden hoeveel een bepaald criterium meetelt op het eindtotaal.</p><br><p>Bijvoorbeeld: Criterium A telt mee voor 50% van het eindtotaal.</p></td></tr></tbody></table><p>Het nieuwe systeem werkt niet langer met absolute scores maar met procentuele scores waardoor de berekening van de scores een pak eenvoudiger wordt.</p><img style=\\"width:100%;margin: 0 0 10px;\\" src=\\"{imgurl}\\" alt=\\"Nieuwe gewichtensysteem\\" /><p>Omdat je in deze rubric reeds gebruik maakt van het oude systeem van gewichten kan je ervoor kiezen om het oude systeem te blijven gebruiken of over te stappen op het nieuwe systeem. We raden je aan om gebruik te maken van het nieuwe systeem omdat dit systeem eenvoudiger is in gebruik.</p><p>Belangrijk!<br>- Wanneer je hier kiest voor het nieuwe gewichtensysteem dien je de gewichten opnieuw in te stellen.<br>- Bij het maken van een nieuwe rubric is er geen mogelijkheid om het oude gewichtensysteem te gebruiken en zal je dus automatisch in het nieuwe systeem werken.</p><p>Maak hier je keuze:</p>","move-new":"Move to new weights system","keep-old":"Keep old system","new-weights-system":"Attention! New weights system!"},"fr":{"builder":"Construire","level-descriptions":"Descriptions de niveau","levels":"Niveaux","preview":"Aperçu","use-scores":"Utiliser les Scores"},"nl":{"builder":"Bouwen","level-descriptions":"Niveauomschrijvingen","levels":"Niveaus","error-conflict":"Serverfout vanwege een conflict. Misschien werkt iemand aan dezelfde rubric op dit ogenblik. Gelieve de pagina te herladen en opnieuw te proberen.","error-forbidden":"Serverfout. Mogelijk werden je wijzigingen niet (correct) opgeslagen. Gelieve de pagina te herladen en opnieuw te proberen.","error-notfound":"Serverfout. Mogelijk werden je wijzigingen niet (correct) opgeslagen. Gelieve de pagina te herladen en opnieuw te proberen.","error-timeout":"De server doet er te lang over om te antwoorden. Mogelijk werden je wijzigingen niet (correct) opgeslagen. Gelieve de pagina te herladen en opnieuw te proberen.","error-unknown":"Je laatste wijzigingen werden mogelijk niet opgeslagen vanwege een onbekende fout. Gelieve de pagina te herladen en opnieuw te proberen.","preview":"Preview","use-scores":"Gebruik Scores","move-new":"Overstappen naar het nieuwe systeem","keep-old":"Bij het oude systeem blijven","new-weights-system":"Opgelet! Nieuw gewichtensysteem!"}}'),delete e.options._Ctor}},362:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"formatting":"Formatting","weight":"Weight"},"fr":{"formatting":"Mise en forme","weight":"Poids"},"nl":{"formatting":"Opmaakhulp","weight":"Gewicht"}}'),delete e.options._Ctor}},936:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"expand-all":"Expand all","extra-feedback":"Enter extra feedback","feedback":"Feedback","no-description":"No description","points":"points","rubric":"Rubric","select-level":"Select a level","show-default-descriptions":"Show all level descriptions and feedback","show-default-description":"Show level descriptions and feedback","subsection":"Subsection","total":"Total","weight":"Weight"},"fr":{"expand-all":"Agrandir tout","extra-feedback":"Feed-back supplémentaire","feedback":"Feed-back","no-description":"Pas de description","points":"points","rubric":"Rubrique","select-level":"Selectionnez un niveau","show-default-descriptions":"Afficher toutes descriptions de niveau et feed-back","show-default-description":"Afficher descriptions de niveau et feed-back","subsection":"Sous-section","total":"Total","weight":"Poids"},"nl":{"expand-all":"Alles uitklappen","extra-feedback":"Geef bijkomende feedback","feedback":"Feedback","no-description":"Geen omschrijving","points":"punten","rubric":"Rubric","select-level":"Selecteer een niveau","show-default-descriptions":"Toon alle niveauomschrijvingen en feedback","show-default-description":"Toon niveauomschrijvingen en feedback","subsection":"Onderdeel","total":"Totaal","weight":"Gewicht"}}'),delete e.options._Ctor}},657:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"select":"Select"},"fr":{"select":"Sélectionnez"},"nl":{"select":"Selecteer"}}'),delete e.options._Ctor}},573:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"create-from-existing-rubric":"Create a new rubric based on an existing result","extra-feedback":"Extra feedback","no-results-available":"There are no results yet for this rubric.","numbers-display":"Numbers display","rubric":"Rubric","select":"Select","total":"Total","weight":"Weight"},"fr":{"create-from-existing-rubric":"Créer une nouvelle rubrique basée sur un resultat existant","extra-feedback":"Feed-back supplémentaire","no-results-available":"Aucun résultat trouvé pour ce rubric.","numbers-display":"Affichage des chiffres","rubric":"Rubrique","select":"Sélectionnez","total":"Total","weight":"Poids"},"nl":{"create-from-existing-rubric":"Nieuwe rubric aanmaken op basis van een bestaand resultaat","extra-feedback":"Extra feedback","no-results-available":"Er zijn nog geen resultaten voor deze rubric beschikbaar.","numbers-display":"Cijferweergave","rubric":"Rubric","select":"Selecteer","total":"Totaal","weight":"Gewicht"}}'),delete e.options._Ctor}},914:function(e,t){var i,r,n;(function(o,s){r=[],i=s,n="function"===typeof i?i.apply(t,r):i,void 0===n||(e.exports=n)})("undefined"!==typeof self&&self,(function(){function e(){var t=Object.getOwnPropertyDescriptor(document,"currentScript");if(!t&&"currentScript"in document&&document.currentScript)return document.currentScript;if(t&&t.get!==e&&document.currentScript)return document.currentScript;try{throw new Error}catch(p){var i,r,n,o=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,s=/@([^@]*):(\d+):(\d+)\s*$/gi,a=o.exec(p.stack)||s.exec(p.stack),l=a&&a[1]||!1,c=a&&a[2]||!1,u=document.location.href.replace(document.location.hash,""),d=document.getElementsByTagName("script");l===u&&(i=document.documentElement.outerHTML,r=new RegExp("(?:[^\\n]+?\\n){0,"+(c-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),n=i.replace(r,"$1").trim());for(var h=0;h<d.length;h++){if("interactive"===d[h].readyState)return d[h];if(d[h].src===l)return d[h];if(l===u&&d[h].innerHTML&&d[h].innerHTML.trim()===n)return d[h]}return null}}return e}))},678:function(e){function t(e,t,i){var r,n,o,s,a;function l(){var c=Date.now()-s;c<t&&c>=0?r=setTimeout(l,t-c):(r=null,i||(a=e.apply(o,n),o=n=null))}null==t&&(t=100);var c=function(){o=this,n=arguments,s=Date.now();var c=i&&!r;return r||(r=setTimeout(l,t)),c&&(a=e.apply(o,n),o=n=null),a};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(a=e.apply(o,n),o=n=null,clearTimeout(r),r=null)},c}t.debounce=t,e.exports=t},248:function(e){
/*! @license DOMPurify 3.0.8 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.8/LICENSE */
(function(t,i){e.exports=i()})(0,(function(){"use strict";const{entries:e,setPrototypeOf:t,isFrozen:i,getPrototypeOf:r,getOwnPropertyDescriptor:n}=Object;let{freeze:o,seal:s,create:a}=Object,{apply:l,construct:c}="undefined"!==typeof Reflect&&Reflect;o||(o=function(e){return e}),s||(s=function(e){return e}),l||(l=function(e,t,i){return e.apply(t,i)}),c||(c=function(e,t){return new e(...t)});const u=_(Array.prototype.forEach),d=_(Array.prototype.pop),h=_(Array.prototype.push),p=_(String.prototype.toLowerCase),f=_(String.prototype.toString),m=_(String.prototype.match),g=_(String.prototype.replace),v=_(String.prototype.indexOf),b=_(String.prototype.trim),y=_(RegExp.prototype.test),w=C(TypeError);function _(e){return function(t){for(var i=arguments.length,r=new Array(i>1?i-1:0),n=1;n<i;n++)r[n-1]=arguments[n];return l(e,t,r)}}function C(e){return function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return c(e,i)}}function x(e,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p;t&&t(e,null);let o=r.length;while(o--){let t=r[o];if("string"===typeof t){const e=n(t);e!==t&&(i(r)||(r[o]=e),t=e)}e[t]=!0}return e}function k(e){for(let t=0;t<e.length;t++)void 0===n(e,t)&&(e[t]=null);return e}function S(t){const i=a(null);for(const[r,o]of e(t))void 0!==n(t,r)&&(Array.isArray(o)?i[r]=k(o):o&&"object"===typeof o&&o.constructor===Object?i[r]=S(o):i[r]=o);return i}function E(e,t){while(null!==e){const i=n(e,t);if(i){if(i.get)return _(i.get);if("function"===typeof i.value)return _(i.value)}e=r(e)}function i(e){return console.warn("fallback value for",e),null}return i}const T=o(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),R=o(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),O=o(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),D=o(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),N=o(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),A=o(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),$=o(["#text"]),j=o(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),L=o(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),I=o(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),P=o(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),F=s(/\{\{[\w\W]*|[\w\W]*\}\}/gm),M=s(/<%[\w\W]*|[\w\W]*%>/gm),q=s(/\${[\w\W]*}/gm),z=s(/^data-[\-\w.\u00B7-\uFFFF]/),B=s(/^aria-[\-\w]+$/),U=s(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),W=s(/^(?:\w+script|data):/i),V=s(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),H=s(/^html$/i);var G=Object.freeze({__proto__:null,MUSTACHE_EXPR:F,ERB_EXPR:M,TMPLIT_EXPR:q,DATA_ATTR:z,ARIA_ATTR:B,IS_ALLOWED_URI:U,IS_SCRIPT_OR_DATA:W,ATTR_WHITESPACE:V,DOCTYPE_NAME:H});const J=function(){return"undefined"===typeof window?null:window},X=function(e,t){if("object"!==typeof e||"function"!==typeof e.createPolicy)return null;let i=null;const r="data-tt-policy-suffix";t&&t.hasAttribute(r)&&(i=t.getAttribute(r));const n="dompurify"+(i?"#"+i:"");try{return e.createPolicy(n,{createHTML(e){return e},createScriptURL(e){return e}})}catch(o){return console.warn("TrustedTypes policy "+n+" could not be created."),null}};function Y(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J();const i=e=>Y(e);if(i.version="3.0.8",i.removed=[],!t||!t.document||9!==t.document.nodeType)return i.isSupported=!1,i;let{document:r}=t;const n=r,s=n.currentScript,{DocumentFragment:l,HTMLTemplateElement:c,Node:_,Element:C,NodeFilter:k,NamedNodeMap:F=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:M,DOMParser:q,trustedTypes:z}=t,B=C.prototype,W=E(B,"cloneNode"),V=E(B,"nextSibling"),K=E(B,"childNodes"),Q=E(B,"parentNode");if("function"===typeof c){const e=r.createElement("template");e.content&&e.content.ownerDocument&&(r=e.content.ownerDocument)}let Z,ee="";const{implementation:te,createNodeIterator:ie,createDocumentFragment:re,getElementsByTagName:ne}=r,{importNode:oe}=n;let se={};i.isSupported="function"===typeof e&&"function"===typeof Q&&te&&void 0!==te.createHTMLDocument;const{MUSTACHE_EXPR:ae,ERB_EXPR:le,TMPLIT_EXPR:ce,DATA_ATTR:ue,ARIA_ATTR:de,IS_SCRIPT_OR_DATA:he,ATTR_WHITESPACE:pe}=G;let{IS_ALLOWED_URI:fe}=G,me=null;const ge=x({},[...T,...R,...O,...N,...$]);let ve=null;const be=x({},[...j,...L,...I,...P]);let ye=Object.seal(a(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),we=null,_e=null,Ce=!0,xe=!0,ke=!1,Se=!0,Ee=!1,Te=!1,Re=!1,Oe=!1,De=!1,Ne=!1,Ae=!1,$e=!0,je=!1;const Le="user-content-";let Ie=!0,Pe=!1,Fe={},Me=null;const qe=x({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ze=null;const Be=x({},["audio","video","img","source","image","track"]);let Ue=null;const We=x({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ve="http://www.w3.org/1998/Math/MathML",He="http://www.w3.org/2000/svg",Ge="http://www.w3.org/1999/xhtml";let Je=Ge,Xe=!1,Ye=null;const Ke=x({},[Ve,He,Ge],f);let Qe=null;const Ze=["application/xhtml+xml","text/html"],et="text/html";let tt=null,it=null;const rt=r.createElement("form"),nt=function(e){return e instanceof RegExp||e instanceof Function},ot=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!it||it!==e){if(e&&"object"===typeof e||(e={}),e=S(e),Qe=-1===Ze.indexOf(e.PARSER_MEDIA_TYPE)?et:e.PARSER_MEDIA_TYPE,tt="application/xhtml+xml"===Qe?f:p,me="ALLOWED_TAGS"in e?x({},e.ALLOWED_TAGS,tt):ge,ve="ALLOWED_ATTR"in e?x({},e.ALLOWED_ATTR,tt):be,Ye="ALLOWED_NAMESPACES"in e?x({},e.ALLOWED_NAMESPACES,f):Ke,Ue="ADD_URI_SAFE_ATTR"in e?x(S(We),e.ADD_URI_SAFE_ATTR,tt):We,ze="ADD_DATA_URI_TAGS"in e?x(S(Be),e.ADD_DATA_URI_TAGS,tt):Be,Me="FORBID_CONTENTS"in e?x({},e.FORBID_CONTENTS,tt):qe,we="FORBID_TAGS"in e?x({},e.FORBID_TAGS,tt):{},_e="FORBID_ATTR"in e?x({},e.FORBID_ATTR,tt):{},Fe="USE_PROFILES"in e&&e.USE_PROFILES,Ce=!1!==e.ALLOW_ARIA_ATTR,xe=!1!==e.ALLOW_DATA_ATTR,ke=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Se=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,Ee=e.SAFE_FOR_TEMPLATES||!1,Te=e.WHOLE_DOCUMENT||!1,De=e.RETURN_DOM||!1,Ne=e.RETURN_DOM_FRAGMENT||!1,Ae=e.RETURN_TRUSTED_TYPE||!1,Oe=e.FORCE_BODY||!1,$e=!1!==e.SANITIZE_DOM,je=e.SANITIZE_NAMED_PROPS||!1,Ie=!1!==e.KEEP_CONTENT,Pe=e.IN_PLACE||!1,fe=e.ALLOWED_URI_REGEXP||U,Je=e.NAMESPACE||Ge,ye=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&nt(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ye.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&nt(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ye.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"===typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(ye.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ee&&(xe=!1),Ne&&(De=!0),Fe&&(me=x({},$),ve=[],!0===Fe.html&&(x(me,T),x(ve,j)),!0===Fe.svg&&(x(me,R),x(ve,L),x(ve,P)),!0===Fe.svgFilters&&(x(me,O),x(ve,L),x(ve,P)),!0===Fe.mathMl&&(x(me,N),x(ve,I),x(ve,P))),e.ADD_TAGS&&(me===ge&&(me=S(me)),x(me,e.ADD_TAGS,tt)),e.ADD_ATTR&&(ve===be&&(ve=S(ve)),x(ve,e.ADD_ATTR,tt)),e.ADD_URI_SAFE_ATTR&&x(Ue,e.ADD_URI_SAFE_ATTR,tt),e.FORBID_CONTENTS&&(Me===qe&&(Me=S(Me)),x(Me,e.FORBID_CONTENTS,tt)),Ie&&(me["#text"]=!0),Te&&x(me,["html","head","body"]),me.table&&(x(me,["tbody"]),delete we.tbody),e.TRUSTED_TYPES_POLICY){if("function"!==typeof e.TRUSTED_TYPES_POLICY.createHTML)throw w('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!==typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw w('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Z=e.TRUSTED_TYPES_POLICY,ee=Z.createHTML("")}else void 0===Z&&(Z=X(z,s)),null!==Z&&"string"===typeof ee&&(ee=Z.createHTML(""));o&&o(e),it=e}},st=x({},["mi","mo","mn","ms","mtext"]),at=x({},["foreignobject","desc","title","annotation-xml"]),lt=x({},["title","style","font","a","script"]),ct=x({},[...R,...O,...D]),ut=x({},[...N,...A]),dt=function(e){let t=Q(e);t&&t.tagName||(t={namespaceURI:Je,tagName:"template"});const i=p(e.tagName),r=p(t.tagName);return!!Ye[e.namespaceURI]&&(e.namespaceURI===He?t.namespaceURI===Ge?"svg"===i:t.namespaceURI===Ve?"svg"===i&&("annotation-xml"===r||st[r]):Boolean(ct[i]):e.namespaceURI===Ve?t.namespaceURI===Ge?"math"===i:t.namespaceURI===He?"math"===i&&at[r]:Boolean(ut[i]):e.namespaceURI===Ge?!(t.namespaceURI===He&&!at[r])&&(!(t.namespaceURI===Ve&&!st[r])&&(!ut[i]&&(lt[i]||!ct[i]))):!("application/xhtml+xml"!==Qe||!Ye[e.namespaceURI]))},ht=function(e){h(i.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){e.remove()}},pt=function(e,t){try{h(i.removed,{attribute:t.getAttributeNode(e),from:t})}catch(r){h(i.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!ve[e])if(De||Ne)try{ht(t)}catch(r){}else try{t.setAttribute(e,"")}catch(r){}},ft=function(e){let t=null,i=null;if(Oe)e="<remove></remove>"+e;else{const t=m(e,/^[\r\n\t ]+/);i=t&&t[0]}"application/xhtml+xml"===Qe&&Je===Ge&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const n=Z?Z.createHTML(e):e;if(Je===Ge)try{t=(new q).parseFromString(n,Qe)}catch(s){}if(!t||!t.documentElement){t=te.createDocument(Je,"template",null);try{t.documentElement.innerHTML=Xe?ee:n}catch(s){}}const o=t.body||t.documentElement;return e&&i&&o.insertBefore(r.createTextNode(i),o.childNodes[0]||null),Je===Ge?ne.call(t,Te?"html":"body")[0]:Te?t.documentElement:o},mt=function(e){return ie.call(e.ownerDocument||e,e,k.SHOW_ELEMENT|k.SHOW_COMMENT|k.SHOW_TEXT,null)},gt=function(e){return e instanceof M&&("string"!==typeof e.nodeName||"string"!==typeof e.textContent||"function"!==typeof e.removeChild||!(e.attributes instanceof F)||"function"!==typeof e.removeAttribute||"function"!==typeof e.setAttribute||"string"!==typeof e.namespaceURI||"function"!==typeof e.insertBefore||"function"!==typeof e.hasChildNodes)},vt=function(e){return"function"===typeof _&&e instanceof _},bt=function(e,t,r){se[e]&&u(se[e],(e=>{e.call(i,t,r,it)}))},yt=function(e){let t=null;if(bt("beforeSanitizeElements",e,null),gt(e))return ht(e),!0;const r=tt(e.nodeName);if(bt("uponSanitizeElement",e,{tagName:r,allowedTags:me}),e.hasChildNodes()&&!vt(e.firstElementChild)&&y(/<[/\w]/g,e.innerHTML)&&y(/<[/\w]/g,e.textContent))return ht(e),!0;if(!me[r]||we[r]){if(!we[r]&&_t(r)){if(ye.tagNameCheck instanceof RegExp&&y(ye.tagNameCheck,r))return!1;if(ye.tagNameCheck instanceof Function&&ye.tagNameCheck(r))return!1}if(Ie&&!Me[r]){const t=Q(e)||e.parentNode,i=K(e)||e.childNodes;if(i&&t){const r=i.length;for(let n=r-1;n>=0;--n)t.insertBefore(W(i[n],!0),V(e))}}return ht(e),!0}return e instanceof C&&!dt(e)?(ht(e),!0):"noscript"!==r&&"noembed"!==r&&"noframes"!==r||!y(/<\/no(script|embed|frames)/i,e.innerHTML)?(Ee&&3===e.nodeType&&(t=e.textContent,u([ae,le,ce],(e=>{t=g(t,e," ")})),e.textContent!==t&&(h(i.removed,{element:e.cloneNode()}),e.textContent=t)),bt("afterSanitizeElements",e,null),!1):(ht(e),!0)},wt=function(e,t,i){if($e&&("id"===t||"name"===t)&&(i in r||i in rt))return!1;if(xe&&!_e[t]&&y(ue,t));else if(Ce&&y(de,t));else if(!ve[t]||_e[t]){if(!(_t(e)&&(ye.tagNameCheck instanceof RegExp&&y(ye.tagNameCheck,e)||ye.tagNameCheck instanceof Function&&ye.tagNameCheck(e))&&(ye.attributeNameCheck instanceof RegExp&&y(ye.attributeNameCheck,t)||ye.attributeNameCheck instanceof Function&&ye.attributeNameCheck(t))||"is"===t&&ye.allowCustomizedBuiltInElements&&(ye.tagNameCheck instanceof RegExp&&y(ye.tagNameCheck,i)||ye.tagNameCheck instanceof Function&&ye.tagNameCheck(i))))return!1}else if(Ue[t]);else if(y(fe,g(i,pe,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==v(i,"data:")||!ze[e]){if(ke&&!y(he,g(i,pe,"")));else if(i)return!1}else;return!0},_t=function(e){return e.indexOf("-")>0},Ct=function(e){bt("beforeSanitizeAttributes",e,null);const{attributes:t}=e;if(!t)return;const r={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ve};let n=t.length;while(n--){const s=t[n],{name:a,namespaceURI:l,value:c}=s,h=tt(a);let p="value"===a?c:b(c);if(r.attrName=h,r.attrValue=p,r.keepAttr=!0,r.forceKeepAttr=void 0,bt("uponSanitizeAttribute",e,r),p=r.attrValue,r.forceKeepAttr)continue;if(pt(a,e),!r.keepAttr)continue;if(!Se&&y(/\/>/i,p)){pt(a,e);continue}Ee&&u([ae,le,ce],(e=>{p=g(p,e," ")}));const f=tt(e.nodeName);if(wt(f,h,p)){if(!je||"id"!==h&&"name"!==h||(pt(a,e),p=Le+p),Z&&"object"===typeof z&&"function"===typeof z.getAttributeType)if(l);else switch(z.getAttributeType(f,h)){case"TrustedHTML":p=Z.createHTML(p);break;case"TrustedScriptURL":p=Z.createScriptURL(p);break}try{l?e.setAttributeNS(l,a,p):e.setAttribute(a,p),d(i.removed)}catch(o){}}}bt("afterSanitizeAttributes",e,null)},xt=function e(t){let i=null;const r=mt(t);bt("beforeSanitizeShadowDOM",t,null);while(i=r.nextNode())bt("uponSanitizeShadowNode",i,null),yt(i)||(i.content instanceof l&&e(i.content),Ct(i));bt("afterSanitizeShadowDOM",t,null)};return i.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null,o=null,s=null,a=null;if(Xe=!e,Xe&&(e="\x3c!--\x3e"),"string"!==typeof e&&!vt(e)){if("function"!==typeof e.toString)throw w("toString is not a function");if(e=e.toString(),"string"!==typeof e)throw w("dirty is not a string, aborting")}if(!i.isSupported)return e;if(Re||ot(t),i.removed=[],"string"===typeof e&&(Pe=!1),Pe){if(e.nodeName){const t=tt(e.nodeName);if(!me[t]||we[t])throw w("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof _)r=ft("\x3c!----\x3e"),o=r.ownerDocument.importNode(e,!0),1===o.nodeType&&"BODY"===o.nodeName||"HTML"===o.nodeName?r=o:r.appendChild(o);else{if(!De&&!Ee&&!Te&&-1===e.indexOf("<"))return Z&&Ae?Z.createHTML(e):e;if(r=ft(e),!r)return De?null:Ae?ee:""}r&&Oe&&ht(r.firstChild);const c=mt(Pe?e:r);while(s=c.nextNode())yt(s)||(s.content instanceof l&&xt(s.content),Ct(s));if(Pe)return e;if(De){if(Ne){a=re.call(r.ownerDocument);while(r.firstChild)a.appendChild(r.firstChild)}else a=r;return(ve.shadowroot||ve.shadowrootmode)&&(a=oe.call(n,a,!0)),a}let d=Te?r.outerHTML:r.innerHTML;return Te&&me["!doctype"]&&r.ownerDocument&&r.ownerDocument.doctype&&r.ownerDocument.doctype.name&&y(H,r.ownerDocument.doctype.name)&&(d="<!DOCTYPE "+r.ownerDocument.doctype.name+">\n"+d),Ee&&u([ae,le,ce],(e=>{d=g(d,e," ")})),Z&&Ae?Z.createHTML(d):d},i.setConfig=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ot(e),Re=!0},i.clearConfig=function(){it=null,Re=!1},i.isValidAttribute=function(e,t,i){it||ot({});const r=tt(e),n=tt(t);return wt(r,n,i)},i.addHook=function(e,t){"function"===typeof t&&(se[e]=se[e]||[],h(se[e],t))},i.removeHook=function(e){if(se[e])return d(se[e])},i.removeHooks=function(e){se[e]&&(se[e]=[])},i.removeAllHooks=function(){se={}},i}var K=Y();return K}))},547:function(e){"use strict";var t=Object.prototype.hasOwnProperty,i="~";function r(){}function n(e,t,i){this.fn=e,this.context=t,this.once=i||!1}function o(e,t,r,o,s){if("function"!==typeof r)throw new TypeError("The listener must be a function");var a=new n(r,o||e,s),l=i?i+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],a]:e._events[l].push(a):(e._events[l]=a,e._eventsCount++),e}function s(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(i=!1)),a.prototype.eventNames=function(){var e,r,n=[];if(0===this._eventsCount)return n;for(r in e=this._events)t.call(e,r)&&n.push(i?r.slice(1):r);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},a.prototype.listeners=function(e){var t=i?i+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,o=r.length,s=new Array(o);n<o;n++)s[n]=r[n].fn;return s},a.prototype.listenerCount=function(e){var t=i?i+e:e,r=this._events[t];return r?r.fn?1:r.length:0},a.prototype.emit=function(e,t,r,n,o,s){var a=i?i+e:e;if(!this._events[a])return!1;var l,c,u=this._events[a],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,n),!0;case 5:return u.fn.call(u.context,t,r,n,o),!0;case 6:return u.fn.call(u.context,t,r,n,o,s),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,p=u.length;for(c=0;c<p;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,n);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},a.prototype.on=function(e,t,i){return o(this,e,t,i,!1)},a.prototype.once=function(e,t,i){return o(this,e,t,i,!0)},a.prototype.removeListener=function(e,t,r,n){var o=i?i+e:e;if(!this._events[o])return this;if(!t)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==t||n&&!a.once||r&&a.context!==r||s(this,o);else{for(var l=0,c=[],u=a.length;l<u;l++)(a[l].fn!==t||n&&!a[l].once||r&&a[l].context!==r)&&c.push(a[l]);c.length?this._events[o]=1===c.length?c[0]:c:s(this,o)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&s(this,t)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=i,a.EventEmitter=a,e.exports=a},306:function(e){"use strict";e.exports=(e,t)=>(t=t||(()=>{}),e.then((e=>new Promise((e=>{e(t())})).then((()=>e))),(e=>new Promise((e=>{e(t())})).then((()=>{throw e})))))},781:function(e,t,i){"use strict";const r=i(547),n=i(499),o=i(906),s=()=>{},a=new n.TimeoutError;class l extends r{constructor(e){var t,i,r,n;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=s,this._resolveIdle=s,e=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:o.default},e),!("number"===typeof e.intervalCap&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!==(i=null===(t=e.intervalCap)||void 0===t?void 0:t.toString())&&void 0!==i?i:""}\` (${typeof e.intervalCap})`);if(void 0===e.interval||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!==(n=null===(r=e.interval)||void 0===r?void 0:r.toString())&&void 0!==n?n:""}\` (${typeof e.interval})`);this._carryoverConcurrencyCount=e.carryoverConcurrencyCount,this._isIntervalIgnored=e.intervalCap===1/0||0===e.interval,this._intervalCap=e.intervalCap,this._interval=e.interval,this._queue=new e.queueClass,this._queueClass=e.queueClass,this.concurrency=e.concurrency,this._timeout=e.timeout,this._throwOnTimeout=!0===e.throwOnTimeout,this._isPaused=!1===e.autoStart}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=s,0===this._pendingCount&&(this._resolveIdle(),this._resolveIdle=s,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){const e=Date.now();if(void 0===this._intervalId){const t=this._intervalEnd-e;if(!(t<0))return void 0===this._timeoutId&&(this._timeoutId=setTimeout((()=>{this._onResumeInterval()}),t)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}_tryToStartAnother(){if(0===this._queue.size)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){const e=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){const t=this._queue.dequeue();return!!t&&(this.emit("active"),t(),e&&this._initializeIntervalIfNeeded(),!0)}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||void 0!==this._intervalId||(this._intervalId=setInterval((()=>{this._onInterval()}),this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){0===this._intervalCount&&0===this._pendingCount&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){while(this._tryToStartAnother());}get concurrency(){return this._concurrency}set concurrency(e){if(!("number"===typeof e&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);this._concurrency=e,this._processQueue()}async add(e,t={}){return new Promise(((i,r)=>{const o=async()=>{this._pendingCount++,this._intervalCount++;try{const o=void 0===this._timeout&&void 0===t.timeout?e():n.default(Promise.resolve(e()),void 0===t.timeout?this._timeout:t.timeout,(()=>{(void 0===t.throwOnTimeout?this._throwOnTimeout:t.throwOnTimeout)&&r(a)}));i(await o)}catch(o){r(o)}this._next()};this._queue.enqueue(o,t),this._tryToStartAnother(),this.emit("add")}))}async addAll(e,t){return Promise.all(e.map((async e=>this.add(e,t))))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(0!==this._queue.size)return new Promise((e=>{const t=this._resolveEmpty;this._resolveEmpty=()=>{t(),e()}}))}async onIdle(){if(0!==this._pendingCount||0!==this._queue.size)return new Promise((e=>{const t=this._resolveIdle;this._resolveIdle=()=>{t(),e()}}))}get size(){return this._queue.size}sizeBy(e){return this._queue.filter(e).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(e){this._timeout=e}}t.Z=l},918:function(e,t){"use strict";function i(e,t,i){let r=0,n=e.length;while(n>0){const o=n/2|0;let s=r+o;i(e[s],t)<=0?(r=++s,n-=o+1):n=o}return r}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i},906:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=i(918);class n{constructor(){this._queue=[]}enqueue(e,t){t=Object.assign({priority:0},t);const i={priority:t.priority,run:e};if(this.size&&this._queue[this.size-1].priority>=t.priority)return void this._queue.push(i);const n=r.default(this._queue,i,((e,t)=>t.priority-e.priority));this._queue.splice(n,0,i)}dequeue(){const e=this._queue.shift();return null===e||void 0===e?void 0:e.run}filter(e){return this._queue.filter((t=>t.priority===e.priority)).map((e=>e.run))}get size(){return this._queue.length}}t["default"]=n},499:function(e,t,i){"use strict";const r=i(306);class n extends Error{constructor(e){super(e),this.name="TimeoutError"}}const o=(e,t,i)=>new Promise(((o,s)=>{if("number"!==typeof t||t<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(t===1/0)return void o(e);const a=setTimeout((()=>{if("function"===typeof i){try{o(i())}catch(l){s(l)}return}const r="string"===typeof i?i:`Promise timed out after ${t} milliseconds`,a=i instanceof Error?i:new n(r);"function"===typeof e.cancel&&e.cancel(),s(a)}),t);r(e.then(o,s),(()=>{clearTimeout(a)}))}));e.exports=o,e.exports["default"]=o,e.exports.TimeoutError=n},386:function(e,t,i){"use strict";
/**!
 * Sortable 1.10.2
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},o.apply(this,arguments)}function s(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},r=Object.keys(i);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(i).filter((function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})))),r.forEach((function(t){n(e,t,i[t])}))}return e}function a(e,t){if(null==e)return{};var i,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)i=o[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}function l(e,t){if(null==e)return{};var i,r,n=a(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)i=o[r],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function c(e){return u(e)||d(e)||h()}function u(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}function d(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function h(){throw new TypeError("Invalid attempt to spread non-iterable instance")}i.r(t),i.d(t,{MultiDrag:function(){return Ft},Sortable:function(){return Qe},Swap:function(){return Et}});var p="1.10.2";function f(e){if("undefined"!==typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var m=f(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),g=f(/Edge/i),v=f(/firefox/i),b=f(/safari/i)&&!f(/chrome/i)&&!f(/android/i),y=f(/iP(ad|od|hone)/i),w=f(/chrome/i)&&f(/android/i),_={capture:!1,passive:!1};function C(e,t,i){e.addEventListener(t,i,!m&&_)}function x(e,t,i){e.removeEventListener(t,i,!m&&_)}function k(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(i){return!1}return!1}}function S(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function E(e,t,i,r){if(e){i=i||document;do{if(null!=t&&(">"===t[0]?e.parentNode===i&&k(e,t):k(e,t))||r&&e===i)return e;if(e===i)break}while(e=S(e))}return null}var T,R=/\s+/g;function O(e,t,i){if(e&&t)if(e.classList)e.classList[i?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(R," ").replace(" "+t+" "," ");e.className=(r+(i?" "+t:"")).replace(R," ")}}function D(e,t,i){var r=e&&e.style;if(r){if(void 0===i)return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(i=e.currentStyle),void 0===t?i:i[t];t in r||-1!==t.indexOf("webkit")||(t="-webkit-"+t),r[t]=i+("string"===typeof i?"":"px")}}function N(e,t){var i="";if("string"===typeof e)i=e;else do{var r=D(e,"transform");r&&"none"!==r&&(i=r+" "+i)}while(!t&&(e=e.parentNode));var n=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return n&&new n(i)}function A(e,t,i){if(e){var r=e.getElementsByTagName(t),n=0,o=r.length;if(i)for(;n<o;n++)i(r[n],n);return r}return[]}function $(){var e=document.scrollingElement;return e||document.documentElement}function j(e,t,i,r,n){if(e.getBoundingClientRect||e===window){var o,s,a,l,c,u,d;if(e!==window&&e!==$()?(o=e.getBoundingClientRect(),s=o.top,a=o.left,l=o.bottom,c=o.right,u=o.height,d=o.width):(s=0,a=0,l=window.innerHeight,c=window.innerWidth,u=window.innerHeight,d=window.innerWidth),(t||i)&&e!==window&&(n=n||e.parentNode,!m))do{if(n&&n.getBoundingClientRect&&("none"!==D(n,"transform")||i&&"static"!==D(n,"position"))){var h=n.getBoundingClientRect();s-=h.top+parseInt(D(n,"border-top-width")),a-=h.left+parseInt(D(n,"border-left-width")),l=s+o.height,c=a+o.width;break}}while(n=n.parentNode);if(r&&e!==window){var p=N(n||e),f=p&&p.a,g=p&&p.d;p&&(s/=g,a/=f,d/=f,u/=g,l=s+u,c=a+d)}return{top:s,left:a,bottom:l,right:c,width:d,height:u}}}function L(e,t,i){var r=z(e,!0),n=j(e)[t];while(r){var o=j(r)[i],s=void 0;if(s="top"===i||"left"===i?n>=o:n<=o,!s)return r;if(r===$())break;r=z(r,!1)}return!1}function I(e,t,i){var r=0,n=0,o=e.children;while(n<o.length){if("none"!==o[n].style.display&&o[n]!==Qe.ghost&&o[n]!==Qe.dragged&&E(o[n],i.draggable,e,!1)){if(r===t)return o[n];r++}n++}return null}function P(e,t){var i=e.lastElementChild;while(i&&(i===Qe.ghost||"none"===D(i,"display")||t&&!k(i,t)))i=i.previousElementSibling;return i||null}function F(e,t){var i=0;if(!e||!e.parentNode)return-1;while(e=e.previousElementSibling)"TEMPLATE"===e.nodeName.toUpperCase()||e===Qe.clone||t&&!k(e,t)||i++;return i}function M(e){var t=0,i=0,r=$();if(e)do{var n=N(e),o=n.a,s=n.d;t+=e.scrollLeft*o,i+=e.scrollTop*s}while(e!==r&&(e=e.parentNode));return[t,i]}function q(e,t){for(var i in e)if(e.hasOwnProperty(i))for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[i][r])return Number(i);return-1}function z(e,t){if(!e||!e.getBoundingClientRect)return $();var i=e,r=!1;do{if(i.clientWidth<i.scrollWidth||i.clientHeight<i.scrollHeight){var n=D(i);if(i.clientWidth<i.scrollWidth&&("auto"==n.overflowX||"scroll"==n.overflowX)||i.clientHeight<i.scrollHeight&&("auto"==n.overflowY||"scroll"==n.overflowY)){if(!i.getBoundingClientRect||i===document.body)return $();if(r||t)return i;r=!0}}}while(i=i.parentNode);return $()}function B(e,t){if(e&&t)for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function U(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function W(e,t){return function(){if(!T){var i=arguments,r=this;1===i.length?e.call(r,i[0]):e.apply(r,i),T=setTimeout((function(){T=void 0}),t)}}}function V(){clearTimeout(T),T=void 0}function H(e,t,i){e.scrollLeft+=t,e.scrollTop+=i}function G(e){var t=window.Polymer,i=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):i?i(e).clone(!0)[0]:e.cloneNode(!0)}function J(e,t){D(e,"position","absolute"),D(e,"top",t.top),D(e,"left",t.left),D(e,"width",t.width),D(e,"height",t.height)}function X(e){D(e,"position",""),D(e,"top",""),D(e,"left",""),D(e,"width",""),D(e,"height","")}var Y="Sortable"+(new Date).getTime();function K(){var e,t=[];return{captureAnimationState:function(){if(t=[],this.options.animation){var e=[].slice.call(this.el.children);e.forEach((function(e){if("none"!==D(e,"display")&&e!==Qe.ghost){t.push({target:e,rect:j(e)});var i=s({},t[t.length-1].rect);if(e.thisAnimationDuration){var r=N(e,!0);r&&(i.top-=r.f,i.left-=r.e)}e.fromRect=i}}))}},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(q(t,{target:e}),1)},animateAll:function(i){var r=this;if(!this.options.animation)return clearTimeout(e),void("function"===typeof i&&i());var n=!1,o=0;t.forEach((function(e){var t=0,i=e.target,s=i.fromRect,a=j(i),l=i.prevFromRect,c=i.prevToRect,u=e.rect,d=N(i,!0);d&&(a.top-=d.f,a.left-=d.e),i.toRect=a,i.thisAnimationDuration&&U(l,a)&&!U(s,a)&&(u.top-a.top)/(u.left-a.left)===(s.top-a.top)/(s.left-a.left)&&(t=Z(u,l,c,r.options)),U(a,s)||(i.prevFromRect=s,i.prevToRect=a,t||(t=r.options.animation),r.animate(i,u,a,t)),t&&(n=!0,o=Math.max(o,t),clearTimeout(i.animationResetTimer),i.animationResetTimer=setTimeout((function(){i.animationTime=0,i.prevFromRect=null,i.fromRect=null,i.prevToRect=null,i.thisAnimationDuration=null}),t),i.thisAnimationDuration=t)})),clearTimeout(e),n?e=setTimeout((function(){"function"===typeof i&&i()}),o):"function"===typeof i&&i(),t=[]},animate:function(e,t,i,r){if(r){D(e,"transition",""),D(e,"transform","");var n=N(this.el),o=n&&n.a,s=n&&n.d,a=(t.left-i.left)/(o||1),l=(t.top-i.top)/(s||1);e.animatingX=!!a,e.animatingY=!!l,D(e,"transform","translate3d("+a+"px,"+l+"px,0)"),Q(e),D(e,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),D(e,"transform","translate3d(0,0,0)"),"number"===typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){D(e,"transition",""),D(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),r)}}}}function Q(e){return e.offsetWidth}function Z(e,t,i,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-i.top,2)+Math.pow(t.left-i.left,2))*r.animation}var ee=[],te={initializeByDefault:!0},ie={mount:function(e){for(var t in te)te.hasOwnProperty(t)&&!(t in e)&&(e[t]=te[t]);ee.push(e)},pluginEvent:function(e,t,i){var r=this;this.eventCanceled=!1,i.cancel=function(){r.eventCanceled=!0};var n=e+"Global";ee.forEach((function(r){t[r.pluginName]&&(t[r.pluginName][n]&&t[r.pluginName][n](s({sortable:t},i)),t.options[r.pluginName]&&t[r.pluginName][e]&&t[r.pluginName][e](s({sortable:t},i)))}))},initializePlugins:function(e,t,i,r){for(var n in ee.forEach((function(r){var n=r.pluginName;if(e.options[n]||r.initializeByDefault){var s=new r(e,t,e.options);s.sortable=e,s.options=e.options,e[n]=s,o(i,s.defaults)}})),e.options)if(e.options.hasOwnProperty(n)){var s=this.modifyOption(e,n,e.options[n]);"undefined"!==typeof s&&(e.options[n]=s)}},getEventProperties:function(e,t){var i={};return ee.forEach((function(r){"function"===typeof r.eventProperties&&o(i,r.eventProperties.call(t[r.pluginName],e))})),i},modifyOption:function(e,t,i){var r;return ee.forEach((function(n){e[n.pluginName]&&n.optionListeners&&"function"===typeof n.optionListeners[t]&&(r=n.optionListeners[t].call(e[n.pluginName],i))})),r}};function re(e){var t=e.sortable,i=e.rootEl,r=e.name,n=e.targetEl,o=e.cloneEl,a=e.toEl,l=e.fromEl,c=e.oldIndex,u=e.newIndex,d=e.oldDraggableIndex,h=e.newDraggableIndex,p=e.originalEvent,f=e.putSortable,v=e.extraEventProperties;if(t=t||i&&i[Y],t){var b,y=t.options,w="on"+r.charAt(0).toUpperCase()+r.substr(1);!window.CustomEvent||m||g?(b=document.createEvent("Event"),b.initEvent(r,!0,!0)):b=new CustomEvent(r,{bubbles:!0,cancelable:!0}),b.to=a||i,b.from=l||i,b.item=n||i,b.clone=o,b.oldIndex=c,b.newIndex=u,b.oldDraggableIndex=d,b.newDraggableIndex=h,b.originalEvent=p,b.pullMode=f?f.lastPutMode:void 0;var _=s({},v,ie.getEventProperties(r,t));for(var C in _)b[C]=_[C];i&&i.dispatchEvent(b),y[w]&&y[w].call(t,b)}}var ne=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=i.evt,n=l(i,["evt"]);ie.pluginEvent.bind(Qe)(e,t,s({dragEl:se,parentEl:ae,ghostEl:le,rootEl:ce,nextEl:ue,lastDownEl:de,cloneEl:he,cloneHidden:pe,dragStarted:Ee,putSortable:ye,activeSortable:Qe.active,originalEvent:r,oldIndex:fe,oldDraggableIndex:ge,newIndex:me,newDraggableIndex:ve,hideGhostForTarget:Je,unhideGhostForTarget:Xe,cloneNowHidden:function(){pe=!0},cloneNowShown:function(){pe=!1},dispatchSortableEvent:function(e){oe({sortable:t,name:e,originalEvent:r})}},n))};function oe(e){re(s({putSortable:ye,cloneEl:he,targetEl:se,rootEl:ce,oldIndex:fe,oldDraggableIndex:ge,newIndex:me,newDraggableIndex:ve},e))}var se,ae,le,ce,ue,de,he,pe,fe,me,ge,ve,be,ye,we,_e,Ce,xe,ke,Se,Ee,Te,Re,Oe,De,Ne=!1,Ae=!1,$e=[],je=!1,Le=!1,Ie=[],Pe=!1,Fe=[],Me="undefined"!==typeof document,qe=y,ze=g||m?"cssFloat":"float",Be=Me&&!w&&!y&&"draggable"in document.createElement("div"),Ue=function(){if(Me){if(m)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),We=function(e,t){var i=D(e),r=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),n=I(e,0,t),o=I(e,1,t),s=n&&D(n),a=o&&D(o),l=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+j(n).width,c=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+j(o).width;if("flex"===i.display)return"column"===i.flexDirection||"column-reverse"===i.flexDirection?"vertical":"horizontal";if("grid"===i.display)return i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(n&&s["float"]&&"none"!==s["float"]){var u="left"===s["float"]?"left":"right";return!o||"both"!==a.clear&&a.clear!==u?"horizontal":"vertical"}return n&&("block"===s.display||"flex"===s.display||"table"===s.display||"grid"===s.display||l>=r&&"none"===i[ze]||o&&"none"===i[ze]&&l+c>r)?"vertical":"horizontal"},Ve=function(e,t,i){var r=i?e.left:e.top,n=i?e.right:e.bottom,o=i?e.width:e.height,s=i?t.left:t.top,a=i?t.right:t.bottom,l=i?t.width:t.height;return r===s||n===a||r+o/2===s+l/2},He=function(e,t){var i;return $e.some((function(r){if(!P(r)){var n=j(r),o=r[Y].options.emptyInsertThreshold,s=e>=n.left-o&&e<=n.right+o,a=t>=n.top-o&&t<=n.bottom+o;return o&&s&&a?i=r:void 0}})),i},Ge=function(e){function t(e,i){return function(r,n,o,s){var a=r.options.group.name&&n.options.group.name&&r.options.group.name===n.options.group.name;if(null==e&&(i||a))return!0;if(null==e||!1===e)return!1;if(i&&"clone"===e)return e;if("function"===typeof e)return t(e(r,n,o,s),i)(r,n,o,s);var l=(i?r:n).options.group.name;return!0===e||"string"===typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var i={},n=e.group;n&&"object"==r(n)||(n={name:n}),i.name=n.name,i.checkPull=t(n.pull,!0),i.checkPut=t(n.put),i.revertClone=n.revertClone,e.group=i},Je=function(){!Ue&&le&&D(le,"display","none")},Xe=function(){!Ue&&le&&D(le,"display","")};Me&&document.addEventListener("click",(function(e){if(Ae)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Ae=!1,!1}),!0);var Ye=function(e){if(se){e=e.touches?e.touches[0]:e;var t=He(e.clientX,e.clientY);if(t){var i={};for(var r in e)e.hasOwnProperty(r)&&(i[r]=e[r]);i.target=i.rootEl=t,i.preventDefault=void 0,i.stopPropagation=void 0,t[Y]._onDragOver(i)}}},Ke=function(e){se&&se.parentNode[Y]._isOutsideThisEl(e.target)};function Qe(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=o({},t),e[Y]=this;var i={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return We(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Qe.supportPointer&&"PointerEvent"in window,emptyInsertThreshold:5};for(var r in ie.initializePlugins(this,e,i),i)!(r in t)&&(t[r]=i[r]);for(var n in Ge(t),this)"_"===n.charAt(0)&&"function"===typeof this[n]&&(this[n]=this[n].bind(this));this.nativeDraggable=!t.forceFallback&&Be,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?C(e,"pointerdown",this._onTapStart):(C(e,"mousedown",this._onTapStart),C(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(C(e,"dragover",this),C(e,"dragenter",this)),$e.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),o(this,K())}function Ze(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function et(e,t,i,r,n,o,s,a){var l,c,u=e[Y],d=u.options.onMove;return!window.CustomEvent||m||g?(l=document.createEvent("Event"),l.initEvent("move",!0,!0)):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=i,l.draggedRect=r,l.related=n||t,l.relatedRect=o||j(t),l.willInsertAfter=a,l.originalEvent=s,e.dispatchEvent(l),d&&(c=d.call(u,l,s)),c}function tt(e){e.draggable=!1}function it(){Pe=!1}function rt(e,t,i){var r=j(P(i.el,i.options.draggable)),n=10;return t?e.clientX>r.right+n||e.clientX<=r.right&&e.clientY>r.bottom&&e.clientX>=r.left:e.clientX>r.right&&e.clientY>r.top||e.clientX<=r.right&&e.clientY>r.bottom+n}function nt(e,t,i,r,n,o,s,a){var l=r?e.clientY:e.clientX,c=r?i.height:i.width,u=r?i.top:i.left,d=r?i.bottom:i.right,h=!1;if(!s)if(a&&Oe<c*n){if(!je&&(1===Re?l>u+c*o/2:l<d-c*o/2)&&(je=!0),je)h=!0;else if(1===Re?l<u+Oe:l>d-Oe)return-Re}else if(l>u+c*(1-n)/2&&l<d-c*(1-n)/2)return ot(t);return h=h||s,h&&(l<u+c*o/2||l>d-c*o/2)?l>u+c/2?1:-1:0}function ot(e){return F(se)<F(e)?1:-1}function st(e){var t=e.tagName+e.className+e.src+e.href+e.textContent,i=t.length,r=0;while(i--)r+=t.charCodeAt(i);return r.toString(36)}function at(e){Fe.length=0;var t=e.getElementsByTagName("input"),i=t.length;while(i--){var r=t[i];r.checked&&Fe.push(r)}}function lt(e){return setTimeout(e,0)}function ct(e){return clearTimeout(e)}Qe.prototype={constructor:Qe,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(Te=null)},_getDirection:function(e,t){return"function"===typeof this.options.direction?this.options.direction.call(this,e,t,se):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,i=this.el,r=this.options,n=r.preventOnFilter,o=e.type,s=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,a=(s||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||a,c=r.filter;if(at(i),!se&&!(/mousedown|pointerdown/.test(o)&&0!==e.button||r.disabled)&&!l.isContentEditable&&(a=E(a,r.draggable,i,!1),(!a||!a.animated)&&de!==a)){if(fe=F(a),ge=F(a,r.draggable),"function"===typeof c){if(c.call(this,e,a,this))return oe({sortable:t,rootEl:l,name:"filter",targetEl:a,toEl:i,fromEl:i}),ne("filter",t,{evt:e}),void(n&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some((function(r){if(r=E(l,r.trim(),i,!1),r)return oe({sortable:t,rootEl:r,name:"filter",targetEl:a,fromEl:i,toEl:i}),ne("filter",t,{evt:e}),!0})),c))return void(n&&e.cancelable&&e.preventDefault());r.handle&&!E(l,r.handle,i,!1)||this._prepareDragStart(e,s,a)}}},_prepareDragStart:function(e,t,i){var r,n=this,o=n.el,s=n.options,a=o.ownerDocument;if(i&&!se&&i.parentNode===o){var l=j(i);if(ce=o,se=i,ae=se.parentNode,ue=se.nextSibling,de=i,be=s.group,Qe.dragged=se,we={target:se,clientX:(t||e).clientX,clientY:(t||e).clientY},ke=we.clientX-l.left,Se=we.clientY-l.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,se.style["will-change"]="all",r=function(){ne("delayEnded",n,{evt:e}),Qe.eventCanceled?n._onDrop():(n._disableDelayedDragEvents(),!v&&n.nativeDraggable&&(se.draggable=!0),n._triggerDragStart(e,t),oe({sortable:n,name:"choose",originalEvent:e}),O(se,s.chosenClass,!0))},s.ignore.split(",").forEach((function(e){A(se,e.trim(),tt)})),C(a,"dragover",Ye),C(a,"mousemove",Ye),C(a,"touchmove",Ye),C(a,"mouseup",n._onDrop),C(a,"touchend",n._onDrop),C(a,"touchcancel",n._onDrop),v&&this.nativeDraggable&&(this.options.touchStartThreshold=4,se.draggable=!0),ne("delayStart",this,{evt:e}),!s.delay||s.delayOnTouchOnly&&!t||this.nativeDraggable&&(g||m))r();else{if(Qe.eventCanceled)return void this._onDrop();C(a,"mouseup",n._disableDelayedDrag),C(a,"touchend",n._disableDelayedDrag),C(a,"touchcancel",n._disableDelayedDrag),C(a,"mousemove",n._delayedDragTouchMoveHandler),C(a,"touchmove",n._delayedDragTouchMoveHandler),s.supportPointer&&C(a,"pointermove",n._delayedDragTouchMoveHandler),n._dragStartTimer=setTimeout(r,s.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){se&&tt(se),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;x(e,"mouseup",this._disableDelayedDrag),x(e,"touchend",this._disableDelayedDrag),x(e,"touchcancel",this._disableDelayedDrag),x(e,"mousemove",this._delayedDragTouchMoveHandler),x(e,"touchmove",this._delayedDragTouchMoveHandler),x(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?C(document,"pointermove",this._onTouchMove):C(document,t?"touchmove":"mousemove",this._onTouchMove):(C(se,"dragend",this),C(ce,"dragstart",this._onDragStart));try{document.selection?lt((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(i){}},_dragStarted:function(e,t){if(Ne=!1,ce&&se){ne("dragStarted",this,{evt:t}),this.nativeDraggable&&C(document,"dragover",Ke);var i=this.options;!e&&O(se,i.dragClass,!1),O(se,i.ghostClass,!0),Qe.active=this,e&&this._appendGhost(),oe({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(_e){this._lastX=_e.clientX,this._lastY=_e.clientY,Je();var e=document.elementFromPoint(_e.clientX,_e.clientY),t=e;while(e&&e.shadowRoot){if(e=e.shadowRoot.elementFromPoint(_e.clientX,_e.clientY),e===t)break;t=e}if(se.parentNode[Y]._isOutsideThisEl(e),t)do{if(t[Y]){var i=void 0;if(i=t[Y]._onDragOver({clientX:_e.clientX,clientY:_e.clientY,target:e,rootEl:t}),i&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);Xe()}},_onTouchMove:function(e){if(we){var t=this.options,i=t.fallbackTolerance,r=t.fallbackOffset,n=e.touches?e.touches[0]:e,o=le&&N(le,!0),s=le&&o&&o.a,a=le&&o&&o.d,l=qe&&De&&M(De),c=(n.clientX-we.clientX+r.x)/(s||1)+(l?l[0]-Ie[0]:0)/(s||1),u=(n.clientY-we.clientY+r.y)/(a||1)+(l?l[1]-Ie[1]:0)/(a||1);if(!Qe.active&&!Ne){if(i&&Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))<i)return;this._onDragStart(e,!0)}if(le){o?(o.e+=c-(Ce||0),o.f+=u-(xe||0)):o={a:1,b:0,c:0,d:1,e:c,f:u};var d="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");D(le,"webkitTransform",d),D(le,"mozTransform",d),D(le,"msTransform",d),D(le,"transform",d),Ce=c,xe=u,_e=n}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!le){var e=this.options.fallbackOnBody?document.body:ce,t=j(se,!0,qe,!0,e),i=this.options;if(qe){De=e;while("static"===D(De,"position")&&"none"===D(De,"transform")&&De!==document)De=De.parentNode;De!==document.body&&De!==document.documentElement?(De===document&&(De=$()),t.top+=De.scrollTop,t.left+=De.scrollLeft):De=$(),Ie=M(De)}le=se.cloneNode(!0),O(le,i.ghostClass,!1),O(le,i.fallbackClass,!0),O(le,i.dragClass,!0),D(le,"transition",""),D(le,"transform",""),D(le,"box-sizing","border-box"),D(le,"margin",0),D(le,"top",t.top),D(le,"left",t.left),D(le,"width",t.width),D(le,"height",t.height),D(le,"opacity","0.8"),D(le,"position",qe?"absolute":"fixed"),D(le,"zIndex","100000"),D(le,"pointerEvents","none"),Qe.ghost=le,e.appendChild(le),D(le,"transform-origin",ke/parseInt(le.style.width)*100+"% "+Se/parseInt(le.style.height)*100+"%")}},_onDragStart:function(e,t){var i=this,r=e.dataTransfer,n=i.options;ne("dragStart",this,{evt:e}),Qe.eventCanceled?this._onDrop():(ne("setupClone",this),Qe.eventCanceled||(he=G(se),he.draggable=!1,he.style["will-change"]="",this._hideClone(),O(he,this.options.chosenClass,!1),Qe.clone=he),i.cloneId=lt((function(){ne("clone",i),Qe.eventCanceled||(i.options.removeCloneOnHide||ce.insertBefore(he,se),i._hideClone(),oe({sortable:i,name:"clone"}))})),!t&&O(se,n.dragClass,!0),t?(Ae=!0,i._loopId=setInterval(i._emulateDragOver,50)):(x(document,"mouseup",i._onDrop),x(document,"touchend",i._onDrop),x(document,"touchcancel",i._onDrop),r&&(r.effectAllowed="move",n.setData&&n.setData.call(i,r,se)),C(document,"drop",i),D(se,"transform","translateZ(0)")),Ne=!0,i._dragStartId=lt(i._dragStarted.bind(i,t,e)),C(document,"selectstart",i),Ee=!0,b&&D(document.body,"user-select","none"))},_onDragOver:function(e){var t,i,r,n,o=this.el,a=e.target,l=this.options,c=l.group,u=Qe.active,d=be===c,h=l.sort,p=ye||u,f=this,m=!1;if(!Pe){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),a=E(a,l.draggable,o,!0),A("dragOver"),Qe.eventCanceled)return m;if(se.contains(e.target)||a.animated&&a.animatingX&&a.animatingY||f._ignoreWhileAnimating===a)return I(!1);if(Ae=!1,u&&!l.disabled&&(d?h||(r=!ce.contains(se)):ye===this||(this.lastPutMode=be.checkPull(this,u,se,e))&&c.checkPut(this,u,se,e))){if(n="vertical"===this._getDirection(e,a),t=j(se),A("dragOverValid"),Qe.eventCanceled)return m;if(r)return ae=ce,$(),this._hideClone(),A("revert"),Qe.eventCanceled||(ue?ce.insertBefore(se,ue):ce.appendChild(se)),I(!0);var g=P(o,l.draggable);if(!g||rt(e,n,this)&&!g.animated){if(g===se)return I(!1);if(g&&o===e.target&&(a=g),a&&(i=j(a)),!1!==et(ce,o,se,t,a,i,e,!!a))return $(),o.appendChild(se),ae=o,M(),I(!0)}else if(a.parentNode===o){i=j(a);var v,b,y=0,w=se.parentNode!==o,_=!Ve(se.animated&&se.toRect||t,a.animated&&a.toRect||i,n),C=n?"top":"left",x=L(a,"top","top")||L(se,"top","top"),k=x?x.scrollTop:void 0;if(Te!==a&&(v=i[C],je=!1,Le=!_&&l.invertSwap||w),y=nt(e,a,i,n,_?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,Le,Te===a),0!==y){var S=F(se);do{S-=y,b=ae.children[S]}while(b&&("none"===D(b,"display")||b===le))}if(0===y||b===a)return I(!1);Te=a,Re=y;var T=a.nextElementSibling,R=!1;R=1===y;var N=et(ce,o,se,t,a,i,e,R);if(!1!==N)return 1!==N&&-1!==N||(R=1===N),Pe=!0,setTimeout(it,30),$(),R&&!T?o.appendChild(se):a.parentNode.insertBefore(se,R?T:a),x&&H(x,0,k-x.scrollTop),ae=se.parentNode,void 0===v||Le||(Oe=Math.abs(v-j(a)[C])),M(),I(!0)}if(o.contains(se))return I(!1)}return!1}function A(l,c){ne(l,f,s({evt:e,isOwner:d,axis:n?"vertical":"horizontal",revert:r,dragRect:t,targetRect:i,canSort:h,fromSortable:p,target:a,completed:I,onMove:function(i,r){return et(ce,o,se,t,i,j(i),e,r)},changed:M},c))}function $(){A("dragOverAnimationCapture"),f.captureAnimationState(),f!==p&&p.captureAnimationState()}function I(t){return A("dragOverCompleted",{insertion:t}),t&&(d?u._hideClone():u._showClone(f),f!==p&&(O(se,ye?ye.options.ghostClass:u.options.ghostClass,!1),O(se,l.ghostClass,!0)),ye!==f&&f!==Qe.active?ye=f:f===Qe.active&&ye&&(ye=null),p===f&&(f._ignoreWhileAnimating=a),f.animateAll((function(){A("dragOverAnimationComplete"),f._ignoreWhileAnimating=null})),f!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(a===se&&!se.animated||a===o&&!a.animated)&&(Te=null),l.dragoverBubble||e.rootEl||a===document||(se.parentNode[Y]._isOutsideThisEl(e.target),!t&&Ye(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),m=!0}function M(){me=F(se),ve=F(se,l.draggable),oe({sortable:f,name:"change",toEl:o,newIndex:me,newDraggableIndex:ve,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){x(document,"mousemove",this._onTouchMove),x(document,"touchmove",this._onTouchMove),x(document,"pointermove",this._onTouchMove),x(document,"dragover",Ye),x(document,"mousemove",Ye),x(document,"touchmove",Ye)},_offUpEvents:function(){var e=this.el.ownerDocument;x(e,"mouseup",this._onDrop),x(e,"touchend",this._onDrop),x(e,"pointerup",this._onDrop),x(e,"touchcancel",this._onDrop),x(document,"selectstart",this)},_onDrop:function(e){var t=this.el,i=this.options;me=F(se),ve=F(se,i.draggable),ne("drop",this,{evt:e}),ae=se&&se.parentNode,me=F(se),ve=F(se,i.draggable),Qe.eventCanceled||(Ne=!1,Le=!1,je=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),ct(this.cloneId),ct(this._dragStartId),this.nativeDraggable&&(x(document,"drop",this),x(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),b&&D(document.body,"user-select",""),D(se,"transform",""),e&&(Ee&&(e.cancelable&&e.preventDefault(),!i.dropBubble&&e.stopPropagation()),le&&le.parentNode&&le.parentNode.removeChild(le),(ce===ae||ye&&"clone"!==ye.lastPutMode)&&he&&he.parentNode&&he.parentNode.removeChild(he),se&&(this.nativeDraggable&&x(se,"dragend",this),tt(se),se.style["will-change"]="",Ee&&!Ne&&O(se,ye?ye.options.ghostClass:this.options.ghostClass,!1),O(se,this.options.chosenClass,!1),oe({sortable:this,name:"unchoose",toEl:ae,newIndex:null,newDraggableIndex:null,originalEvent:e}),ce!==ae?(me>=0&&(oe({rootEl:ae,name:"add",toEl:ae,fromEl:ce,originalEvent:e}),oe({sortable:this,name:"remove",toEl:ae,originalEvent:e}),oe({rootEl:ae,name:"sort",toEl:ae,fromEl:ce,originalEvent:e}),oe({sortable:this,name:"sort",toEl:ae,originalEvent:e})),ye&&ye.save()):me!==fe&&me>=0&&(oe({sortable:this,name:"update",toEl:ae,originalEvent:e}),oe({sortable:this,name:"sort",toEl:ae,originalEvent:e})),Qe.active&&(null!=me&&-1!==me||(me=fe,ve=ge),oe({sortable:this,name:"end",toEl:ae,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){ne("nulling",this),ce=se=ae=le=ue=he=de=pe=we=_e=Ee=me=ve=fe=ge=Te=Re=ye=be=Qe.dragged=Qe.ghost=Qe.clone=Qe.active=null,Fe.forEach((function(e){e.checked=!0})),Fe.length=Ce=xe=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":se&&(this._onDragOver(e),Ze(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e,t=[],i=this.el.children,r=0,n=i.length,o=this.options;r<n;r++)e=i[r],E(e,o.draggable,this.el,!1)&&t.push(e.getAttribute(o.dataIdAttr)||st(e));return t},sort:function(e){var t={},i=this.el;this.toArray().forEach((function(e,r){var n=i.children[r];E(n,this.options.draggable,i,!1)&&(t[e]=n)}),this),e.forEach((function(e){t[e]&&(i.removeChild(t[e]),i.appendChild(t[e]))}))},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return E(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var i=this.options;if(void 0===t)return i[e];var r=ie.modifyOption(this,e,t);i[e]="undefined"!==typeof r?r:t,"group"===e&&Ge(i)},destroy:function(){ne("destroy",this);var e=this.el;e[Y]=null,x(e,"mousedown",this._onTapStart),x(e,"touchstart",this._onTapStart),x(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(x(e,"dragover",this),x(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),$e.splice($e.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!pe){if(ne("hideClone",this),Qe.eventCanceled)return;D(he,"display","none"),this.options.removeCloneOnHide&&he.parentNode&&he.parentNode.removeChild(he),pe=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(pe){if(ne("showClone",this),Qe.eventCanceled)return;ce.contains(se)&&!this.options.group.revertClone?ce.insertBefore(he,se):ue?ce.insertBefore(he,ue):ce.appendChild(he),this.options.group.revertClone&&this.animate(se,he),D(he,"display",""),pe=!1}}else this._hideClone()}},Me&&C(document,"touchmove",(function(e){(Qe.active||Ne)&&e.cancelable&&e.preventDefault()})),Qe.utils={on:C,off:x,css:D,find:A,is:function(e,t){return!!E(e,t,e,!1)},extend:B,throttle:W,closest:E,toggleClass:O,clone:G,index:F,nextTick:lt,cancelNextTick:ct,detectDirection:We,getChild:I},Qe.get=function(e){return e[Y]},Qe.mount=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(Qe.utils=s({},Qe.utils,e.utils)),ie.mount(e)}))},Qe.create=function(e,t){return new Qe(e,t)},Qe.version=p;var ut,dt,ht,pt,ft,mt,gt=[],vt=!1;function bt(){function e(){for(var e in this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"===typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?C(document,"dragover",this._handleAutoScroll):this.options.supportPointer?C(document,"pointermove",this._handleFallbackAutoScroll):t.touches?C(document,"touchmove",this._handleFallbackAutoScroll):C(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?x(document,"dragover",this._handleAutoScroll):(x(document,"pointermove",this._handleFallbackAutoScroll),x(document,"touchmove",this._handleFallbackAutoScroll),x(document,"mousemove",this._handleFallbackAutoScroll)),wt(),yt(),V()},nulling:function(){ft=dt=ut=vt=mt=ht=pt=null,gt.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var i=this,r=(e.touches?e.touches[0]:e).clientX,n=(e.touches?e.touches[0]:e).clientY,o=document.elementFromPoint(r,n);if(ft=e,t||g||m||b){Ct(e,this.options,o,t);var s=z(o,!0);!vt||mt&&r===ht&&n===pt||(mt&&wt(),mt=setInterval((function(){var o=z(document.elementFromPoint(r,n),!0);o!==s&&(s=o,yt()),Ct(e,i.options,o,t)}),10),ht=r,pt=n)}else{if(!this.options.bubbleScroll||z(o,!0)===$())return void yt();Ct(e,this.options,z(o,!1),!1)}}},o(e,{pluginName:"scroll",initializeByDefault:!0})}function yt(){gt.forEach((function(e){clearInterval(e.pid)})),gt=[]}function wt(){clearInterval(mt)}var _t,Ct=W((function(e,t,i,r){if(t.scroll){var n,o=(e.touches?e.touches[0]:e).clientX,s=(e.touches?e.touches[0]:e).clientY,a=t.scrollSensitivity,l=t.scrollSpeed,c=$(),u=!1;dt!==i&&(dt=i,yt(),ut=t.scroll,n=t.scrollFn,!0===ut&&(ut=z(i,!0)));var d=0,h=ut;do{var p=h,f=j(p),m=f.top,g=f.bottom,v=f.left,b=f.right,y=f.width,w=f.height,_=void 0,C=void 0,x=p.scrollWidth,k=p.scrollHeight,S=D(p),E=p.scrollLeft,T=p.scrollTop;p===c?(_=y<x&&("auto"===S.overflowX||"scroll"===S.overflowX||"visible"===S.overflowX),C=w<k&&("auto"===S.overflowY||"scroll"===S.overflowY||"visible"===S.overflowY)):(_=y<x&&("auto"===S.overflowX||"scroll"===S.overflowX),C=w<k&&("auto"===S.overflowY||"scroll"===S.overflowY));var R=_&&(Math.abs(b-o)<=a&&E+y<x)-(Math.abs(v-o)<=a&&!!E),O=C&&(Math.abs(g-s)<=a&&T+w<k)-(Math.abs(m-s)<=a&&!!T);if(!gt[d])for(var N=0;N<=d;N++)gt[N]||(gt[N]={});gt[d].vx==R&&gt[d].vy==O&&gt[d].el===p||(gt[d].el=p,gt[d].vx=R,gt[d].vy=O,clearInterval(gt[d].pid),0==R&&0==O||(u=!0,gt[d].pid=setInterval(function(){r&&0===this.layer&&Qe.active._onTouchMove(ft);var t=gt[this.layer].vy?gt[this.layer].vy*l:0,i=gt[this.layer].vx?gt[this.layer].vx*l:0;"function"===typeof n&&"continue"!==n.call(Qe.dragged.parentNode[Y],i,t,e,ft,gt[this.layer].el)||H(gt[this.layer].el,i,t)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&h!==c&&(h=z(h,!1)));vt=u}}),30),xt=function(e){var t=e.originalEvent,i=e.putSortable,r=e.dragEl,n=e.activeSortable,o=e.dispatchSortableEvent,s=e.hideGhostForTarget,a=e.unhideGhostForTarget;if(t){var l=i||n;s();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,u=document.elementFromPoint(c.clientX,c.clientY);a(),l&&!l.el.contains(u)&&(o("spill"),this.onSpill({dragEl:r,putSortable:i}))}};function kt(){}function St(){}function Et(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(e){var t=e.dragEl;_t=t},dragOverValid:function(e){var t=e.completed,i=e.target,r=e.onMove,n=e.activeSortable,o=e.changed,s=e.cancel;if(n.options.swap){var a=this.sortable.el,l=this.options;if(i&&i!==a){var c=_t;!1!==r(i)?(O(i,l.swapClass,!0),_t=i):_t=null,c&&c!==_t&&O(c,l.swapClass,!1)}o(),t(!0),s()}},drop:function(e){var t=e.activeSortable,i=e.putSortable,r=e.dragEl,n=i||this.sortable,o=this.options;_t&&O(_t,o.swapClass,!1),_t&&(o.swap||i&&i.options.swap)&&r!==_t&&(n.captureAnimationState(),n!==t&&t.captureAnimationState(),Tt(r,_t),n.animateAll(),n!==t&&t.animateAll())},nulling:function(){_t=null}},o(e,{pluginName:"swap",eventProperties:function(){return{swapItem:_t}}})}function Tt(e,t){var i,r,n=e.parentNode,o=t.parentNode;n&&o&&!n.isEqualNode(t)&&!o.isEqualNode(e)&&(i=F(e),r=F(t),n.isEqualNode(o)&&i<r&&r++,n.insertBefore(t,n.children[i]),o.insertBefore(e,o.children[r]))}kt.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,i=e.putSortable;this.sortable.captureAnimationState(),i&&i.captureAnimationState();var r=I(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(t,r):this.sortable.el.appendChild(t),this.sortable.animateAll(),i&&i.animateAll()},drop:xt},o(kt,{pluginName:"revertOnSpill"}),St.prototype={onSpill:function(e){var t=e.dragEl,i=e.putSortable,r=i||this.sortable;r.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),r.animateAll()},drop:xt},o(St,{pluginName:"removeOnSpill"});var Rt,Ot,Dt,Nt,At,$t=[],jt=[],Lt=!1,It=!1,Pt=!1;function Ft(){function e(e){for(var t in this)"_"===t.charAt(0)&&"function"===typeof this[t]&&(this[t]=this[t].bind(this));e.options.supportPointer?C(document,"pointerup",this._deselectMultiDrag):(C(document,"mouseup",this._deselectMultiDrag),C(document,"touchend",this._deselectMultiDrag)),C(document,"keydown",this._checkKeyDown),C(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(t,i){var r="";$t.length&&Ot===e?$t.forEach((function(e,t){r+=(t?", ":"")+e.textContent})):r=i.textContent,t.setData("Text",r)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(e){var t=e.dragEl;Dt=t},delayEnded:function(){this.isMultiDrag=~$t.indexOf(Dt)},setupClone:function(e){var t=e.sortable,i=e.cancel;if(this.isMultiDrag){for(var r=0;r<$t.length;r++)jt.push(G($t[r])),jt[r].sortableIndex=$t[r].sortableIndex,jt[r].draggable=!1,jt[r].style["will-change"]="",O(jt[r],this.options.selectedClass,!1),$t[r]===Dt&&O(jt[r],this.options.chosenClass,!1);t._hideClone(),i()}},clone:function(e){var t=e.sortable,i=e.rootEl,r=e.dispatchSortableEvent,n=e.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||$t.length&&Ot===t&&(qt(!0,i),r("clone"),n()))},showClone:function(e){var t=e.cloneNowShown,i=e.rootEl,r=e.cancel;this.isMultiDrag&&(qt(!1,i),jt.forEach((function(e){D(e,"display","")})),t(),At=!1,r())},hideClone:function(e){var t=this,i=(e.sortable,e.cloneNowHidden),r=e.cancel;this.isMultiDrag&&(jt.forEach((function(e){D(e,"display","none"),t.options.removeCloneOnHide&&e.parentNode&&e.parentNode.removeChild(e)})),i(),At=!0,r())},dragStartGlobal:function(e){e.sortable;!this.isMultiDrag&&Ot&&Ot.multiDrag._deselectMultiDrag(),$t.forEach((function(e){e.sortableIndex=F(e)})),$t=$t.sort((function(e,t){return e.sortableIndex-t.sortableIndex})),Pt=!0},dragStarted:function(e){var t=this,i=e.sortable;if(this.isMultiDrag){if(this.options.sort&&(i.captureAnimationState(),this.options.animation)){$t.forEach((function(e){e!==Dt&&D(e,"position","absolute")}));var r=j(Dt,!1,!0,!0);$t.forEach((function(e){e!==Dt&&J(e,r)})),It=!0,Lt=!0}i.animateAll((function(){It=!1,Lt=!1,t.options.animation&&$t.forEach((function(e){X(e)})),t.options.sort&&zt()}))}},dragOver:function(e){var t=e.target,i=e.completed,r=e.cancel;It&&~$t.indexOf(t)&&(i(!1),r())},revert:function(e){var t=e.fromSortable,i=e.rootEl,r=e.sortable,n=e.dragRect;$t.length>1&&($t.forEach((function(e){r.addAnimationState({target:e,rect:It?j(e):n}),X(e),e.fromRect=n,t.removeAnimationState(e)})),It=!1,Mt(!this.options.removeCloneOnHide,i))},dragOverCompleted:function(e){var t=e.sortable,i=e.isOwner,r=e.insertion,n=e.activeSortable,o=e.parentEl,s=e.putSortable,a=this.options;if(r){if(i&&n._hideClone(),Lt=!1,a.animation&&$t.length>1&&(It||!i&&!n.options.sort&&!s)){var l=j(Dt,!1,!0,!0);$t.forEach((function(e){e!==Dt&&(J(e,l),o.appendChild(e))})),It=!0}if(!i)if(It||zt(),$t.length>1){var c=At;n._showClone(t),n.options.animation&&!At&&c&&jt.forEach((function(e){n.addAnimationState({target:e,rect:Nt}),e.fromRect=Nt,e.thisAnimationDuration=null}))}else n._showClone(t)}},dragOverAnimationCapture:function(e){var t=e.dragRect,i=e.isOwner,r=e.activeSortable;if($t.forEach((function(e){e.thisAnimationDuration=null})),r.options.animation&&!i&&r.multiDrag.isMultiDrag){Nt=o({},t);var n=N(Dt,!0);Nt.top-=n.f,Nt.left-=n.e}},dragOverAnimationComplete:function(){It&&(It=!1,zt())},drop:function(e){var t=e.originalEvent,i=e.rootEl,r=e.parentEl,n=e.sortable,o=e.dispatchSortableEvent,s=e.oldIndex,a=e.putSortable,l=a||this.sortable;if(t){var c=this.options,u=r.children;if(!Pt)if(c.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),O(Dt,c.selectedClass,!~$t.indexOf(Dt)),~$t.indexOf(Dt))$t.splice($t.indexOf(Dt),1),Rt=null,re({sortable:n,rootEl:i,name:"deselect",targetEl:Dt,originalEvt:t});else{if($t.push(Dt),re({sortable:n,rootEl:i,name:"select",targetEl:Dt,originalEvt:t}),t.shiftKey&&Rt&&n.el.contains(Rt)){var d,h,p=F(Rt),f=F(Dt);if(~p&&~f&&p!==f)for(f>p?(h=p,d=f):(h=f,d=p+1);h<d;h++)~$t.indexOf(u[h])||(O(u[h],c.selectedClass,!0),$t.push(u[h]),re({sortable:n,rootEl:i,name:"select",targetEl:u[h],originalEvt:t}))}else Rt=Dt;Ot=l}if(Pt&&this.isMultiDrag){if((r[Y].options.sort||r!==i)&&$t.length>1){var m=j(Dt),g=F(Dt,":not(."+this.options.selectedClass+")");if(!Lt&&c.animation&&(Dt.thisAnimationDuration=null),l.captureAnimationState(),!Lt&&(c.animation&&(Dt.fromRect=m,$t.forEach((function(e){if(e.thisAnimationDuration=null,e!==Dt){var t=It?j(e):m;e.fromRect=t,l.addAnimationState({target:e,rect:t})}}))),zt(),$t.forEach((function(e){u[g]?r.insertBefore(e,u[g]):r.appendChild(e),g++})),s===F(Dt))){var v=!1;$t.forEach((function(e){e.sortableIndex===F(e)||(v=!0)})),v&&o("update")}$t.forEach((function(e){X(e)})),l.animateAll()}Ot=l}(i===r||a&&"clone"!==a.lastPutMode)&&jt.forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)}))}},nullingGlobal:function(){this.isMultiDrag=Pt=!1,jt.length=0},destroyGlobal:function(){this._deselectMultiDrag(),x(document,"pointerup",this._deselectMultiDrag),x(document,"mouseup",this._deselectMultiDrag),x(document,"touchend",this._deselectMultiDrag),x(document,"keydown",this._checkKeyDown),x(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(e){if(("undefined"===typeof Pt||!Pt)&&Ot===this.sortable&&(!e||!E(e.target,this.options.draggable,this.sortable.el,!1))&&(!e||0===e.button))while($t.length){var t=$t[0];O(t,this.options.selectedClass,!1),$t.shift(),re({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:t,originalEvt:e})}},_checkKeyDown:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},o(e,{pluginName:"multiDrag",utils:{select:function(e){var t=e.parentNode[Y];t&&t.options.multiDrag&&!~$t.indexOf(e)&&(Ot&&Ot!==t&&(Ot.multiDrag._deselectMultiDrag(),Ot=t),O(e,t.options.selectedClass,!0),$t.push(e))},deselect:function(e){var t=e.parentNode[Y],i=$t.indexOf(e);t&&t.options.multiDrag&&~i&&(O(e,t.options.selectedClass,!1),$t.splice(i,1))}},eventProperties:function(){var e=this,t=[],i=[];return $t.forEach((function(r){var n;t.push({multiDragElement:r,index:r.sortableIndex}),n=It&&r!==Dt?-1:It?F(r,":not(."+e.options.selectedClass+")"):F(r),i.push({multiDragElement:r,index:n})})),{items:c($t),clones:[].concat(jt),oldIndicies:t,newIndicies:i}},optionListeners:{multiDragKey:function(e){return e=e.toLowerCase(),"ctrl"===e?e="Control":e.length>1&&(e=e.charAt(0).toUpperCase()+e.substr(1)),e}}})}function Mt(e,t){$t.forEach((function(i,r){var n=t.children[i.sortableIndex+(e?Number(r):0)];n?t.insertBefore(i,n):t.appendChild(i)}))}function qt(e,t){jt.forEach((function(i,r){var n=t.children[i.sortableIndex+(e?Number(r):0)];n?t.insertBefore(i,n):t.appendChild(i)}))}function zt(){$t.forEach((function(e){e!==Dt&&e.parentNode&&e.parentNode.removeChild(e)}))}Qe.mount(new bt),Qe.mount(St,kt),t["default"]=Qe},530:function(e,t,i){(function(t,r){e.exports=r(i(386))})("undefined"!==typeof self&&self,(function(e){return function(e){var t={};function i(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=e,i.c=t,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s="fb15")}({"01f9":function(e,t,i){"use strict";var r=i("2d00"),n=i("5ca1"),o=i("2aba"),s=i("32e9"),a=i("84f2"),l=i("41a0"),c=i("7f20"),u=i("38fd"),d=i("2b4c")("iterator"),h=!([].keys&&"next"in[].keys()),p="@@iterator",f="keys",m="values",g=function(){return this};e.exports=function(e,t,i,v,b,y,w){l(i,t,v);var _,C,x,k=function(e){if(!h&&e in R)return R[e];switch(e){case f:return function(){return new i(this,e)};case m:return function(){return new i(this,e)}}return function(){return new i(this,e)}},S=t+" Iterator",E=b==m,T=!1,R=e.prototype,O=R[d]||R[p]||b&&R[b],D=O||k(b),N=b?E?k("entries"):D:void 0,A="Array"==t&&R.entries||O;if(A&&(x=u(A.call(new e)),x!==Object.prototype&&x.next&&(c(x,S,!0),r||"function"==typeof x[d]||s(x,d,g))),E&&O&&O.name!==m&&(T=!0,D=function(){return O.call(this)}),r&&!w||!h&&!T&&R[d]||s(R,d,D),a[t]=D,a[S]=g,b)if(_={values:E?D:k(m),keys:y?D:k(f),entries:N},w)for(C in _)C in R||o(R,C,_[C]);else n(n.P+n.F*(h||T),t,_);return _}},"02f4":function(e,t,i){var r=i("4588"),n=i("be13");e.exports=function(e){return function(t,i){var o,s,a=String(n(t)),l=r(i),c=a.length;return l<0||l>=c?e?"":void 0:(o=a.charCodeAt(l),o<55296||o>56319||l+1===c||(s=a.charCodeAt(l+1))<56320||s>57343?e?a.charAt(l):o:e?a.slice(l,l+2):s-56320+(o-55296<<10)+65536)}}},"0390":function(e,t,i){"use strict";var r=i("02f4")(!0);e.exports=function(e,t,i){return t+(i?r(e,t).length:1)}},"0bfb":function(e,t,i){"use strict";var r=i("cb7c");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},"0d58":function(e,t,i){var r=i("ce10"),n=i("e11e");e.exports=Object.keys||function(e){return r(e,n)}},1495:function(e,t,i){var r=i("86cc"),n=i("cb7c"),o=i("0d58");e.exports=i("9e1e")?Object.defineProperties:function(e,t){n(e);var i,s=o(t),a=s.length,l=0;while(a>l)r.f(e,i=s[l++],t[i]);return e}},"214f":function(e,t,i){"use strict";i("b0c5");var r=i("2aba"),n=i("32e9"),o=i("79e5"),s=i("be13"),a=i("2b4c"),l=i("520a"),c=a("species"),u=!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),d=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var i="ab".split(e);return 2===i.length&&"a"===i[0]&&"b"===i[1]}();e.exports=function(e,t,i){var h=a(e),p=!o((function(){var t={};return t[h]=function(){return 7},7!=""[e](t)})),f=p?!o((function(){var t=!1,i=/a/;return i.exec=function(){return t=!0,null},"split"===e&&(i.constructor={},i.constructor[c]=function(){return i}),i[h](""),!t})):void 0;if(!p||!f||"replace"===e&&!u||"split"===e&&!d){var m=/./[h],g=i(s,h,""[e],(function(e,t,i,r,n){return t.exec===l?p&&!n?{done:!0,value:m.call(t,i,r)}:{done:!0,value:e.call(i,t,r)}:{done:!1}})),v=g[0],b=g[1];r(String.prototype,e,v),n(RegExp.prototype,h,2==t?function(e,t){return b.call(e,this,t)}:function(e){return b.call(e,this)})}}},"230e":function(e,t,i){var r=i("d3f4"),n=i("7726").document,o=r(n)&&r(n.createElement);e.exports=function(e){return o?n.createElement(e):{}}},"23c6":function(e,t,i){var r=i("2d95"),n=i("2b4c")("toStringTag"),o="Arguments"==r(function(){return arguments}()),s=function(e,t){try{return e[t]}catch(i){}};e.exports=function(e){var t,i,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(i=s(t=Object(e),n))?i:o?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},2621:function(e,t){t.f=Object.getOwnPropertySymbols},"2aba":function(e,t,i){var r=i("7726"),n=i("32e9"),o=i("69a8"),s=i("ca5a")("src"),a=i("fa5b"),l="toString",c=(""+a).split(l);i("8378").inspectSource=function(e){return a.call(e)},(e.exports=function(e,t,i,a){var l="function"==typeof i;l&&(o(i,"name")||n(i,"name",t)),e[t]!==i&&(l&&(o(i,s)||n(i,s,e[t]?""+e[t]:c.join(String(t)))),e===r?e[t]=i:a?e[t]?e[t]=i:n(e,t,i):(delete e[t],n(e,t,i)))})(Function.prototype,l,(function(){return"function"==typeof this&&this[s]||a.call(this)}))},"2aeb":function(e,t,i){var r=i("cb7c"),n=i("1495"),o=i("e11e"),s=i("613b")("IE_PROTO"),a=function(){},l="prototype",c=function(){var e,t=i("230e")("iframe"),r=o.length,n="<",s=">";t.style.display="none",i("fab2").appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write(n+"script"+s+"document.F=Object"+n+"/script"+s),e.close(),c=e.F;while(r--)delete c[l][o[r]];return c()};e.exports=Object.create||function(e,t){var i;return null!==e?(a[l]=r(e),i=new a,a[l]=null,i[s]=e):i=c(),void 0===t?i:n(i,t)}},"2b4c":function(e,t,i){var r=i("5537")("wks"),n=i("ca5a"),o=i("7726").Symbol,s="function"==typeof o,a=e.exports=function(e){return r[e]||(r[e]=s&&o[e]||(s?o:n)("Symbol."+e))};a.store=r},"2d00":function(e,t){e.exports=!1},"2d95":function(e,t){var i={}.toString;e.exports=function(e){return i.call(e).slice(8,-1)}},"2fdb":function(e,t,i){"use strict";var r=i("5ca1"),n=i("d2c8"),o="includes";r(r.P+r.F*i("5147")(o),"String",{includes:function(e){return!!~n(this,e,o).indexOf(e,arguments.length>1?arguments[1]:void 0)}})},"32e9":function(e,t,i){var r=i("86cc"),n=i("4630");e.exports=i("9e1e")?function(e,t,i){return r.f(e,t,n(1,i))}:function(e,t,i){return e[t]=i,e}},"38fd":function(e,t,i){var r=i("69a8"),n=i("4bf8"),o=i("613b")("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=n(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},"41a0":function(e,t,i){"use strict";var r=i("2aeb"),n=i("4630"),o=i("7f20"),s={};i("32e9")(s,i("2b4c")("iterator"),(function(){return this})),e.exports=function(e,t,i){e.prototype=r(s,{next:n(1,i)}),o(e,t+" Iterator")}},"456d":function(e,t,i){var r=i("4bf8"),n=i("0d58");i("5eda")("keys",(function(){return function(e){return n(r(e))}}))},4588:function(e,t){var i=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:i)(e)}},4630:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"4bf8":function(e,t,i){var r=i("be13");e.exports=function(e){return Object(r(e))}},5147:function(e,t,i){var r=i("2b4c")("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(i){try{return t[r]=!1,!"/./"[e](t)}catch(n){}}return!0}},"520a":function(e,t,i){"use strict";var r=i("0bfb"),n=RegExp.prototype.exec,o=String.prototype.replace,s=n,a="lastIndex",l=function(){var e=/a/,t=/b*/g;return n.call(e,"a"),n.call(t,"a"),0!==e[a]||0!==t[a]}(),c=void 0!==/()??/.exec("")[1],u=l||c;u&&(s=function(e){var t,i,s,u,d=this;return c&&(i=new RegExp("^"+d.source+"$(?!\\s)",r.call(d))),l&&(t=d[a]),s=n.call(d,e),l&&s&&(d[a]=d.global?s.index+s[0].length:t),c&&s&&s.length>1&&o.call(s[0],i,(function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(s[u]=void 0)})),s}),e.exports=s},"52a7":function(e,t){t.f={}.propertyIsEnumerable},5537:function(e,t,i){var r=i("8378"),n=i("7726"),o="__core-js_shared__",s=n[o]||(n[o]={});(e.exports=function(e,t){return s[e]||(s[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:i("2d00")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},"5ca1":function(e,t,i){var r=i("7726"),n=i("8378"),o=i("32e9"),s=i("2aba"),a=i("9b43"),l="prototype",c=function(e,t,i){var u,d,h,p,f=e&c.F,m=e&c.G,g=e&c.S,v=e&c.P,b=e&c.B,y=m?r:g?r[t]||(r[t]={}):(r[t]||{})[l],w=m?n:n[t]||(n[t]={}),_=w[l]||(w[l]={});for(u in m&&(i=t),i)d=!f&&y&&void 0!==y[u],h=(d?y:i)[u],p=b&&d?a(h,r):v&&"function"==typeof h?a(Function.call,h):h,y&&s(y,u,h,e&c.U),w[u]!=h&&o(w,u,p),v&&_[u]!=h&&(_[u]=h)};r.core=n,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},"5eda":function(e,t,i){var r=i("5ca1"),n=i("8378"),o=i("79e5");e.exports=function(e,t){var i=(n.Object||{})[e]||Object[e],s={};s[e]=t(i),r(r.S+r.F*o((function(){i(1)})),"Object",s)}},"5f1b":function(e,t,i){"use strict";var r=i("23c6"),n=RegExp.prototype.exec;e.exports=function(e,t){var i=e.exec;if("function"===typeof i){var o=i.call(e,t);if("object"!==typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return n.call(e,t)}},"613b":function(e,t,i){var r=i("5537")("keys"),n=i("ca5a");e.exports=function(e){return r[e]||(r[e]=n(e))}},"626a":function(e,t,i){var r=i("2d95");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},6762:function(e,t,i){"use strict";var r=i("5ca1"),n=i("c366")(!0);r(r.P,"Array",{includes:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),i("9c6c")("includes")},6821:function(e,t,i){var r=i("626a"),n=i("be13");e.exports=function(e){return r(n(e))}},"69a8":function(e,t){var i={}.hasOwnProperty;e.exports=function(e,t){return i.call(e,t)}},"6a99":function(e,t,i){var r=i("d3f4");e.exports=function(e,t){if(!r(e))return e;var i,n;if(t&&"function"==typeof(i=e.toString)&&!r(n=i.call(e)))return n;if("function"==typeof(i=e.valueOf)&&!r(n=i.call(e)))return n;if(!t&&"function"==typeof(i=e.toString)&&!r(n=i.call(e)))return n;throw TypeError("Can't convert object to primitive value")}},7333:function(e,t,i){"use strict";var r=i("0d58"),n=i("2621"),o=i("52a7"),s=i("4bf8"),a=i("626a"),l=Object.assign;e.exports=!l||i("79e5")((function(){var e={},t={},i=Symbol(),r="abcdefghijklmnopqrst";return e[i]=7,r.split("").forEach((function(e){t[e]=e})),7!=l({},e)[i]||Object.keys(l({},t)).join("")!=r}))?function(e,t){var i=s(e),l=arguments.length,c=1,u=n.f,d=o.f;while(l>c){var h,p=a(arguments[c++]),f=u?r(p).concat(u(p)):r(p),m=f.length,g=0;while(m>g)d.call(p,h=f[g++])&&(i[h]=p[h])}return i}:l},7726:function(e,t){var i=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},"77f1":function(e,t,i){var r=i("4588"),n=Math.max,o=Math.min;e.exports=function(e,t){return e=r(e),e<0?n(e+t,0):o(e,t)}},"79e5":function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},"7f20":function(e,t,i){var r=i("86cc").f,n=i("69a8"),o=i("2b4c")("toStringTag");e.exports=function(e,t,i){e&&!n(e=i?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},8378:function(e,t){var i=e.exports={version:"2.6.5"};"number"==typeof __e&&(__e=i)},"84f2":function(e,t){e.exports={}},"86cc":function(e,t,i){var r=i("cb7c"),n=i("c69a"),o=i("6a99"),s=Object.defineProperty;t.f=i("9e1e")?Object.defineProperty:function(e,t,i){if(r(e),t=o(t,!0),r(i),n)try{return s(e,t,i)}catch(a){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(e[t]=i.value),e}},"9b43":function(e,t,i){var r=i("d8e8");e.exports=function(e,t,i){if(r(e),void 0===t)return e;switch(i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,r){return e.call(t,i,r)};case 3:return function(i,r,n){return e.call(t,i,r,n)}}return function(){return e.apply(t,arguments)}}},"9c6c":function(e,t,i){var r=i("2b4c")("unscopables"),n=Array.prototype;void 0==n[r]&&i("32e9")(n,r,{}),e.exports=function(e){n[r][e]=!0}},"9def":function(e,t,i){var r=i("4588"),n=Math.min;e.exports=function(e){return e>0?n(r(e),9007199254740991):0}},"9e1e":function(e,t,i){e.exports=!i("79e5")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},a352:function(t,i){t.exports=e},a481:function(e,t,i){"use strict";var r=i("cb7c"),n=i("4bf8"),o=i("9def"),s=i("4588"),a=i("0390"),l=i("5f1b"),c=Math.max,u=Math.min,d=Math.floor,h=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g,f=function(e){return void 0===e?e:String(e)};i("214f")("replace",2,(function(e,t,i,m){return[function(r,n){var o=e(this),s=void 0==r?void 0:r[t];return void 0!==s?s.call(r,o,n):i.call(String(o),r,n)},function(e,t){var n=m(i,e,this,t);if(n.done)return n.value;var d=r(e),h=String(this),p="function"===typeof t;p||(t=String(t));var v=d.global;if(v){var b=d.unicode;d.lastIndex=0}var y=[];while(1){var w=l(d,h);if(null===w)break;if(y.push(w),!v)break;var _=String(w[0]);""===_&&(d.lastIndex=a(h,o(d.lastIndex),b))}for(var C="",x=0,k=0;k<y.length;k++){w=y[k];for(var S=String(w[0]),E=c(u(s(w.index),h.length),0),T=[],R=1;R<w.length;R++)T.push(f(w[R]));var O=w.groups;if(p){var D=[S].concat(T,E,h);void 0!==O&&D.push(O);var N=String(t.apply(void 0,D))}else N=g(S,h,E,T,O,t);E>=x&&(C+=h.slice(x,E)+N,x=E+S.length)}return C+h.slice(x)}];function g(e,t,r,o,s,a){var l=r+e.length,c=o.length,u=p;return void 0!==s&&(s=n(s),u=h),i.call(a,u,(function(i,n){var a;switch(n.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(l);case"<":a=s[n.slice(1,-1)];break;default:var u=+n;if(0===u)return i;if(u>c){var h=d(u/10);return 0===h?i:h<=c?void 0===o[h-1]?n.charAt(1):o[h-1]+n.charAt(1):i}a=o[u-1]}return void 0===a?"":a}))}}))},aae3:function(e,t,i){var r=i("d3f4"),n=i("2d95"),o=i("2b4c")("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==n(e))}},ac6a:function(e,t,i){for(var r=i("cadf"),n=i("0d58"),o=i("2aba"),s=i("7726"),a=i("32e9"),l=i("84f2"),c=i("2b4c"),u=c("iterator"),d=c("toStringTag"),h=l.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=n(p),m=0;m<f.length;m++){var g,v=f[m],b=p[v],y=s[v],w=y&&y.prototype;if(w&&(w[u]||a(w,u,h),w[d]||a(w,d,v),l[v]=h,b))for(g in r)w[g]||o(w,g,r[g],!0)}},b0c5:function(e,t,i){"use strict";var r=i("520a");i("5ca1")({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},be13:function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},c366:function(e,t,i){var r=i("6821"),n=i("9def"),o=i("77f1");e.exports=function(e){return function(t,i,s){var a,l=r(t),c=n(l.length),u=o(s,c);if(e&&i!=i){while(c>u)if(a=l[u++],a!=a)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===i)return e||u||0;return!e&&-1}}},c649:function(e,t,i){"use strict";(function(e){i.d(t,"c",(function(){return c})),i.d(t,"a",(function(){return a})),i.d(t,"b",(function(){return n})),i.d(t,"d",(function(){return l}));i("a481");function r(){return"undefined"!==typeof window?window.console:e.console}var n=r();function o(e){var t=Object.create(null);return function(i){var r=t[i];return r||(t[i]=e(i))}}var s=/-(\w)/g,a=o((function(e){return e.replace(s,(function(e,t){return t?t.toUpperCase():""}))}));function l(e){null!==e.parentElement&&e.parentElement.removeChild(e)}function c(e,t,i){var r=0===i?e.children[0]:e.children[i-1].nextSibling;e.insertBefore(t,r)}}).call(this,i("c8ba"))},c69a:function(e,t,i){e.exports=!i("9e1e")&&!i("79e5")((function(){return 7!=Object.defineProperty(i("230e")("div"),"a",{get:function(){return 7}}).a}))},c8ba:function(e,t){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(r){"object"===typeof window&&(i=window)}e.exports=i},ca5a:function(e,t){var i=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++i+r).toString(36))}},cadf:function(e,t,i){"use strict";var r=i("9c6c"),n=i("d53b"),o=i("84f2"),s=i("6821");e.exports=i("01f9")(Array,"Array",(function(e,t){this._t=s(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,i=this._i++;return!e||i>=e.length?(this._t=void 0,n(1)):n(0,"keys"==t?i:"values"==t?e[i]:[i,e[i]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},cb7c:function(e,t,i){var r=i("d3f4");e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},ce10:function(e,t,i){var r=i("69a8"),n=i("6821"),o=i("c366")(!1),s=i("613b")("IE_PROTO");e.exports=function(e,t){var i,a=n(e),l=0,c=[];for(i in a)i!=s&&r(a,i)&&c.push(i);while(t.length>l)r(a,i=t[l++])&&(~o(c,i)||c.push(i));return c}},d2c8:function(e,t,i){var r=i("aae3"),n=i("be13");e.exports=function(e,t,i){if(r(t))throw TypeError("String#"+i+" doesn't accept regex!");return String(n(e))}},d3f4:function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},d53b:function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},d8e8:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},e11e:function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},f559:function(e,t,i){"use strict";var r=i("5ca1"),n=i("9def"),o=i("d2c8"),s="startsWith",a=""[s];r(r.P+r.F*i("5147")(s),"String",{startsWith:function(e){var t=o(this,e,s),i=n(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return a?a.call(t,r,i):t.slice(i,i+r.length)===r}})},f6fd:function(e,t){(function(e){var t="currentScript",i=e.getElementsByTagName("script");t in e||Object.defineProperty(e,t,{get:function(){try{throw new Error}catch(r){var e,t=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(r.stack)||[!1])[1];for(e in i)if(i[e].src==t||"interactive"==i[e].readyState)return i[e];return null}}})})(document)},f751:function(e,t,i){var r=i("5ca1");r(r.S+r.F,"Object",{assign:i("7333")})},fa5b:function(e,t,i){e.exports=i("5537")("native-function-to-string",Function.toString)},fab2:function(e,t,i){var r=i("7726").document;e.exports=r&&r.documentElement},fb15:function(e,t,i){"use strict";var r;(i.r(t),"undefined"!==typeof window)&&(i("f6fd"),(r=window.document.currentScript)&&(r=r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(i.p=r[1]));i("f751"),i("f559"),i("ac6a"),i("cadf"),i("456d");function n(e){if(Array.isArray(e))return e}function o(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var i=[],r=!0,n=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done);r=!0)if(i.push(s.value),t&&i.length===t)break}catch(l){n=!0,o=l}finally{try{r||null==a["return"]||a["return"]()}finally{if(n)throw o}}return i}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function a(e,t){if(e){if("string"===typeof e)return s(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?s(e,t):void 0}}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){return n(e)||o(e,t)||a(e,t)||l()}i("6762"),i("2fdb");function u(e){if(Array.isArray(e))return s(e)}function d(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function h(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e){return u(e)||d(e)||a(e)||h()}var f=i("a352"),m=i.n(f),g=i("c649");function v(e,t,i){return void 0===i||(e=e||{},e[t]=i),e}function b(e,t){return e.map((function(e){return e.elm})).indexOf(t)}function y(e,t,i,r){if(!e)return[];var n=e.map((function(e){return e.elm})),o=t.length-r,s=p(t).map((function(e,t){return t>=o?n.length:n.indexOf(e)}));return i?s.filter((function(e){return-1!==e})):s}function w(e,t){var i=this;this.$nextTick((function(){return i.$emit(e.toLowerCase(),t)}))}function _(e){var t=this;return function(i){null!==t.realList&&t["onDrag"+e](i),w.call(t,e,i)}}function C(e){return["transition-group","TransitionGroup"].includes(e)}function x(e){if(!e||1!==e.length)return!1;var t=c(e,1),i=t[0].componentOptions;return!!i&&C(i.tag)}function k(e,t,i){return e[i]||(t[i]?t[i]():void 0)}function S(e,t,i){var r=0,n=0,o=k(t,i,"header");o&&(r=o.length,e=e?[].concat(p(o),p(e)):p(o));var s=k(t,i,"footer");return s&&(n=s.length,e=e?[].concat(p(e),p(s)):p(s)),{children:e,headerOffset:r,footerOffset:n}}function E(e,t){var i=null,r=function(e,t){i=v(i,e,t)},n=Object.keys(e).filter((function(e){return"id"===e||e.startsWith("data-")})).reduce((function(t,i){return t[i]=e[i],t}),{});if(r("attrs",n),!t)return i;var o=t.on,s=t.props,a=t.attrs;return r("on",o),r("props",s),Object.assign(i.attrs,a),i}var T=["Start","Add","Remove","Update","End"],R=["Choose","Unchoose","Sort","Filter","Clone"],O=["Move"].concat(T,R).map((function(e){return"on"+e})),D=null,N={options:Object,list:{type:Array,required:!1,default:null},value:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:function(e){return e}},element:{type:String,default:"div"},tag:{type:String,default:null},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},A={name:"draggable",inheritAttrs:!1,props:N,data:function(){return{transitionMode:!1,noneFunctionalComponentMode:!1}},render:function(e){var t=this.$slots.default;this.transitionMode=x(t);var i=S(t,this.$slots,this.$scopedSlots),r=i.children,n=i.headerOffset,o=i.footerOffset;this.headerOffset=n,this.footerOffset=o;var s=E(this.$attrs,this.componentData);return e(this.getTag(),s,r)},created:function(){null!==this.list&&null!==this.value&&g["b"].error("Value and list props are mutually exclusive! Please set one or another."),"div"!==this.element&&g["b"].warn("Element props is deprecated please use tag props instead. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#element-props"),void 0!==this.options&&g["b"].warn("Options props is deprecated, add sortable options directly as vue.draggable item, or use v-bind. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#options-props")},mounted:function(){var e=this;if(this.noneFunctionalComponentMode=this.getTag().toLowerCase()!==this.$el.nodeName.toLowerCase()&&!this.getIsFunctional(),this.noneFunctionalComponentMode&&this.transitionMode)throw new Error("Transition-group inside component is not supported. Please alter tag value or remove transition-group. Current tag value: ".concat(this.getTag()));var t={};T.forEach((function(i){t["on"+i]=_.call(e,i)})),R.forEach((function(i){t["on"+i]=w.bind(e,i)}));var i=Object.keys(this.$attrs).reduce((function(t,i){return t[Object(g["a"])(i)]=e.$attrs[i],t}),{}),r=Object.assign({},this.options,i,t,{onMove:function(t,i){return e.onDragMove(t,i)}});!("draggable"in r)&&(r.draggable=">*"),this._sortable=new m.a(this.rootContainer,r),this.computeIndexes()},beforeDestroy:function(){void 0!==this._sortable&&this._sortable.destroy()},computed:{rootContainer:function(){return this.transitionMode?this.$el.children[0]:this.$el},realList:function(){return this.list?this.list:this.value}},watch:{options:{handler:function(e){this.updateOptions(e)},deep:!0},$attrs:{handler:function(e){this.updateOptions(e)},deep:!0},realList:function(){this.computeIndexes()}},methods:{getIsFunctional:function(){var e=this._vnode.fnOptions;return e&&e.functional},getTag:function(){return this.tag||this.element},updateOptions:function(e){for(var t in e){var i=Object(g["a"])(t);-1===O.indexOf(i)&&this._sortable.option(i,e[t])}},getChildrenNodes:function(){if(this.noneFunctionalComponentMode)return this.$children[0].$slots.default;var e=this.$slots.default;return this.transitionMode?e[0].child.$slots.default:e},computeIndexes:function(){var e=this;this.$nextTick((function(){e.visibleIndexes=y(e.getChildrenNodes(),e.rootContainer.children,e.transitionMode,e.footerOffset)}))},getUnderlyingVm:function(e){var t=b(this.getChildrenNodes()||[],e);if(-1===t)return null;var i=this.realList[t];return{index:t,element:i}},getUnderlyingPotencialDraggableComponent:function(e){var t=e.__vue__;return t&&t.$options&&C(t.$options._componentTag)?t.$parent:!("realList"in t)&&1===t.$children.length&&"realList"in t.$children[0]?t.$children[0]:t},emitChanges:function(e){var t=this;this.$nextTick((function(){t.$emit("change",e)}))},alterList:function(e){if(this.list)e(this.list);else{var t=p(this.value);e(t),this.$emit("input",t)}},spliceList:function(){var e=arguments,t=function(t){return t.splice.apply(t,p(e))};this.alterList(t)},updatePosition:function(e,t){var i=function(i){return i.splice(t,0,i.splice(e,1)[0])};this.alterList(i)},getRelatedContextFromMoveEvent:function(e){var t=e.to,i=e.related,r=this.getUnderlyingPotencialDraggableComponent(t);if(!r)return{component:r};var n=r.realList,o={list:n,component:r};if(t!==i&&n&&r.getUnderlyingVm){var s=r.getUnderlyingVm(i);if(s)return Object.assign(s,o)}return o},getVmIndex:function(e){var t=this.visibleIndexes,i=t.length;return e>i-1?i:t[e]},getComponent:function(){return this.$slots.default[0].componentInstance},resetTransitionData:function(e){if(this.noTransitionOnDrag&&this.transitionMode){var t=this.getChildrenNodes();t[e].data=null;var i=this.getComponent();i.children=[],i.kept=void 0}},onDragStart:function(e){this.context=this.getUnderlyingVm(e.item),e.item._underlying_vm_=this.clone(this.context.element),D=e.item},onDragAdd:function(e){var t=e.item._underlying_vm_;if(void 0!==t){Object(g["d"])(e.item);var i=this.getVmIndex(e.newIndex);this.spliceList(i,0,t),this.computeIndexes();var r={element:t,newIndex:i};this.emitChanges({added:r})}},onDragRemove:function(e){if(Object(g["c"])(this.rootContainer,e.item,e.oldIndex),"clone"!==e.pullMode){var t=this.context.index;this.spliceList(t,1);var i={element:this.context.element,oldIndex:t};this.resetTransitionData(t),this.emitChanges({removed:i})}else Object(g["d"])(e.clone)},onDragUpdate:function(e){Object(g["d"])(e.item),Object(g["c"])(e.from,e.item,e.oldIndex);var t=this.context.index,i=this.getVmIndex(e.newIndex);this.updatePosition(t,i);var r={element:this.context.element,oldIndex:t,newIndex:i};this.emitChanges({moved:r})},updateProperty:function(e,t){e.hasOwnProperty(t)&&(e[t]+=this.headerOffset)},computeFutureIndex:function(e,t){if(!e.element)return 0;var i=p(t.to.children).filter((function(e){return"none"!==e.style["display"]})),r=i.indexOf(t.related),n=e.component.getVmIndex(r),o=-1!==i.indexOf(D);return o||!t.willInsertAfter?n:n+1},onDragMove:function(e,t){var i=this.move;if(!i||!this.realList)return!0;var r=this.getRelatedContextFromMoveEvent(e),n=this.context,o=this.computeFutureIndex(r,e);Object.assign(n,{futureIndex:o});var s=Object.assign({},e,{relatedContext:r,draggedContext:n});return i(s,t)},onDragEnd:function(){this.computeIndexes(),D=null}}};"undefined"!==typeof window&&"Vue"in window&&window.Vue.component("draggable",A);var $=A;t["default"]=$}})["default"]}))},897:function(t){"use strict";t.exports=e},203:function(e){"use strict";e.exports=t}},r={};function n(e){var t=r[e];if(void 0!==t)return t.exports;var o=r[e]={exports:{}};return i[e].call(o.exports,o,o.exports,n),o.exports}!function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p=""}();var o={};return function(){"use strict";n.r(o),n.d(o,{default:function(){return Uf}});var e={};n.r(e),n.d(e,{hasBrowserEnv:function(){return Un},hasStandardBrowserEnv:function(){return Wn},hasStandardBrowserWebWorkerEnv:function(){return Vn}});var t={};if(n.r(t),"undefined"!==typeof window){var i=window.document.currentScript,r=n(914);i=r(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:r});var s=i&&i.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);s&&(n.p=s[1])}function a(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let l=a();function c(e){l=e}const u=/[&<>"']/,d=new RegExp(u.source,"g"),h=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,p=new RegExp(h.source,"g"),f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},m=e=>f[e];function g(e,t){if(t){if(u.test(e))return e.replace(d,m)}else if(h.test(e))return e.replace(p,m);return e}const v=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function b(e){return e.replace(v,((e,t)=>(t=t.toLowerCase(),"colon"===t?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):"")))}const y=/(^|[^\[])\^/g;function w(e,t){let i="string"===typeof e?e:e.source;t=t||"";const r={replace:(e,t)=>{let n="string"===typeof t?t:t.source;return n=n.replace(y,"$1"),i=i.replace(e,n),r},getRegex:()=>new RegExp(i,t)};return r}function _(e){try{e=encodeURI(e).replace(/%25/g,"%")}catch(t){return null}return e}const C={exec:()=>null};function x(e,t){const i=e.replace(/\|/g,((e,t,i)=>{let r=!1,n=t;while(--n>=0&&"\\"===i[n])r=!r;return r?"|":" |"})),r=i.split(/ \|/);let n=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),t)if(r.length>t)r.splice(t);else while(r.length<t)r.push("");for(;n<r.length;n++)r[n]=r[n].trim().replace(/\\\|/g,"|");return r}function k(e,t,i){const r=e.length;if(0===r)return"";let n=0;while(n<r){const o=e.charAt(r-n-1);if(o!==t||i){if(o===t||!i)break;n++}else n++}return e.slice(0,r-n)}function S(e,t){if(-1===e.indexOf(t[1]))return-1;let i=0;for(let r=0;r<e.length;r++)if("\\"===e[r])r++;else if(e[r]===t[0])i++;else if(e[r]===t[1]&&(i--,i<0))return r;return-1}function E(e,t,i,r){const n=t.href,o=t.title?g(t.title):null,s=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){r.state.inLink=!0;const e={type:"link",raw:i,href:n,title:o,text:s,tokens:r.inlineTokens(s)};return r.state.inLink=!1,e}return{type:"image",raw:i,href:n,title:o,text:g(s)}}function T(e,t){const i=e.match(/^(\s+)(?:```)/);if(null===i)return t;const r=i[1];return t.split("\n").map((e=>{const t=e.match(/^\s+/);if(null===t)return e;const[i]=t;return i.length>=r.length?e.slice(r.length):e})).join("\n")}class R{options;rules;lexer;constructor(e){this.options=e||l}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const e=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:k(e,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const e=t[0],i=T(e,t[3]||"");return{type:"code",raw:e,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:i}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(/#$/.test(e)){const t=k(e,"#");this.options.pedantic?e=t.trim():t&&!/ $/.test(t)||(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const e=k(t[0].replace(/^ *>[ \t]?/gm,""),"\n"),i=this.lexer.state.top;this.lexer.state.top=!0;const r=this.lexer.blockTokens(e);return this.lexer.state.top=i,{type:"blockquote",raw:t[0],tokens:r,text:e}}}list(e){let t=this.rules.block.list.exec(e);if(t){let i=t[1].trim();const r=i.length>1,n={type:"list",raw:"",ordered:r,start:r?+i.slice(0,-1):"",loose:!1,items:[]};i=r?`\\d{1,9}\\${i.slice(-1)}`:`\\${i}`,this.options.pedantic&&(i=r?i:"[*+-]");const o=new RegExp(`^( {0,3}${i})((?:[\t ][^\\n]*)?(?:\\n|$))`);let s="",a="",l=!1;while(e){let i=!1;if(!(t=o.exec(e)))break;if(this.rules.block.hr.test(e))break;s=t[0],e=e.substring(s.length);let r=t[2].split("\n",1)[0].replace(/^\t+/,(e=>" ".repeat(3*e.length))),c=e.split("\n",1)[0],u=0;this.options.pedantic?(u=2,a=r.trimStart()):(u=t[2].search(/[^ ]/),u=u>4?1:u,a=r.slice(u),u+=t[1].length);let d=!1;if(!r&&/^ *$/.test(c)&&(s+=c+"\n",e=e.substring(c.length+1),i=!0),!i){const t=new RegExp(`^ {0,${Math.min(3,u-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),i=new RegExp(`^ {0,${Math.min(3,u-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),n=new RegExp(`^ {0,${Math.min(3,u-1)}}(?:\`\`\`|~~~)`),o=new RegExp(`^ {0,${Math.min(3,u-1)}}#`);while(e){const l=e.split("\n",1)[0];if(c=l,this.options.pedantic&&(c=c.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),n.test(c))break;if(o.test(c))break;if(t.test(c))break;if(i.test(e))break;if(c.search(/[^ ]/)>=u||!c.trim())a+="\n"+c.slice(u);else{if(d)break;if(r.search(/[^ ]/)>=4)break;if(n.test(r))break;if(o.test(r))break;if(i.test(r))break;a+="\n"+c}d||c.trim()||(d=!0),s+=l+"\n",e=e.substring(l.length+1),r=c.slice(u)}}n.loose||(l?n.loose=!0:/\n *\n *$/.test(s)&&(l=!0));let h,p=null;this.options.gfm&&(p=/^\[[ xX]\] /.exec(a),p&&(h="[ ] "!==p[0],a=a.replace(/^\[[ xX]\] +/,""))),n.items.push({type:"list_item",raw:s,task:!!p,checked:h,loose:!1,text:a,tokens:[]}),n.raw+=s}n.items[n.items.length-1].raw=s.trimEnd(),n.items[n.items.length-1].text=a.trimEnd(),n.raw=n.raw.trimEnd();for(let e=0;e<n.items.length;e++)if(this.lexer.state.top=!1,n.items[e].tokens=this.lexer.blockTokens(n.items[e].text,[]),!n.loose){const t=n.items[e].tokens.filter((e=>"space"===e.type)),i=t.length>0&&t.some((e=>/\n.*\n/.test(e.raw)));n.loose=i}if(n.loose)for(let e=0;e<n.items.length;e++)n.items[e].loose=!0;return n}}html(e){const t=this.rules.block.html.exec(e);if(t){const e={type:"html",block:!0,raw:t[0],pre:"pre"===t[1]||"script"===t[1]||"style"===t[1],text:t[0]};return e}}def(e){const t=this.rules.block.def.exec(e);if(t){const e=t[1].toLowerCase().replace(/\s+/g," "),i=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",r=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:e,raw:t[0],href:i,title:r}}}table(e){const t=this.rules.block.table.exec(e);if(!t)return;if(!/[:|]/.test(t[2]))return;const i=x(t[1]),r=t[2].replace(/^\||\| *$/g,"").split("|"),n=t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[],o={type:"table",raw:t[0],header:[],align:[],rows:[]};if(i.length===r.length){for(const e of r)/^ *-+: *$/.test(e)?o.align.push("right"):/^ *:-+: *$/.test(e)?o.align.push("center"):/^ *:-+ *$/.test(e)?o.align.push("left"):o.align.push(null);for(const e of i)o.header.push({text:e,tokens:this.lexer.inline(e)});for(const e of n)o.rows.push(x(e,o.header.length).map((e=>({text:e,tokens:this.lexer.inline(e)}))));return o}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const e="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:g(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const e=t[2].trim();if(!this.options.pedantic&&/^</.test(e)){if(!/>$/.test(e))return;const t=k(e.slice(0,-1),"\\");if((e.length-t.length)%2===0)return}else{const e=S(t[2],"()");if(e>-1){const i=0===t[0].indexOf("!")?5:4,r=i+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,r).trim(),t[3]=""}}let i=t[2],r="";if(this.options.pedantic){const e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);e&&(i=e[1],r=e[3])}else r=t[3]?t[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(i=this.options.pedantic&&!/>$/.test(e)?i.slice(1):i.slice(1,-1)),E(t,{href:i?i.replace(this.rules.inline.anyPunctuation,"$1"):i,title:r?r.replace(this.rules.inline.anyPunctuation,"$1"):r},t[0],this.lexer)}}reflink(e,t){let i;if((i=this.rules.inline.reflink.exec(e))||(i=this.rules.inline.nolink.exec(e))){const e=(i[2]||i[1]).replace(/\s+/g," "),r=t[e.toLowerCase()];if(!r){const e=i[0].charAt(0);return{type:"text",raw:e,text:e}}return E(i,r,i[0],this.lexer)}}emStrong(e,t,i=""){let r=this.rules.inline.emStrongLDelim.exec(e);if(!r)return;if(r[3]&&i.match(/[\p{L}\p{N}]/u))return;const n=r[1]||r[2]||"";if(!n||!i||this.rules.inline.punctuation.exec(i)){const i=[...r[0]].length-1;let n,o,s=i,a=0;const l="*"===r[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;l.lastIndex=0,t=t.slice(-1*e.length+i);while(null!=(r=l.exec(t))){if(n=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!n)continue;if(o=[...n].length,r[3]||r[4]){s+=o;continue}if((r[5]||r[6])&&i%3&&!((i+o)%3)){a+=o;continue}if(s-=o,s>0)continue;o=Math.min(o,o+s+a);const t=[...r[0]][0].length,l=e.slice(0,i+r.index+t+o);if(Math.min(i,o)%2){const e=l.slice(1,-1);return{type:"em",raw:l,text:e,tokens:this.lexer.inlineTokens(e)}}const c=l.slice(2,-2);return{type:"strong",raw:l,text:c,tokens:this.lexer.inlineTokens(c)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(/\n/g," ");const i=/[^ ]/.test(e),r=/^ /.test(e)&&/ $/.test(e);return i&&r&&(e=e.substring(1,e.length-1)),e=g(e,!0),{type:"codespan",raw:t[0],text:e}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let e,i;return"@"===t[2]?(e=g(t[1]),i="mailto:"+e):(e=g(t[1]),i=e),{type:"link",raw:t[0],text:e,href:i,tokens:[{type:"text",raw:e,text:e}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let e,i;if("@"===t[2])e=g(t[0]),i="mailto:"+e;else{let r;do{r=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??""}while(r!==t[0]);e=g(t[0]),i="www."===t[1]?"http://"+t[0]:t[0]}return{type:"link",raw:t[0],text:e,href:i,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){let e;return e=this.lexer.state.inRawBlock?t[0]:g(t[0]),{type:"text",raw:t[0],text:e}}}}const O=/^(?: *(?:\n|$))+/,D=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,N=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,A=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,$=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,j=/(?:[*+-]|\d{1,9}[.)])/,L=w(/^(?!bull )((?:.|\n(?!\s*?\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,j).getRegex(),I=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,P=/^[^\n]+/,F=/(?!\s*\])(?:\\.|[^\[\]\\])+/,M=w(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",F).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),q=w(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,j).getRegex(),z="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",B=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,U=w("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",B).replace("tag",z).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),W=w(I).replace("hr",A).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",z).getRegex(),V=w(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",W).getRegex(),H={blockquote:V,code:D,def:M,fences:N,heading:$,hr:A,html:U,lheading:L,list:q,newline:O,paragraph:W,table:C,text:P},G=w("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",A).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",z).getRegex(),J={...H,table:G,paragraph:w(I).replace("hr",A).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",G).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",z).getRegex()},X={...H,html:w("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",B).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:C,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:w(I).replace("hr",A).replace("heading"," *#{1,6} *[^\n]").replace("lheading",L).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Y=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,K=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Q=/^( {2,}|\\)\n(?!\s*$)/,Z=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,ee="\\p{P}$+<=>`^|~",te=w(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,ee).getRegex(),ie=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,re=w(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,ee).getRegex(),ne=w("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,ee).getRegex(),oe=w("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,ee).getRegex(),se=w(/\\([punct])/,"gu").replace(/punct/g,ee).getRegex(),ae=w(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),le=w(B).replace("(?:--\x3e|$)","--\x3e").getRegex(),ce=w("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",le).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),ue=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,de=w(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",ue).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),he=w(/^!?\[(label)\]\[(ref)\]/).replace("label",ue).replace("ref",F).getRegex(),pe=w(/^!?\[(ref)\](?:\[\])?/).replace("ref",F).getRegex(),fe=w("reflink|nolink(?!\\()","g").replace("reflink",he).replace("nolink",pe).getRegex(),me={_backpedal:C,anyPunctuation:se,autolink:ae,blockSkip:ie,br:Q,code:K,del:C,emStrongLDelim:re,emStrongRDelimAst:ne,emStrongRDelimUnd:oe,escape:Y,link:de,nolink:pe,punctuation:te,reflink:he,reflinkSearch:fe,tag:ce,text:Z,url:C},ge={...me,link:w(/^!?\[(label)\]\((.*?)\)/).replace("label",ue).getRegex(),reflink:w(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ue).getRegex()},ve={...me,escape:w(Y).replace("])","~|])").getRegex(),url:w(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},be={...ve,br:w(Q).replace("{2,}","*").getRegex(),text:w(ve.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},ye={normal:H,gfm:J,pedantic:X},we={normal:me,gfm:ve,breaks:be,pedantic:ge};class _e{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||l,this.options.tokenizer=this.options.tokenizer||new R,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:ye.normal,inline:we.normal};this.options.pedantic?(t.block=ye.pedantic,t.inline=we.pedantic):this.options.gfm&&(t.block=ye.gfm,this.options.breaks?t.inline=we.breaks:t.inline=we.gfm),this.tokenizer.rules=t}static get rules(){return{block:ye,inline:we}}static lex(e,t){const i=new _e(t);return i.lex(e)}static lexInline(e,t){const i=new _e(t);return i.inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){const e=this.inlineQueue[t];this.inlineTokens(e.src,e.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[]){let i,r,n,o;e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,((e,t,i)=>t+"    ".repeat(i.length)));while(e)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((r=>!!(i=r.call({lexer:this},e,t))&&(e=e.substring(i.raw.length),t.push(i),!0)))))if(i=this.tokenizer.space(e))e=e.substring(i.raw.length),1===i.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(i);else if(i=this.tokenizer.code(e))e=e.substring(i.raw.length),r=t[t.length-1],!r||"paragraph"!==r.type&&"text"!==r.type?t.push(i):(r.raw+="\n"+i.raw,r.text+="\n"+i.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text);else if(i=this.tokenizer.fences(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.heading(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.hr(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.blockquote(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.list(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.html(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.def(e))e=e.substring(i.raw.length),r=t[t.length-1],!r||"paragraph"!==r.type&&"text"!==r.type?this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title}):(r.raw+="\n"+i.raw,r.text+="\n"+i.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text);else if(i=this.tokenizer.table(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.lheading(e))e=e.substring(i.raw.length),t.push(i);else{if(n=e,this.options.extensions&&this.options.extensions.startBlock){let t=1/0;const i=e.slice(1);let r;this.options.extensions.startBlock.forEach((e=>{r=e.call({lexer:this},i),"number"===typeof r&&r>=0&&(t=Math.min(t,r))})),t<1/0&&t>=0&&(n=e.substring(0,t+1))}if(this.state.top&&(i=this.tokenizer.paragraph(n)))r=t[t.length-1],o&&"paragraph"===r.type?(r.raw+="\n"+i.raw,r.text+="\n"+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(i),o=n.length!==e.length,e=e.substring(i.raw.length);else if(i=this.tokenizer.text(e))e=e.substring(i.raw.length),r=t[t.length-1],r&&"text"===r.type?(r.raw+="\n"+i.raw,r.text+="\n"+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(i);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let i,r,n,o,s,a,l=e;if(this.tokens.links){const e=Object.keys(this.tokens.links);if(e.length>0)while(null!=(o=this.tokenizer.rules.inline.reflinkSearch.exec(l)))e.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}while(null!=(o=this.tokenizer.rules.inline.blockSkip.exec(l)))l=l.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);while(null!=(o=this.tokenizer.rules.inline.anyPunctuation.exec(l)))l=l.slice(0,o.index)+"++"+l.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);while(e)if(s||(a=""),s=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((r=>!!(i=r.call({lexer:this},e,t))&&(e=e.substring(i.raw.length),t.push(i),!0)))))if(i=this.tokenizer.escape(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.tag(e))e=e.substring(i.raw.length),r=t[t.length-1],r&&"text"===i.type&&"text"===r.type?(r.raw+=i.raw,r.text+=i.text):t.push(i);else if(i=this.tokenizer.link(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(i.raw.length),r=t[t.length-1],r&&"text"===i.type&&"text"===r.type?(r.raw+=i.raw,r.text+=i.text):t.push(i);else if(i=this.tokenizer.emStrong(e,l,a))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.codespan(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.br(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.del(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.autolink(e))e=e.substring(i.raw.length),t.push(i);else if(this.state.inLink||!(i=this.tokenizer.url(e))){if(n=e,this.options.extensions&&this.options.extensions.startInline){let t=1/0;const i=e.slice(1);let r;this.options.extensions.startInline.forEach((e=>{r=e.call({lexer:this},i),"number"===typeof r&&r>=0&&(t=Math.min(t,r))})),t<1/0&&t>=0&&(n=e.substring(0,t+1))}if(i=this.tokenizer.inlineText(n))e=e.substring(i.raw.length),"_"!==i.raw.slice(-1)&&(a=i.raw.slice(-1)),s=!0,r=t[t.length-1],r&&"text"===r.type?(r.raw+=i.raw,r.text+=i.text):t.push(i);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}else e=e.substring(i.raw.length),t.push(i);return t}}class Ce{options;constructor(e){this.options=e||l}code(e,t,i){const r=(t||"").match(/^\S*/)?.[0];return e=e.replace(/\n$/,"")+"\n",r?'<pre><code class="language-'+g(r)+'">'+(i?e:g(e,!0))+"</code></pre>\n":"<pre><code>"+(i?e:g(e,!0))+"</code></pre>\n"}blockquote(e){return`<blockquote>\n${e}</blockquote>\n`}html(e,t){return e}heading(e,t,i){return`<h${t}>${e}</h${t}>\n`}hr(){return"<hr>\n"}list(e,t,i){const r=t?"ol":"ul",n=t&&1!==i?' start="'+i+'"':"";return"<"+r+n+">\n"+e+"</"+r+">\n"}listitem(e,t,i){return`<li>${e}</li>\n`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(e){return`<p>${e}</p>\n`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return`<tr>\n${e}</tr>\n`}tablecell(e,t){const i=t.header?"th":"td",r=t.align?`<${i} align="${t.align}">`:`<${i}>`;return r+e+`</${i}>\n`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return"<br>"}del(e){return`<del>${e}</del>`}link(e,t,i){const r=_(e);if(null===r)return i;e=r;let n='<a href="'+e+'"';return t&&(n+=' title="'+t+'"'),n+=">"+i+"</a>",n}image(e,t,i){const r=_(e);if(null===r)return i;e=r;let n=`<img src="${e}" alt="${i}"`;return t&&(n+=` title="${t}"`),n+=">",n}text(e){return e}}class xe{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,i){return""+i}image(e,t,i){return""+i}br(){return""}}class ke{options;renderer;textRenderer;constructor(e){this.options=e||l,this.options.renderer=this.options.renderer||new Ce,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new xe}static parse(e,t){const i=new ke(t);return i.parse(e)}static parseInline(e,t){const i=new ke(t);return i.parseInline(e)}parse(e,t=!0){let i="";for(let r=0;r<e.length;r++){const n=e[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[n.type]){const e=n,t=this.options.extensions.renderers[e.type].call({parser:this},e);if(!1!==t||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(e.type)){i+=t||"";continue}}switch(n.type){case"space":continue;case"hr":i+=this.renderer.hr();continue;case"heading":{const e=n;i+=this.renderer.heading(this.parseInline(e.tokens),e.depth,b(this.parseInline(e.tokens,this.textRenderer)));continue}case"code":{const e=n;i+=this.renderer.code(e.text,e.lang,!!e.escaped);continue}case"table":{const e=n;let t="",r="";for(let i=0;i<e.header.length;i++)r+=this.renderer.tablecell(this.parseInline(e.header[i].tokens),{header:!0,align:e.align[i]});t+=this.renderer.tablerow(r);let o="";for(let i=0;i<e.rows.length;i++){const t=e.rows[i];r="";for(let i=0;i<t.length;i++)r+=this.renderer.tablecell(this.parseInline(t[i].tokens),{header:!1,align:e.align[i]});o+=this.renderer.tablerow(r)}i+=this.renderer.table(t,o);continue}case"blockquote":{const e=n,t=this.parse(e.tokens);i+=this.renderer.blockquote(t);continue}case"list":{const e=n,t=e.ordered,r=e.start,o=e.loose;let s="";for(let i=0;i<e.items.length;i++){const t=e.items[i],r=t.checked,n=t.task;let a="";if(t.task){const e=this.renderer.checkbox(!!r);o?t.tokens.length>0&&"paragraph"===t.tokens[0].type?(t.tokens[0].text=e+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&"text"===t.tokens[0].tokens[0].type&&(t.tokens[0].tokens[0].text=e+" "+t.tokens[0].tokens[0].text)):t.tokens.unshift({type:"text",text:e+" "}):a+=e+" "}a+=this.parse(t.tokens,o),s+=this.renderer.listitem(a,n,!!r)}i+=this.renderer.list(s,t,r);continue}case"html":{const e=n;i+=this.renderer.html(e.text,e.block);continue}case"paragraph":{const e=n;i+=this.renderer.paragraph(this.parseInline(e.tokens));continue}case"text":{let o=n,s=o.tokens?this.parseInline(o.tokens):o.text;while(r+1<e.length&&"text"===e[r+1].type)o=e[++r],s+="\n"+(o.tokens?this.parseInline(o.tokens):o.text);i+=t?this.renderer.paragraph(s):s;continue}default:{const e='Token with "'+n.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return i}parseInline(e,t){t=t||this.renderer;let i="";for(let r=0;r<e.length;r++){const n=e[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[n.type]){const e=this.options.extensions.renderers[n.type].call({parser:this},n);if(!1!==e||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(n.type)){i+=e||"";continue}}switch(n.type){case"escape":{const e=n;i+=t.text(e.text);break}case"html":{const e=n;i+=t.html(e.text);break}case"link":{const e=n;i+=t.link(e.href,e.title,this.parseInline(e.tokens,t));break}case"image":{const e=n;i+=t.image(e.href,e.title,e.text);break}case"strong":{const e=n;i+=t.strong(this.parseInline(e.tokens,t));break}case"em":{const e=n;i+=t.em(this.parseInline(e.tokens,t));break}case"codespan":{const e=n;i+=t.codespan(e.text);break}case"br":i+=t.br();break;case"del":{const e=n;i+=t.del(this.parseInline(e.tokens,t));break}case"text":{const e=n;i+=t.text(e.text);break}default:{const e='Token with "'+n.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return i}}class Se{options;constructor(e){this.options=e||l}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}}class Ee{defaults=a();options=this.setOptions;parse=this.#e(_e.lex,ke.parse);parseInline=this.#e(_e.lexInline,ke.parseInline);Parser=ke;Renderer=Ce;TextRenderer=xe;Lexer=_e;Tokenizer=R;Hooks=Se;constructor(...e){this.use(...e)}walkTokens(e,t){let i=[];for(const r of e)switch(i=i.concat(t.call(this,r)),r.type){case"table":{const e=r;for(const r of e.header)i=i.concat(this.walkTokens(r.tokens,t));for(const r of e.rows)for(const e of r)i=i.concat(this.walkTokens(e.tokens,t));break}case"list":{const e=r;i=i.concat(this.walkTokens(e.items,t));break}default:{const e=r;this.defaults.extensions?.childTokens?.[e.type]?this.defaults.extensions.childTokens[e.type].forEach((r=>{i=i.concat(this.walkTokens(e[r],t))})):e.tokens&&(i=i.concat(this.walkTokens(e.tokens,t)))}}return i}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach((e=>{const i={...e};if(i.async=this.defaults.async||i.async||!1,e.extensions&&(e.extensions.forEach((e=>{if(!e.name)throw new Error("extension name required");if("renderer"in e){const i=t.renderers[e.name];t.renderers[e.name]=i?function(...t){let r=e.renderer.apply(this,t);return!1===r&&(r=i.apply(this,t)),r}:e.renderer}if("tokenizer"in e){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");const i=t[e.level];i?i.unshift(e.tokenizer):t[e.level]=[e.tokenizer],e.start&&("block"===e.level?t.startBlock?t.startBlock.push(e.start):t.startBlock=[e.start]:"inline"===e.level&&(t.startInline?t.startInline.push(e.start):t.startInline=[e.start]))}"childTokens"in e&&e.childTokens&&(t.childTokens[e.name]=e.childTokens)})),i.extensions=t),e.renderer){const t=this.defaults.renderer||new Ce(this.defaults);for(const i in e.renderer){if(!(i in t))throw new Error(`renderer '${i}' does not exist`);if("options"===i)continue;const r=i,n=e.renderer[r],o=t[r];t[r]=(...e)=>{let i=n.apply(t,e);return!1===i&&(i=o.apply(t,e)),i||""}}i.renderer=t}if(e.tokenizer){const t=this.defaults.tokenizer||new R(this.defaults);for(const i in e.tokenizer){if(!(i in t))throw new Error(`tokenizer '${i}' does not exist`);if(["options","rules","lexer"].includes(i))continue;const r=i,n=e.tokenizer[r],o=t[r];t[r]=(...e)=>{let i=n.apply(t,e);return!1===i&&(i=o.apply(t,e)),i}}i.tokenizer=t}if(e.hooks){const t=this.defaults.hooks||new Se;for(const i in e.hooks){if(!(i in t))throw new Error(`hook '${i}' does not exist`);if("options"===i)continue;const r=i,n=e.hooks[r],o=t[r];Se.passThroughHooks.has(i)?t[r]=e=>{if(this.defaults.async)return Promise.resolve(n.call(t,e)).then((e=>o.call(t,e)));const i=n.call(t,e);return o.call(t,i)}:t[r]=(...e)=>{let i=n.apply(t,e);return!1===i&&(i=o.apply(t,e)),i}}i.hooks=t}if(e.walkTokens){const t=this.defaults.walkTokens,r=e.walkTokens;i.walkTokens=function(e){let i=[];return i.push(r.call(this,e)),t&&(i=i.concat(t.call(this,e))),i}}this.defaults={...this.defaults,...i}})),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return _e.lex(e,t??this.defaults)}parser(e,t){return ke.parse(e,t??this.defaults)}#e(e,t){return(i,r)=>{const n={...r},o={...this.defaults,...n};!0===this.defaults.async&&!1===n.async&&(o.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),o.async=!0);const s=this.#t(!!o.silent,!!o.async);if("undefined"===typeof i||null===i)return s(new Error("marked(): input parameter is undefined or null"));if("string"!==typeof i)return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(i)+", string expected"));if(o.hooks&&(o.hooks.options=o),o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(i):i).then((t=>e(t,o))).then((e=>o.hooks?o.hooks.processAllTokens(e):e)).then((e=>o.walkTokens?Promise.all(this.walkTokens(e,o.walkTokens)).then((()=>e)):e)).then((e=>t(e,o))).then((e=>o.hooks?o.hooks.postprocess(e):e)).catch(s);try{o.hooks&&(i=o.hooks.preprocess(i));let r=e(i,o);o.hooks&&(r=o.hooks.processAllTokens(r)),o.walkTokens&&this.walkTokens(r,o.walkTokens);let n=t(r,o);return o.hooks&&(n=o.hooks.postprocess(n)),n}catch(a){return s(a)}}}#t(e,t){return i=>{if(i.message+="\nPlease report this to https://github.com/markedjs/marked.",e){const e="<p>An error occurred:</p><pre>"+g(i.message+"",!0)+"</pre>";return t?Promise.resolve(e):e}if(t)return Promise.reject(i);throw i}}}const Te=new Ee;function Re(e,t){return Te.parse(e,t)}Re.options=Re.setOptions=function(e){return Te.setOptions(e),Re.defaults=Te.defaults,c(Re.defaults),Re},Re.getDefaults=a,Re.defaults=l,Re.use=function(...e){return Te.use(...e),Re.defaults=Te.defaults,c(Re.defaults),Re},Re.walkTokens=function(e,t){return Te.walkTokens(e,t)},Re.parseInline=Te.parseInline,Re.Parser=ke,Re.parser=ke.parse,Re.Renderer=Ce,Re.TextRenderer=xe,Re.Lexer=_e,Re.lexer=_e.lex,Re.Tokenizer=R,Re.Hooks=Se,Re.parse=Re;Re.options,Re.setOptions,Re.use,Re.walkTokens,Re.parseInline,ke.parse,_e.lex;var Oe=n(248),De=n.n(Oe);function Ne(e){function t(e,t){return e.sort>t.sort?1:-1}const i={rubric_data_id:e.id,id:String(e.root_node.id),useScores:e.use_scores,useRelativeWeights:e.use_relative_weights,title:e.root_node.title,choices:[],criteria:[]};e.levels.sort(t),i.levels=e.levels.map((e=>({id:String(e.id),title:e.title,description:e.description||"",score:e.score,use_range_score:e.use_range_score||!1,minimum_score:"number"===typeof e.minimum_score?e.minimum_score:null,is_default:e.is_default,criterium_id:e.criterium_id?String(e.criterium_id):""})));const r=(e.root_node.children||[]).filter((e=>"cluster"===e.type));return r.sort(t),i.clusters=r.map((e=>{const r={id:String(e.id),title:e.title,criteria:[]},n=(e.children||[]).filter((e=>"category"===e.type));return n.sort(t),r.categories=n.map((e=>{const r={id:String(e.id),title:e.title,color:e.color||""},n=(e.children||[]).filter((e=>"criterium"===e.type));return n.sort(t),r.criteria=n.map((e=>{const r={id:String(e.id),title:e.title,weight:e.weight,rel_weight:e.rel_weight},n=e.choices||[];return n.sort(t),n.forEach((e=>{i.choices.push({criterium_id:String(r.id),level_id:String(e.level.id),selected:e.selected,feedback:e.feedback||"",has_fixed_score:e.has_fixed_score,fixed_score:e.fixed_score})})),r})),r})),r})),i}function Ae(e){return De().sanitize(Re(e))}class $e{parent;title="";id;_children=[];isRoot=!1;constructor(e="",t){this.parent=null,this.id=t||Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),this.title=e}toMarkdown(){return Ae(this.title)}canHaveChildren(){return!0}hasChildren(){return this.children.length>0}get children(){return this._children}set children(e){this._children=e}toString(){return this.title}addChild(e,t=0){e.parent=this,this._children.splice(t,0,e),this.parent&&this.parent.notifyAddChild(e),this.isRoot&&this.notifyAddChild(e)}notifyAddChild(e){this.parent&&this.parent.notifyAddChild(e)}notifyRemoveChild(e,t){this.parent&&this.parent.notifyRemoveChild(e,t)}removeChild(e,t=!0){if(e.parent!==this)throw new Error("treeNode: "+e.title+" not part of treeNode: "+this.title);const i=this._children.indexOf(e);this._children.splice(i,1),t&&this.parent&&this.parent.notifyRemoveChild(this,e),e.parent=null}moveChild(e,t,i){if(e.parent!==this)throw new Error("treeNode: "+e.title+" not part of treeNode: "+this.title);i||(i=this.children.indexOf(e)),this.moveItemInArray(this.children,i,t)}moveItemInArray(e,t,i){i>=e.length||t>=e.length||i<0||t<0||e.splice(i,0,e.splice(t,1)[0])}}class je extends $e{weight=100;rel_weight=null;getType(){return"criterium"}getScore(){return 0}toString(){return`Criterium (id: ${this.id}, title: ${this.title})`}canHaveChildren(){return!1}toJSON(){return{id:this.id,title:this.title,weight:this.weight,rel_weight:this.rel_weight}}static fromJSON(e){let t;t="string"===typeof e?JSON.parse(e):e;const i=new je(t.title,t.id);return i.weight=t.weight,i.rel_weight="number"===typeof t.rel_weight?t.rel_weight:null,i}}class Le extends $e{color="blue";rgbColor(e=1){console.log(this.color);var t=parseInt(this.color.substring(1),16),i=(16711680&t)>>16,r=(65280&t)>>8,n=255&t;return[i,r,n,e].join(",")}getType(){return"category"}getScore(){return 0}addCriterium(e){super.addChild(e)}removeCriterium(e){super.removeChild(e)}get criteria(){return this.children.filter((e=>e instanceof je))}toJSON(){return{id:this.id,title:this.title,color:this.color,criteria:this._children}}static fromJSON(e){let t;t="string"===typeof e?JSON.parse(e):e;const i=new Le(t.title,t.id);i.color=t.color,i.id=t.id;const r=t.criteria.map((e=>je.fromJSON(e)));return r.forEach((e=>e.parent=i)),i._children=r,i}}class Ie extends $e{collapsed=!1;getType(){return"cluster"}getScore(){return 0}toggleCollapsed(){this.collapsed=!this.collapsed}addCategory(e){super.addChild(e)}addCriterium(e){super.addChild(e)}removeCriterium(e){super.removeChild(e)}removeCategory(e){super.removeChild(e)}get criteria(){return this.children.filter((e=>e instanceof je))}get categories(){return this.children.filter((e=>e instanceof Le))}get clusters(){return this.children}toJSON(){return{id:this.id,title:this.title,categories:this.children.filter((e=>e instanceof Le)).map((e=>e.toJSON())),criteria:this.children.filter((e=>e instanceof je)).map((e=>e.toJSON()))}}static fromJSON(e){let t;t="string"===typeof e?JSON.parse(e):e;const i=new Ie(t.title,t.id),r=t.categories.map((e=>Le.fromJSON(e))),n=t.criteria.map((e=>je.fromJSON(e))),o=r.concat(n);return o.forEach((e=>e.parent=i)),i._children=o,i}}class Pe{id;title;description;score;useRangeScore;minimumScore;isDefault;criteriumId="";constructor(e,t="",i=10,r=!1,n=null,o=!1,s){this.title=e,this.description=t,this.score=i,this.useRangeScore=r,this.minimumScore=n,this.isDefault=o,this.id=s||Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}get use_range_score(){return this.useRangeScore}set use_range_score(e){this.useRangeScore=e,this.minimumScore=e?0:null}get minimum_score(){return this.minimumScore}set minimum_score(e){this.minimumScore="number"===typeof e?e:null}get is_default(){return this.isDefault}get criterium_id(){return this.criteriumId}toString(){return`Level (id: ${this.id}, title: ${this.title})`}toJSON(){return{id:this.id,title:this.title,description:this.description,score:this.score,use_range_score:this.useRangeScore,minimum_score:this.minimumScore,is_default:this.isDefault,criterium_id:this.criteriumId}}toMarkdown(){return Ae(this.description)}static fromJSON(e){let t;t="string"===typeof e?JSON.parse(e):e;const i=new Pe(t.title,t.description,t.score,t.use_range_score||!1,"number"===typeof t.minimum_score?t.minimum_score:null,t.is_default,t.id);return i.criteriumId=t.criterium_id,i}}class Fe{selected;feedback;hasFixedScore=!1;fixedScore_=10;static FIXED_SCORE=10;constructor(e=!1,t=""){this.selected=e,this.feedback=t}get fixedScore(){return this.fixedScore_}set fixedScore(e){this.fixedScore_="number"===typeof e?e:parseFloat(e)}get description(){return this.feedback}set description(e){this.feedback=e}toJSON(e,t){return{selected:this.selected,feedback:this.feedback,has_fixed_score:this.hasFixedScore,fixed_score:this.fixedScore,criterium_id:e,level_id:t}}toMarkdown(){return Ae(this.feedback)}static fromJSON(e){let t;t="string"===typeof e?JSON.parse(e):e;const i=new Fe(t.selected,t.feedback);return i.hasFixedScore=t.has_fixed_score,i.fixedScore=t.fixed_score,i}}function Me(e,t){return e+t}function qe(e){return Math.round(100*e)/100}class ze extends $e{useScores=!0;useRelativeWeights=!0;hasAbsoluteWeights=!1;levels=[];choices=new Map;constructor(e="",t){super(e,t),this.isRoot=!0}getType(){return"rubric"}get useWeights(){return this.useScores&&(this.useRelativeWeights||this.hasAbsoluteWeights)}get rubricLevels(){return this.levels.filter((e=>!e.criteriumId))}get hasCustomLevels(){return this.levels.length!==this.rubricLevels.length}get maxNumLevels(){let e=this.rubricLevels.length;return this.hasCustomLevels?(this.getAllCriteria().forEach((t=>{const i=this.filterLevelsByCriterium(t).length;i>e&&(e=i)})),e):e}filterLevelsByCriterium(e){return this.levels.filter((t=>t.criteriumId===e.id))}get clusters(){return this.children}addCluster(e){this.addChild(e)}removeCluster(e){this.removeChild(e)}notifyAddChild(e){if(e instanceof je)this.onCriteriumAdded(e);else{let t=this.getAllCriteria(e);t.forEach((e=>{this.onCriteriumAdded(e)}))}}onCriteriumAdded(e){this.filterLevelsByCriterium(e).length||this.rubricLevels.forEach((t=>{let i=this.findChoice(e,t);i||(i=new Fe(!1,"")),this.addChoice(i,e.id,t.id)}))}notifyRemoveChild(e,t){const i=this.getAllCriteria(t);i.forEach((e=>this.removeChoicesByCriterium(e)))}toJSON(){return{id:this.id,useScores:this.useScores,useRelativeWeights:this.useRelativeWeights,title:this.title,levels:this.levels,clusters:this._children.map((e=>e.toJSON())),choices:this.getChoicesJSON()}}getChoicesJSON(){let e=[];return this.choices.forEach(((t,i)=>{t.forEach(((t,r)=>{e.push(t.toJSON(i,r))}))})),e}static fromJSON(e){let t;t="string"===typeof e?JSON.parse(e):e;const i=new ze(t.title,t.id);i.levels.push(...t.levels.map((e=>Pe.fromJSON(e)))),t.choices.forEach((e=>{i.addChoice(Fe.fromJSON(e),e.criterium_id,e.level_id)}));const r=t.clusters.map((e=>Ie.fromJSON(e)));return r.forEach((e=>e.parent=i)),i._children=r,i.useScores=t.useScores,i.useRelativeWeights=t.useRelativeWeights,i.getAllCriteria().forEach((e=>i.onCriteriumAdded(e))),i}addChoice(e,t,i){let r=this.choices.get(t);void 0===r&&(r=new Map,this.choices.set(t,r)),r.set(i,e)}removeChoicesByCriterium(e){this.choices.delete(e.id)}setChoicesCriteriumId(e,t){const i=this.choices.get(e);i&&(this.choices.delete(e),this.choices.set(t,i))}setChoicesLevelId(e,t){this.getAllCriteria().forEach((i=>{const r=this.choices.get(i.id);if(r){const i=r.get(e);i&&(r.delete(e),r.set(t,i))}}))}removeChoicesByLevel(e){Array.from(this.choices.values()).forEach((t=>t.delete(e.id)))}findChoice(e,t){let i=this.choices.get(e.id);if(void 0!==i)return i.get(t.id)}getChoice(e,t){let i=this.findChoice(e,t);if(!i)throw new Error(`No choice found for criteria: ${e} and level: ${t}`);return i}addLevel(e){this.levels.push(e),e.criteriumId?this.choices.delete(e.criteriumId):this.getAllCriteria().forEach((t=>{this.filterLevelsByCriterium(t).length||this.addChoice(new Fe(!1,""),t.id,e.id)}))}removeLevel(e){let t;e.criteriumId&&(t=this.getAllCriteria().find((t=>t.id===e.criteriumId)));const i=this.levels.indexOf(e);if(this.levels.splice(i,1),this.removeChoicesByLevel(e),t&&!this.filterLevelsByCriterium(t).length){const e=t.id;this.rubricLevels.forEach((t=>{this.addChoice(new Fe(!1,""),e,t.id)}))}}getFilteredLevels(e){if(e.criteriumId){const t=this.getAllCriteria().find((t=>t.id===e.criteriumId));return t?this.filterLevelsByCriterium(t):null}return this.rubricLevels}moveLevelDown(e){const t=this.getFilteredLevels(e);if(!t)return;const i=t.indexOf(e),r=t[i+1];r&&this.moveItemInArray(this.levels,this.levels.indexOf(e),this.levels.indexOf(r))}moveLevelUp(e){const t=this.getFilteredLevels(e);if(!t)return;const i=t.indexOf(e),r=t[i-1];r&&this.moveItemInArray(this.levels,this.levels.indexOf(e),this.levels.indexOf(r))}moveItemInArray(e,t,i){i>=e.length||t>=e.length||i<0||t<0||e.splice(i,0,e.splice(t,1)[0])}getChoiceScore(e,t){let i=this.getChoice(e,t);return i.hasFixedScore?i.fixedScore:Math.round(e.weight*t.score)/100}getScore(){return this._children.reduce(((e,t)=>e+t.getScore()),0)}getMaximumScore(){if(this.useRelativeWeights)return 100;let e=0;return this.getAllCriteria().forEach((t=>{const i=this.filterLevelsByCriterium(t);let r;r=i.length?i.map((e=>e.score)):this.rubricLevels.map((e=>this.getChoiceScore(t,e)));const n=r.reduce(((e,t)=>Math.max(e,t)),0);e+=n})),e}getCriteriumMaxScore(e,t=!1){if(this.useRelativeWeights)return null!==e.rel_weight?e.rel_weight:t?this.eqRestWeightPrecise:this.eqRestWeight;const i=[0],r=this.filterLevelsByCriterium(e);if(r.length)r.forEach((e=>{i.push(e.score)}));else{const t=this.choices.get(e.id);if(!t)throw new Error(`No choice data found for: ${e}`);t.forEach(((t,r)=>{const n=this.rubricLevels.find((e=>e.id===r));i.push(this.getChoiceScore(e,n))}))}return Math.max.apply(null,i)}getCategoryMaxScore(e){const t=this.getAllCriteria(e).map((e=>this.getCriteriumMaxScore(e,!0))).reduce(Me,0);return qe(t)}getClusterMaxScore(e){const t=this.getAllCriteria(e).map((e=>this.getCriteriumMaxScore(e,!0))).reduce(Me,0);return qe(t)}getAllTreeNodes(e=this){const t=[];return this.getChildrenRecursive(e,t),t}getChildrenRecursive(e,t){t.push(e),e.children.filter((e=>e instanceof je)).forEach((e=>t.push(e))),e.children.filter((e=>e.hasChildren())).forEach((e=>this.getChildrenRecursive(e,t)))}getAllCriteria(e=this){const t=[];return this.getCriteriaRecursive(e,t),t}getAllCategories(e=this){const t=[];return this.children.filter((e=>e instanceof Le)).forEach((e=>t.push(e))),this.children.filter((e=>e instanceof Ie)).forEach((e=>t.push(...e.categories))),t}getCriteriaRecursive(e,t){e.children.filter((e=>e instanceof je)).forEach((e=>t.push(e))),e.children.filter((e=>e.hasChildren())).forEach((e=>this.getCriteriaRecursive(e,t)))}get eqRestWeightPrecise(){const e=this.getAllCriteria().filter((e=>null===e.rel_weight)).length;if(!e)return 0;const t=this.getAllCriteria().map((e=>e.rel_weight||0)).reduce(Me,0);return(100-t)/e}get eqRestWeight(){return qe(this.eqRestWeightPrecise)}getCriteriumWeight(e){return this.useRelativeWeights?null!==e.rel_weight?e.rel_weight:this.eqRestWeightPrecise:e.weight}getRelativeWeight(e){return this.useRelativeWeights?e instanceof je?this.getCriteriumWeight(e):this.getAllCriteria(e).map((e=>this.getCriteriumWeight(e))).reduce(Me,0):0}static resetAbsoluteWeights(e){const t=e.getAllCriteria(),i=e.levels;for(let r=0;r<t.length;r++){100!==t[r].weight&&(t[r].weight=100);for(let n=0;n<i.length;n++){const o=e.findChoice(t[r],i[n]);o?.hasFixedScore&&(o.fixedScore=0,o.hasFixedScore=!1)}}e.hasAbsoluteWeights=!1}static usesAbsoluteWeights(e){const t=e.getAllCriteria(),i=e.levels;for(let r=0;r<t.length;r++){if(100!==t[r].weight)return!0;for(let n=0;n<i.length;n++){const o=e.findChoice(t[r],i[n]);if(o?.hasFixedScore)return!0}}return!1}}var Be=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("router-view")},Ue=[];function We(e,t,i,r){var n,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s}function Ve(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var He=n(203),Ge=n.n(He);
/**
  * vue-class-component v7.2.6
  * (c) 2015-present Evan You
  * @license MIT
  */
function Je(e){return Je="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Je(e)}function Xe(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Ye(e){return Ke(e)||Qe(e)||Ze()}function Ke(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}function Qe(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function Ze(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function et(){return"undefined"!==typeof Reflect&&Reflect.defineMetadata&&Reflect.getOwnMetadataKeys}function tt(e,t){it(e,t),Object.getOwnPropertyNames(t.prototype).forEach((function(i){it(e.prototype,t.prototype,i)})),Object.getOwnPropertyNames(t).forEach((function(i){it(e,t,i)}))}function it(e,t,i){var r=i?Reflect.getOwnMetadataKeys(t,i):Reflect.getOwnMetadataKeys(t);r.forEach((function(r){var n=i?Reflect.getOwnMetadata(r,t,i):Reflect.getOwnMetadata(r,t);i?Reflect.defineMetadata(r,n,e,i):Reflect.defineMetadata(r,n,e)}))}var rt={__proto__:[]},nt=rt instanceof Array;function ot(e){return function(t,i,r){var n="function"===typeof t?t:t.constructor;n.__decorators__||(n.__decorators__=[]),"number"!==typeof r&&(r=void 0),n.__decorators__.push((function(t){return e(t,i,r)}))}}function st(e){var t=Je(e);return null==e||"object"!==t&&"function"!==t}function at(e,t){var i=t.prototype._init;t.prototype._init=function(){var t=this,i=Object.getOwnPropertyNames(e);if(e.$options.props)for(var r in e.$options.props)e.hasOwnProperty(r)||i.push(r);i.forEach((function(i){Object.defineProperty(t,i,{get:function(){return e[i]},set:function(t){e[i]=t},configurable:!0})}))};var r=new t;t.prototype._init=i;var n={};return Object.keys(r).forEach((function(e){void 0!==r[e]&&(n[e]=r[e])})),n}var lt=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];function ct(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.name=t.name||e._componentTag||e.name;var i=e.prototype;Object.getOwnPropertyNames(i).forEach((function(e){if("constructor"!==e)if(lt.indexOf(e)>-1)t[e]=i[e];else{var r=Object.getOwnPropertyDescriptor(i,e);void 0!==r.value?"function"===typeof r.value?(t.methods||(t.methods={}))[e]=r.value:(t.mixins||(t.mixins=[])).push({data:function(){return Xe({},e,r.value)}}):(r.get||r.set)&&((t.computed||(t.computed={}))[e]={get:r.get,set:r.set})}})),(t.mixins||(t.mixins=[])).push({data:function(){return at(this,e)}});var r=e.__decorators__;r&&(r.forEach((function(e){return e(t)})),delete e.__decorators__);var n=Object.getPrototypeOf(e.prototype),o=n instanceof Ge()?n.constructor:Ge(),s=o.extend(t);return dt(s,e,o),et()&&tt(s,e),s}var ut={prototype:!0,arguments:!0,callee:!0,caller:!0};function dt(e,t,i){Object.getOwnPropertyNames(t).forEach((function(r){if(!ut[r]){var n=Object.getOwnPropertyDescriptor(e,r);if(!n||n.configurable){var o=Object.getOwnPropertyDescriptor(t,r);if(!nt){if("cid"===r)return;var s=Object.getOwnPropertyDescriptor(i,r);if(!st(o.value)&&s&&s.value===o.value)return}0,Object.defineProperty(e,r,o)}}}))}function ht(e){return"function"===typeof e?ct(e):function(t){return ct(t,e)}}ht.registerHooks=function(e){lt.push.apply(lt,Ye(e))};var pt=ht;var ft="undefined"!==typeof Reflect&&"undefined"!==typeof Reflect.getMetadata;function mt(e,t,i){if(ft&&!Array.isArray(e)&&"function"!==typeof e&&!e.hasOwnProperty("type")&&"undefined"===typeof e.type){var r=Reflect.getMetadata("design:type",t,i);r!==Object&&(e.type=r)}}function gt(e){return void 0===e&&(e={}),function(t,i){mt(e,t,i),ot((function(t,i){(t.props||(t.props={}))[i]=e}))(t,i)}}function vt(e,t){void 0===t&&(t={});var i=t.deep,r=void 0!==i&&i,n=t.immediate,o=void 0!==n&&n;return ot((function(t,i){"object"!==typeof t.watch&&(t.watch=Object.create(null));var n=t.watch;"object"!==typeof n[e]||Array.isArray(n[e])?"undefined"===typeof n[e]&&(n[e]=[]):n[e]=[n[e]],n[e].push({handler:i,deep:r,immediate:o})}))}let bt=class extends(Ge()){};bt=We([pt({name:"rubric-demo-wrapper"})],bt);var yt=bt,wt=yt;function _t(e,t,i,r,n,o,s,a){var l,c="function"===typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=i,c._compiled=!0),r&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),s?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=l):n&&(l=a?function(){n.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:n),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:c}}var Ct=_t(wt,Be,Ue,!1,null,null,null),xt=Ct.exports,kt=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.debugServerResponse?t("div",[t("rubric-builder",{attrs:{"api-config":e.apiConfig,"rubric-data":e.convertedRubricData,version:e.version,"ui-state":e.uiState}}),t("div",{attrs:{id:"server-response"}})],1):t("rubric-builder",{attrs:{"api-config":e.apiConfig,"rubric-data":e.convertedRubricData,version:e.version,"ui-state":e.uiState}})},St=[],Et=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{class:{"builder-app":"Builder"===e.$route.name,"builder-app-levels":"BuilderLevels"===e.$route.name},attrs:{id:"app"}},[e.rubric&&e.rubric.hasAbsoluteWeights?t("div",{staticClass:"alert-new-weights-system"},[t("a",{attrs:{href:"#"},on:{click:function(t){return e.showResettingWeights()}}},[t("i",{staticClass:"fa fa-exclamation-circle",attrs:{"aria-hidden":"true"}}),e._v(e._s(e.$t("new-weights-system")))])]):e._e(),t("div",{staticClass:"app-header"},[t("nav",{attrs:{role:"navigation"}},[t("ul",{staticClass:"app-header-nav"},[t("li",{staticClass:"app-nav-item"},[t("router-link",{staticClass:"app-link",attrs:{to:{name:"BuilderPreview"}}},[t("span",{staticClass:"link-text",attrs:{tabindex:"-1"}},[e._v(e._s(e.$t("preview")))])])],1),t("li",{staticClass:"app-nav-item"},[t("router-link",{staticClass:"app-link",attrs:{to:{name:"Builder"}}},[t("span",{staticClass:"link-text",attrs:{tabindex:"-1"}},[e._v(e._s(e.$t("builder")))])])],1),t("li",{staticClass:"app-nav-item"},[t("router-link",{staticClass:"app-link",attrs:{to:{name:"BuilderLevels"}}},[t("span",{staticClass:"link-text",attrs:{tabindex:"-1"}},[e._v(e._s(e.$t("levels")))])])],1),t("li",{staticClass:"app-nav-item"},[t("router-link",{staticClass:"app-link",attrs:{to:{name:"BuilderFull"}}},[t("span",{staticClass:"link-text",attrs:{tabindex:"-1"}},[e._v(e._s(e.$t("level-descriptions")))])])],1)])]),t("save-area",{attrs:{"show-save-state":"BuilderPreview"!==e.$route.name,"data-connector":e.dataConnector,error:e.errorCode?e.$t(`error-${e.errorCode}`):null}})],1),t("div",{staticClass:"rubrics",class:{"mod-mg":"Builder"===e.$route.name||"BuilderLevels"===e.$route.name}},[e.rubric?t("div",{class:{"rubrics-wrapper":"Builder"===e.$route.name,"rubrics-wrapper-levels":"BuilderLevels"===e.$route.name}},[t("router-view",{attrs:{rubric:e.rubric,"data-connector":"BuilderPreview"!==e.$route.name&&e.dataConnector,"selected-criterium":"Builder"===e.$route.name&&e.selectedCriterium,"ui-state":"Builder"===e.$route.name||"BuilderPreview"===e.$route.name?e.uiState:null},on:{"criterium-selected":e.selectCriterium}})],1):t("div",{staticClass:"app-container-loading"},[t("p",[e._v("Loading Rubrics...")]),e._m(0)])]),e.rubric&&e.rubric.hasAbsoluteWeights&&e.showResetWeightsDialog?t("div",{staticClass:"modal-bg",on:{click:function(t){t.stopPropagation(),e.showResetWeightsDialog=!1}}},[t("div",{staticClass:"modal-content",on:{click:function(e){e.stopPropagation()}}},[t("div",{staticClass:"modal-content-wrapper"},[t("div",{staticClass:"modal-content-msg",domProps:{innerHTML:e._s(e.$t("weights-system-msg",{imgurl:e.newWeightsImageURL}))}}),t("div",[t("button",{staticClass:"btn-strong mod-confirm",on:{click:function(t){return t.stopPropagation(),e.resetAbsoluteWeights.apply(null,arguments)}}},[e._v(e._s(e.$t("move-new")))]),t("button",{staticClass:"btn-strong",on:{click:function(t){t.stopPropagation(),e.showResetWeightsDialog=!1}}},[e._v(e._s(e.$t("keep-old")))])])])])]):e._e()])},Tt=[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"lds-ellipsis",attrs:{"aria-hidden":"true"}},[t("div"),t("div"),t("div"),t("div")])}],Rt=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"app-container",class:e.mainClass},[t("div",{staticClass:"rubric-panes-wrapper"},[t("div",{staticClass:"rubric-panes",class:{"is-criterium-selected":!!e.selectedCriterium},on:{click:e.hideMenu,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.hideMenu.apply(null,arguments)}}},[t("rubric-pane",{attrs:{id:"view1","show-split-view":e.uiState.showSplitView,rubric:e.rubric,"data-connector":e.dataConnector,"selected-cluster":e.selectedClusterView1,"other-selected-cluster":e.selectedClusterView2,"selected-criterium":e.selectedCriterium,"cluster-actions-enabled":""===e.newClusterDialogView,"category-actions-enabled":""===e.newCategoryDialogView,"menu-actions-id":e.menuActionsId,"is-editing":e.isEditing,"edit-category-color-id":e.editCategoryColorId,"drag-item-type":e.dragItemType,"draggable-disabled":e.draggableDisabled,"banned-for-drop":e.bannedForDrop},on:{"split-view-changed":function(t){e.uiState.showSplitView=t},"cluster-selected":function(t){return e.onClusterSelected(t,"view1")},"criterium-selected":e.selectCriterium,"dialog-new-cluster":function(t){e.newClusterDialogView=t},"dialog-new-category":function(t){e.newCategoryDialogView=t},"item-actions":function(t){return e.onItemActions(t)},"start-edit":e.onStartEdit,"finish-edit":e.onFinishEdit,"change-color":e.onChangeColor,remove:e.showRemoveDialog,"color-picker":e.onColorPicker,"start-drag":e.startDrag,"end-drag":e.endDrag,"over-element":e.dragOverElement}}),t("transition",{attrs:{name:"selected-fade",mode:"out-in"}},[e.uiState.showSplitView?t("rubric-pane",{attrs:{id:"view2","show-split-view":e.uiState.showSplitView,rubric:e.rubric,"data-connector":e.dataConnector,"selected-cluster":e.selectedClusterView2,"other-selected-cluster":e.selectedClusterView1,"selected-criterium":e.selectedCriterium,"cluster-actions-enabled":""===e.newClusterDialogView,"category-actions-enabled":""===e.newCategoryDialogView,"menu-actions-id":e.menuActionsId,"is-editing":e.isEditing,"edit-category-color-id":e.editCategoryColorId,"drag-item-type":e.dragItemType,"draggable-disabled":e.draggableDisabled,"banned-for-drop":e.bannedForDrop},on:{"cluster-selected":function(t){return e.onClusterSelected(t,"view2")},"criterium-selected":e.selectCriterium,"dialog-new-cluster":function(t){e.newClusterDialogView=t},"dialog-new-category":function(t){e.newCategoryDialogView=t},"item-actions":function(t){return e.onItemActions(t)},"start-edit":e.onStartEdit,"finish-edit":e.onFinishEdit,"change-color":e.onChangeColor,remove:e.showRemoveDialog,"color-picker":e.onColorPicker,"start-drag":e.startDrag,"end-drag":e.endDrag,"over-element":e.dragOverElement}}):e._e()],1)],1)]),t("transition",{attrs:{name:"selected-fade",mode:"out-in"}},[e.selectedCriterium?t("criterium-details-view",{attrs:{rubric:e.rubric,criterium:e.selectedCriterium,"data-connector":e.dataConnector},on:{close:function(t){return e.selectCriterium(null)},"change-criterium":e.onChangeCriterium,"change-choice":e.onChangeChoice}}):e._e()],1),t("remove-dialog",{attrs:{"remove-item":e.removeItem},on:{remove:e.onRemoveItem,cancel:e.hideRemoveDialog}})],1)},Ot=[],Dt=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"clusters-wrapper",class:{"is-split":e.showSplitView,"category-dragging":e.categoryDragging},attrs:{id:`clusters-wrapper-${e.id}`}},[t("button",{staticClass:"btn-collapse",class:{"is-open":e.showClusters},on:{click:e.toggleShowClusters}},[t("i",{staticClass:"fa fa-institution"}),t("span",[e._v(e._s(e.$t("subsections")))])]),t("div",{staticClass:"clusters-collapse"},[t("transition",{attrs:{name:"clusters-slide"}},[t("div",{key:e.showClusters?"open":"closed",staticClass:"clusters-view",class:{"no-drop":e.clusterDragging&&e.bannedForDrop===`${e.id}_clusters`,"is-closed":!e.showClusters,"mod-separator":e.clusterActionsEnabled},style:"--num-clusters: "+e.clusters.length,on:{mouseover:function(t){return e.dragMouseOver(`${e.id}_clusters`)},mouseout:e.dragMouseOut}},["view1"===e.id?t("split-view-button",{attrs:{"show-split-view":e.showSplitView},on:{changed:function(t){return e.$emit("split-view-changed",t)}}}):e._e(),t("draggable",{staticClass:"b-clusters",class:{"cluster-dragging":e.clusterDragging},attrs:{handle:".handle",disabled:e.draggableDisabled,id:`${e.id}_clusters`,tag:"ul",group:"clusters","ghost-class":"ghost",list:e.clusters,forceFallback:!0,animation:250,move:e.onMoveCluster},on:{start:function(t){return e.startDrag(t,"cluster")},end:e.endDrag,change:e.onChangeCluster}},e._l(e.clusters,(function(i,r){return t("cluster-view",{key:`${e.id}_${i.id}`,staticClass:"b-cluster-list-item",attrs:{tag:"li",id:`${e.id}_${i.id}`,cluster:i,"menu-actions-id":e.menuActionsId,selected:e.isSelected(i)},on:{"cluster-selected":e.selectCluster,"item-actions":function(t){return e.$emit("item-actions",t)},remove:e.onRemove,"start-edit":function(t){return e.onStartEdit(i)},"finish-edit":function(t){return e.onFinishEdit(i,...arguments)}}})})),1),t("new-cluster",{staticClass:"rubric-actions",attrs:{"view-id":e.id,"actions-enabled":e.clusterActionsEnabled},on:{"dialog-view":function(t){return e.$emit("dialog-new-cluster",t)},"cluster-added":e.addCluster}})],1)])],1),e.selectedCluster?t("h1",{staticClass:"b-cluster-selected-title"},[e._v(e._s(e.selectedCluster.title))]):e._e(),t("transition",{attrs:{name:e.categoriesTransitionName,mode:"out-in"}},[t("div",{key:e.selectedCluster?e.selectedCluster.id:"none",ref:"cluster-content",staticClass:"cluster-content",class:{"no-drop":e.categoryDragging&&e.bannedForDrop===`${e.id}_categories`},on:{mouseover:function(t){e.categoryDragging&&e.dragMouseOver(`${e.id}_categories`)},mouseout:function(t){e.categoryDragging&&e.dragMouseOut}}},[t("draggable",{staticClass:"b-categories",attrs:{disabled:e.draggableDisabled,id:`${e.id}_categories`,tag:"ul",group:"categories",handle:".category-handle","ghost-class":"ghost",list:e.categories,forceFallback:!0,animation:250,move:e.onMoveCategory},on:{start:function(t){return e.startDrag(t,"category")},end:e.endDrag,change:e.onChangeCategory}},[e._l(e.categories,(function(i){return t("li",{key:`${e.id}_${i.id}`,staticClass:"b-category",class:{"no-drop":e.criteriumDragging&&e.bannedForDrop===`${e.id}_${i.id}`},style:{"--category-color":i.color},attrs:{id:`${e.id}_${i.id}`},on:{mouseover:function(t){e.criteriumDragging&&e.dragMouseOver(`${e.id}_${i.id}`)},mouseout:function(t){e.criteriumDragging&&e.dragMouseOut}}},[t("category-view",{key:`${e.id}_${i.id}`,attrs:{id:`${e.id}_${i.id}`,category:i,"menu-actions-id":e.menuActionsId,"edit-category-color-id":e.editCategoryColorId},on:{"color-picker":function(t){return e.$emit("color-picker",t)},"item-actions":function(t){return e.$emit("item-actions",t)},remove:e.onRemove,"start-edit":function(t){return e.onStartEdit(i)},"finish-edit":function(t){return e.onFinishEdit(i,...arguments)},"change-color":function(t){return e.$emit("change-color",i)}}}),0!==i.criteria.length||e.categoriesAddingCriterium[i.id]||e.criteriumDragging?e._e():t("div",{staticClass:"criteria-empty-list"},[e._v(e._s(e.$t("no-criteria-yet")))]),t("draggable",{key:`${e.id}_${i.id}_draggable`,staticClass:"b-criteria",attrs:{disabled:e.draggableDisabled,tag:"ul",group:"criteria",handle:".criterium-handle","ghost-class":"ghost",swapTreshold:"0.75",list:i.criteria,forceFallback:!0,animation:250,move:e.onMoveCriterium},on:{start:function(t){return e.startDrag(t,"criterium")},end:e.endDrag,change:function(t){return e.onChangeCriterium(t,i)}}},e._l(i.criteria,(function(i){return t("criterium-view",{key:`${e.id}_${i.id}`,staticClass:"b-criterium-list-item",attrs:{tag:"li",id:`${e.id}_${i.id}`,criterium:i,"menu-actions-id":e.menuActionsId,selected:e.isSelected(i)},on:{"criterium-selected":e.selectCriterium,"item-actions":function(t){return e.$emit("item-actions",t)},remove:e.onRemove,"start-edit":function(t){return e.onStartEdit(i)},"finish-edit":function(t){return e.onFinishEdit(i,...arguments)}}})})),1),t("new-criterium",{staticClass:"category-actions",attrs:{"criterium-dragging":e.criteriumDragging},on:{"criterium-adding":function(t){return e.addingCriteriumForCategory(i,t)},"criterium-added":function(t){return e.addCriterium(i,t)}}})],1)})),e.criteriumDragging?t("li",{staticClass:"b-category",attrs:{slot:"footer"},slot:"footer"},[t("div",{staticClass:"b-category-list-item mod-null-category-drag"},[t("div",{staticClass:"item-header-bar mod-category"},[t("div",{staticClass:"b-category-title-wrapper"},[t("h2",{staticClass:"b-category-title mod-null-category-drag"},[e._v(e._s(e.$t("new-criteria-list"))+"...")])])])]),t("draggable",{staticClass:"b-criteria",attrs:{tag:"ul",group:"criteria",handle:".criterium-handle","ghost-class":"ghost",swapTreshold:"0.75",list:[],forceFallback:!0,animation:250},on:{end:e.endDrag,change:e.onChangeCriteriumInCluster}})],1):0===e.categories.length?t("li",{staticClass:"b-category-drag-filler",attrs:{slot:"footer"},slot:"footer"}):e._e()],2),e.selectedCluster?t("new-category",{staticClass:"cluster-actions",attrs:{"view-id":e.id,"actions-enabled":e.categoryActionsEnabled},on:{"dialog-view":function(t){return e.$emit("dialog-new-category",t)},"category-added":e.addCategory}}):e._e()],1)])],1)},Nt=[],At=n(530),$t=n.n(At),jt=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(e.tag,{tag:"component",attrs:{id:e.id,tabindex:"0"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$emit("cluster-selected",e.cluster)},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:e.$emit("cluster-selected",e.cluster)},click:function(t){return t.stopPropagation(),e.$emit("cluster-selected",e.cluster)}}},[t("div",{staticClass:"b-cluster handle cluster-handle",class:{"is-selected":e.selected,"is-menu-visible":e.showMenuActions},attrs:{tabindex:"-1"}},[t("div",{staticClass:"item-header-bar"},[t("div",{staticClass:"b-cluster-title",attrs:{title:e.cluster.title},on:{dblclick:e.startEditing}},[e._v(" "+e._s(e.cluster.title)+" ")]),t("button",{staticClass:"btn-toggle-menu mod-cluster",class:{"is-menu-visible":e.showMenuActions},attrs:{"aria-label":!e.showMenuActions&&e.$t("open-menu"),title:!e.showMenuActions&&e.$t("open-menu")},on:{keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"]))return null;t.stopPropagation()},keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.stopPropagation()},click:function(t){return t.preventDefault(),t.stopPropagation(),e.onItemActions.apply(null,arguments)}}},[t("i",{class:e.showMenuActions?"fa fa-close":"fa fa-ellipsis-h"})]),t("div",{staticClass:"action-menu mod-cluster mod-menu-fixed",class:{"is-menu-visible":e.showMenuActions},style:{left:`${e.menuX}px`,top:`${e.menuY}px`}},[t("ul",{staticClass:"action-menu-list"},[t("li",{staticClass:"action-menu-list-item",class:{"is-cluster-selected":e.selected},attrs:{role:"button",tabindex:"0"},on:{click:function(t){return t.stopPropagation(),e.startEditing.apply(null,arguments)},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.startEditing.apply(null,arguments)}}},[t("i",{staticClass:"action-menu-icon fa fa-pencil",attrs:{"aria-hidden":"true"}}),t("span",{staticClass:"action-menu-text"},[e._v(e._s(e.$t("edit-title")))])]),t("li",{staticClass:"action-menu-list-item",class:{"is-cluster-selected":e.selected},attrs:{role:"button",tabindex:"0"},on:{click:function(t){return t.stopPropagation(),e.$emit("remove",e.cluster)},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$emit("remove",e.cluster)}}},[t("i",{staticClass:"action-menu-icon fa fa-remove",attrs:{"aria-hidden":"true"}}),t("span",{staticClass:"action-menu-text"},[e._v(e._s(e.$t("remove")))])])])])]),e.isEditing?t("div",{staticClass:"edit-title"},[t("div",{staticClass:"modal-bg",on:{click:function(e){e.stopPropagation()}}}),t("name-input",{staticClass:"item-new mod-edit",attrs:{"ok-title":e.$t("edit"),placeholder:e.$t("title-subsection")},on:{ok:e.finishEditing,cancel:e.cancel},model:{value:e.newTitle,callback:function(t){e.newTitle=t},expression:"newTitle"}})],1):e._e()])])},Lt=[],It=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"name-input",on:{click:function(e){e.stopPropagation()}}},[t("div",{staticClass:"name-input-title"},[t("textarea",{ref:"name-input",staticClass:"name-input-field mod-textarea",attrs:{placeholder:e.placeholder},domProps:{value:e.value},on:{keyup:[e.onChange,function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.cancel.apply(null,arguments)}],keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.ok.apply(null,arguments))},input:e.onInput}})]),t("div",{staticClass:"name-input-actions"},[t("button",{staticClass:"btn-strong mod-confirm",attrs:{disabled:!(e.allowEmpty||e.hasInput)},on:{click:e.ok}},[e._v(e._s(e.okTitle||e.$t("ok")))]),t("button",{staticClass:"btn-strong",on:{click:e.cancel}},[e._v(e._s(e.cancelTitle||e.$t("cancel")))])])])},Pt=[];function Ft(e){e.style.height="",e.style.height=`${e.scrollHeight}px`}let Mt=class extends(Ge()){placeholder;classname;value;okTitle;cancelTitle;allowEmpty;hasInput=!1;ok(){(this.hasInput||this.allowEmpty)&&this.$emit("ok")}cancel(){this.$emit("cancel")}clearInput(){this.$emit("input",""),this.hasInput=!1,this.$refs["name-input"]&&this.$refs["name-input"].focus()}onInput(e){this.$emit("input",e.target.value),Ft(e.target)}onChange(){this.$refs["name-input"]&&(this.hasInput=""!==this.$refs["name-input"].value)}mounted(){this.value&&(this.hasInput=!0),this.$refs["name-input"]&&(this.$refs["name-input"].focus(),""!==this.value&&Ft(this.$refs["name-input"]))}};We([gt(),Ve("design:type",String)],Mt.prototype,"placeholder",void 0),We([gt(),Ve("design:type",String)],Mt.prototype,"classname",void 0),We([gt(),Ve("design:type",String)],Mt.prototype,"value",void 0),We([gt(),Ve("design:type",String)],Mt.prototype,"okTitle",void 0),We([gt(),Ve("design:type",String)],Mt.prototype,"cancelTitle",void 0),We([gt({default:!1}),Ve("design:type",Boolean)],Mt.prototype,"allowEmpty",void 0),Mt=We([pt({name:"name-input",components:{}})],Mt);var qt=Mt,zt=qt,Bt=n(437),Ut=n.n(Bt),Wt=Ut(),Vt=_t(zt,It,Pt,!1,null,null,null);"function"===typeof Wt&&Wt(Vt);var Ht,Gt,Jt=Vt.exports;let Xt=class extends(Ge()){isEditing=!1;oldTitle="";newTitle="";menuX=0;menuY=0;tag;id;menuActionsId;selected;cluster;mounted(){this.resetTitle()}onItemActions(e){this.$emit("item-actions",this.id);const t=e.target.getBoundingClientRect();this.menuX=t.x,this.menuY=t.bottom+36}resetTitle(){this.newTitle=this.cluster.title}get showMenuActions(){return this.menuActionsId===this.id}startEditing(){this.isEditing=!0,this.oldTitle=this.cluster.title,this.$emit("start-edit")}finishEditing(e=!1){this.$emit("finish-edit",this.newTitle,e),this.isEditing=!1,this.oldTitle=""}cancel(){this.cluster.title=this.oldTitle,this.finishEditing(!0),this.resetTitle()}onTitleChanged(){this.resetTitle()}};We([gt({type:String,default:"div"}),Ve("design:type","function"===typeof(Ht="undefined"!==typeof String&&String)?Ht:Object)],Xt.prototype,"tag",void 0),We([gt({type:String,required:!0}),Ve("design:type",String)],Xt.prototype,"id",void 0),We([gt({type:String,required:!0}),Ve("design:type",String)],Xt.prototype,"menuActionsId",void 0),We([gt({type:Boolean,required:!0}),Ve("design:type",Boolean)],Xt.prototype,"selected",void 0),We([gt({type:Ie,required:!0}),Ve("design:type","function"===typeof(Gt="undefined"!==typeof Ie&&Ie)?Gt:Object)],Xt.prototype,"cluster",void 0),We([vt("cluster.title"),Ve("design:type",Function),Ve("design:paramtypes",[]),Ve("design:returntype",void 0)],Xt.prototype,"onTitleChanged",null),Xt=We([pt({name:"cluster-view",components:{NameInput:Jt}})],Xt);var Yt=Xt,Kt=Yt,Qt=n(849),Zt=n.n(Qt),ei=Zt(),ti=_t(Kt,jt,Lt,!1,null,null,null);"function"===typeof ei&&ei(ti);var ii,ri=ti.exports,ni=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"b-category-list-item handle category-handle",class:{"mod-null-category":!e.category.title},attrs:{id:e.id}},[t("div",{staticClass:"item-header-bar mod-category"},[e.category.title?t("button",{staticClass:"btn-category-color",class:{"xvue-swatches__diagonal":""===e.category.color},style:{"background-color":e.category.color||null},attrs:{"aria-label":e.$t("color-picker"),title:e.$t("color-picker"),"aria-expanded":e.isColorPickerOpened?"true":"false","aria-controls":e.id+"--swatches"},on:{click:function(t){return e.openColorPickerForCategory(e.category)}}}):e._e(),t("div",{staticClass:"b-category-header-wrapper",class:{"mod-null-category":!e.category.title}},[e.isColorPickerOpened?t("swatches",{attrs:{id:e.id+"--swatches",swatches:e.swatchColors,"background-color":"transparent","show-border":"","swatch-size":"20",inline:""},on:{input:e.closeColorPicker},model:{value:e.category.color,callback:function(t){e.$set(e.category,"color",t)},expression:"category.color"}}):e._e(),t("h2",{staticClass:"b-category-title",class:{"mod-null-category":!e.category.title},on:{dblclick:function(t){return t.stopPropagation(),e.startEditing.apply(null,arguments)}}},[e._v(e._s(e.category.title||e.$t("list-of-criteria")))])],1),t("button",{staticClass:"btn-toggle-menu mod-category",class:{"is-menu-visible":e.showMenuActions},attrs:{"aria-label":!e.showMenuActions&&e.$t("open-menu"),title:!e.showMenuActions&&e.$t("open-menu")},on:{click:function(t){return t.stopPropagation(),e.$emit("item-actions",e.id)}}},[t("i",{class:e.showMenuActions?"fa fa-close":"fa fa-ellipsis-h"})]),t("div",{staticClass:"action-menu mod-category",class:{"is-menu-visible":e.showMenuActions}},[t("ul",{staticClass:"action-menu-list"},[t("li",{staticClass:"action-menu-list-item",attrs:{tabindex:"0"},on:{click:function(t){return t.stopPropagation(),e.startEditing.apply(null,arguments)},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.startEditing.apply(null,arguments)}}},[t("i",{staticClass:"action-menu-icon fa fa-pencil"}),t("span",{staticClass:"action-menu-text"},[e._v(e._s(e.category.title?e.$t("edit-title"):e.$t("change-into-category")))])]),t("li",{staticClass:"action-menu-list-item",attrs:{tabindex:"0"},on:{click:function(t){return t.stopPropagation(),e.$emit("remove",e.category)},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$emit("remove",e.category)}}},[t("i",{staticClass:"action-menu-icon fa fa-remove"}),t("span",{staticClass:"action-menu-text"},[e._v(e._s(e.$t("remove")))])])])])]),e.isEditing?t("div",{staticClass:"edit-title"},[t("div",{staticClass:"modal-bg"}),t("name-input",{staticClass:"item-new mod-edit",attrs:{"ok-title":e.$t("edit"),"allow-empty":"true",placeholder:e.$t("title-category")},on:{ok:e.finishEditing,cancel:e.cancel},model:{value:e.newTitle,callback:function(t){e.newTitle=t},expression:"newTitle"}})],1):e._e()])},oi=[],si=n(897),ai=n.n(si);let li=class extends(Ge()){isEditing=!1;oldTitle="";newTitle="";swatchColors=["","#000000","#5e318e","#bd002f","#b10099","#1c5ce2","#00943e","#0182ed","#fddf00","#ff2b84","#e76f01","#c58d00","#ff9385","#b7aaff","#a4c592","#56e9c2"];id;menuActionsId;editCategoryColorId;category;mounted(){this.resetTitle()}resetTitle(){this.newTitle=this.category.title}get showMenuActions(){return this.menuActionsId===this.id}openColorPickerForCategory(e){const t=e?this.id:"";this.$emit("color-picker",this.editCategoryColorId!==t?t:"")}get isColorPickerOpened(){return""!==this.editCategoryColorId&&this.id===this.editCategoryColorId}closeColorPicker(){window.setTimeout((()=>this.openColorPickerForCategory(null)),400)}startEditing(){this.isEditing=!0,this.oldTitle=this.category.title,this.$emit("start-edit")}finishEditing(e=!1){this.isEditing=!1,this.oldTitle="",this.$emit("finish-edit",this.newTitle,e)}cancel(){this.category.title=this.oldTitle,this.finishEditing(!0),this.resetTitle()}onTitleChanged(){this.resetTitle()}onColorChanged(){this.$emit("change-color")}};We([gt({type:String,required:!0}),Ve("design:type",String)],li.prototype,"id",void 0),We([gt({type:String,required:!0}),Ve("design:type",String)],li.prototype,"menuActionsId",void 0),We([gt({type:String,required:!0}),Ve("design:type",String)],li.prototype,"editCategoryColorId",void 0),We([gt({type:Le,required:!0}),Ve("design:type","function"===typeof(ii="undefined"!==typeof Le&&Le)?ii:Object)],li.prototype,"category",void 0),We([vt("category.title"),Ve("design:type",Function),Ve("design:paramtypes",[]),Ve("design:returntype",void 0)],li.prototype,"onTitleChanged",null),We([vt("category.color"),Ve("design:type",Function),Ve("design:paramtypes",[]),Ve("design:returntype",void 0)],li.prototype,"onColorChanged",null),li=We([pt({name:"category-view",components:{NameInput:Jt,Swatches:ai()}})],li);var ci=li,ui=ci,di=n(445),hi=n.n(di),pi=hi(),fi=_t(ui,ni,oi,!1,null,null,null);"function"===typeof pi&&pi(fi);var mi,gi,vi=fi.exports,bi=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(e.tag,{tag:"component",staticClass:"handle criterium-handle",attrs:{id:e.id}},[t("div",{staticClass:"b-criterium",class:{"is-selected":e.selected}},[t("div",{staticClass:"item-header-bar mod-criterium"},[t("div",{staticClass:"b-criterium-title-wrapper",attrs:{tabindex:"0"},on:{click:function(t){return e.$emit("criterium-selected",e.criterium)},dblclick:function(t){return t.stopPropagation(),e.startEditing.apply(null,arguments)},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$emit("criterium-selected",e.criterium)}}},[t("h3",{staticClass:"b-criterium-title u-markdown-criterium",attrs:{tabindex:"-1"},domProps:{innerHTML:e._s(e.criterium.toMarkdown())}})]),t("button",{staticClass:"btn-toggle-menu mod-criterium",class:{"is-menu-visible":e.showMenuActions},attrs:{"aria-label":!e.showMenuActions&&e.$t("open-menu"),title:!e.showMenuActions&&e.$t("open-menu")},on:{keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"]))return null;t.stopPropagation()},keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.stopPropagation()},click:function(t){return t.stopPropagation(),e.$emit("item-actions",e.id)}}},[t("i",{class:e.showMenuActions?"fa fa-close":"fa fa-ellipsis-h"})]),t("div",{staticClass:"action-menu mod-criterium",class:{"is-menu-visible":e.showMenuActions}},[t("ul",{staticClass:"action-menu-list"},[t("li",{staticClass:"action-menu-list-item menu-list-item-details",attrs:{tabindex:"0"},on:{click:function(t){return e.$emit("criterium-selected",e.criterium)},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$emit("criterium-selected",e.criterium)}}},[t("i",{staticClass:"action-menu-icon fa fa-search"}),t("span",{staticClass:"action-menu-text"},[e._v(e._s(e.$t("details")))])]),t("li",{staticClass:"action-menu-list-item",attrs:{tabindex:"0"},on:{click:function(t){return t.stopPropagation(),e.startEditing.apply(null,arguments)},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.startEditing.apply(null,arguments)}}},[t("i",{staticClass:"action-menu-icon fa fa-pencil"}),t("span",{staticClass:"action-menu-text"},[e._v(e._s(e.$t("edit-title")))])]),t("li",{staticClass:"action-menu-list-item",attrs:{tabindex:"0"},on:{click:function(t){return t.stopPropagation(),e.$emit("remove",e.criterium)},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$emit("remove",e.criterium)}}},[t("i",{staticClass:"action-menu-icon fa fa-remove"}),t("span",{staticClass:"action-menu-text"},[e._v(e._s(e.$t("remove")))])])])])]),e.isEditing?t("div",{staticClass:"edit-title"},[t("div",{staticClass:"modal-bg"}),t("name-input",{staticClass:"item-new mod-edit",attrs:{"ok-title":e.$t("edit"),placeholder:e.$t("title-criterium")},on:{ok:e.finishEditing,cancel:e.cancel},model:{value:e.newTitle,callback:function(t){e.newTitle=t},expression:"newTitle"}})],1):e._e()])])},yi=[];let wi=class extends(Ge()){isEditing=!1;oldTitle="";newTitle="";id;tag;menuActionsId;selected;criterium;mounted(){this.resetTitle()}resetTitle(){this.newTitle=this.criterium.title}get showMenuActions(){return this.menuActionsId===this.id}startEditing(){this.isEditing=!0,this.oldTitle=this.criterium.title,this.$emit("start-edit")}finishEditing(e=!1){this.isEditing=!1,this.oldTitle="",this.$emit("finish-edit",this.newTitle,e)}cancel(){this.criterium.title=this.oldTitle,this.finishEditing(!0),this.resetTitle()}onTitleChanged(){this.resetTitle()}};We([gt({type:String,required:!0}),Ve("design:type",String)],wi.prototype,"id",void 0),We([gt({type:String,default:"div"}),Ve("design:type","function"===typeof(mi="undefined"!==typeof String&&String)?mi:Object)],wi.prototype,"tag",void 0),We([gt({type:String,required:!0}),Ve("design:type",String)],wi.prototype,"menuActionsId",void 0),We([gt({type:Boolean,required:!0}),Ve("design:type",Boolean)],wi.prototype,"selected",void 0),We([gt({type:je,required:!0}),Ve("design:type","function"===typeof(gi="undefined"!==typeof je&&je)?gi:Object)],wi.prototype,"criterium",void 0),We([vt("criterium.title"),Ve("design:type",Function),Ve("design:paramtypes",[]),Ve("design:returntype",void 0)],wi.prototype,"onTitleChanged",null),wi=We([pt({name:"criterium-view",components:{NameInput:Jt}})],wi);var _i=wi,Ci=_i,xi=n(652),ki=n.n(xi),Si=ki(),Ei=_t(Ci,bi,yi,!1,null,null,null);"function"===typeof Si&&Si(Ei);var Ti=Ei.exports,Ri=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"actions",class:{"is-open":e.inputFormShown}},[e.inputFormShown?t("div",[t("name-input",{staticClass:"cluster-new item-new",attrs:{"ok-title":e.$t("add"),placeholder:e.$t("title-new-subsection")},on:{ok:e.addNewCluster,cancel:e.cancel},model:{value:e.newCluster.title,callback:function(t){e.$set(e.newCluster,"title",t)},expression:"newCluster.title"}})],1):t("button",{staticClass:"btn-new",attrs:{disabled:!e.actionsEnabled},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.blockEnterUp.apply(null,arguments)},click:e.createNewCluster}},[e._v(e._s(e.$t("add-subsection")))])])},Oi=[];let Di=class extends(Ge()){newCluster=null;blockKeyUpEnter=!1;viewId;actionsEnabled;get inputFormShown(){return null!==this.newCluster}createNewCluster(){this.newCluster=new Ie,this.emit(this.viewId)}blockEnterUp(){this.blockKeyUpEnter=!0}checkAndReleaseBlockEnterUp(){return!!this.blockKeyUpEnter&&(this.blockKeyUpEnter=!1,!0)}addNewCluster(){this.checkAndReleaseBlockEnterUp()||(this.$emit("cluster-added",this.newCluster),this.cancel())}cancel(){this.newCluster=null,this.emit("")}emit(e){null!==this.viewId&&this.$emit("dialog-view",e)}};We([gt({type:String,default:null}),Ve("design:type",Object)],Di.prototype,"viewId",void 0),We([gt({type:Boolean,default:!0}),Ve("design:type",Boolean)],Di.prototype,"actionsEnabled",void 0),Di=We([pt({name:"new-cluster",components:{NameInput:Jt}})],Di);var Ni=Di,Ai=Ni,$i=n(478),ji=n.n($i),Li=ji(),Ii=_t(Ai,Ri,Oi,!1,null,null,null);"function"===typeof Li&&Li(Ii);var Pi=Ii.exports,Fi=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.inputFormShown?t("div",{staticClass:"category-name-input"},[t("name-input",{staticClass:"category-new item-new",attrs:{"ok-title":e.$t("add"),placeholder:e.$t("title-new-category")},on:{ok:e.addNewCategory,cancel:e.cancel},model:{value:e.newCategory.title,callback:function(t){e.$set(e.newCategory,"title",t)},expression:"newCategory.title"}})],1):t("div",{staticClass:"actions"},[t("button",{staticClass:"btn-new mod-category-add",attrs:{disabled:!e.actionsEnabled},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.blockEnterUp.apply(null,arguments)},click:e.createNewCategory}},[e._v(e._s(e.$t("add-category")))])])},Mi=[];let qi=class extends(Ge()){newCategory=null;blockKeyUpEnter=!1;viewId;actionsEnabled;get inputFormShown(){return null!==this.newCategory}createNewCategory(){this.newCategory=new Le,this.newCategory.color="",this.emit(this.viewId)}blockEnterUp(){this.blockKeyUpEnter=!0}checkAndReleaseBlockEnterUp(){return!!this.blockKeyUpEnter&&(this.blockKeyUpEnter=!1,!0)}addNewCategory(){this.checkAndReleaseBlockEnterUp()||(this.$emit("category-added",this.newCategory),this.cancel())}cancel(){this.newCategory=null,this.emit("")}emit(e){null!==this.viewId&&this.$emit("dialog-view",e)}};We([gt({type:String,default:null}),Ve("design:type",Object)],qi.prototype,"viewId",void 0),We([gt({type:Boolean,default:!0}),Ve("design:type",Boolean)],qi.prototype,"actionsEnabled",void 0),qi=We([pt({name:"new-category",components:{NameInput:Jt}})],qi);var zi=qi,Bi=zi,Ui=n(917),Wi=n.n(Ui),Vi=Wi(),Hi=_t(Bi,Fi,Mi,!1,null,null,null);"function"===typeof Vi&&Vi(Hi);var Gi=Hi.exports,Ji=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.inputFormShown?t("div",[t("name-input",{ref:"name-input",staticClass:"criterium-new item-new",attrs:{"ok-title":e.$t("add"),placeholder:e.$t("title-new-criterium")},on:{ok:e.addNewCriterium,cancel:e.cancel},model:{value:e.newCriterium.title,callback:function(t){e.$set(e.newCriterium,"title",t)},expression:"newCriterium.title"}})],1):t("div",{staticClass:"actions",class:{criteriumDragging:e.criteriumDragging}},[t("button",{staticClass:"btn-new",attrs:{disabled:!e.actionsEnabled},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.blockEnterUp.apply(null,arguments)},click:e.createNewCriterium}},[e._v(e._s(e.$t("add-criterium")))])])},Xi=[];let Yi=class extends(Ge()){newCriterium=null;blockKeyUpEnter=!1;criteriumDragging;actionsEnabled;get inputFormShown(){return null!==this.newCriterium}createNewCriterium(){this.newCriterium=new je,this.$emit("criterium-adding",!0)}blockEnterUp(){this.blockKeyUpEnter=!0}checkAndReleaseBlockEnterUp(){return!!this.blockKeyUpEnter&&(this.blockKeyUpEnter=!1,!0)}addNewCriterium(){this.checkAndReleaseBlockEnterUp()||(this.$emit("criterium-added",this.newCriterium),this.$emit("criterium-adding",!1),this.createNewCriterium())}cancel(){this.newCriterium=null,this.$emit("criterium-adding",!1)}newCriteriumChanged(){this.$nextTick((()=>{if(this.inputFormShown){const e=this.$refs["name-input"].$el;e.scrollIntoViewIfNeeded?e.scrollIntoViewIfNeeded():e.scrollIntoView()}}))}};We([gt({type:Boolean,default:!1}),Ve("design:type",Boolean)],Yi.prototype,"criteriumDragging",void 0),We([gt({type:Boolean,default:!0}),Ve("design:type",Boolean)],Yi.prototype,"actionsEnabled",void 0),We([vt("newCriterium"),Ve("design:type",Function),Ve("design:paramtypes",[]),Ve("design:returntype",void 0)],Yi.prototype,"newCriteriumChanged",null),Yi=We([pt({name:"new-criterium",components:{NameInput:Jt}})],Yi);var Ki=Yi,Qi=Ki,Zi=n(653),er=n.n(Zi),tr=er(),ir=_t(Qi,Ji,Xi,!1,null,null,null);"function"===typeof tr&&tr(ir);var rr=ir.exports,nr=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("button",{staticClass:"btn-show-split-view",class:{checked:e.showSplitView},attrs:{title:e.$t("split-view"),"aria-hidden":"true"},on:{click:function(t){return t.preventDefault(),e.$emit("changed",!e.showSplitView)}}},[t("svg",{staticClass:"svg show-split-view",attrs:{tabindex:"-1",viewBox:"-50 -50 100 100"}},[t("path",{attrs:{id:"path-1",d:"M-40 -39 L40 -39 L40 -9 L-40 -9Z"}}),t("path",{attrs:{id:"path-2",d:"M-40 9L40 9L40 39L-40 39Z"}})])])},or=[];let sr=class extends(Ge()){showSplitView};We([gt({type:Boolean,required:!0}),Ve("design:type",Boolean)],sr.prototype,"showSplitView",void 0),sr=We([pt({name:"split-view-button"})],sr);var ar=sr,lr=ar,cr=n(236),ur=n.n(cr),dr=ur(),hr=_t(lr,nr,or,!1,null,null,null);"function"===typeof dr&&dr(hr);var pr=hr.exports;function fr(e,t){return function(){return e.apply(t,arguments)}}const{toString:mr}=Object.prototype,{getPrototypeOf:gr}=Object,vr=(e=>t=>{const i=mr.call(t);return e[i]||(e[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),br=e=>(e=e.toLowerCase(),t=>vr(t)===e),yr=e=>t=>typeof t===e,{isArray:wr}=Array,_r=yr("undefined");function Cr(e){return null!==e&&!_r(e)&&null!==e.constructor&&!_r(e.constructor)&&Er(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const xr=br("ArrayBuffer");function kr(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&xr(e.buffer),t}const Sr=yr("string"),Er=yr("function"),Tr=yr("number"),Rr=e=>null!==e&&"object"===typeof e,Or=e=>!0===e||!1===e,Dr=e=>{if("object"!==vr(e))return!1;const t=gr(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Nr=br("Date"),Ar=br("File"),$r=br("Blob"),jr=br("FileList"),Lr=e=>Rr(e)&&Er(e.pipe),Ir=e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Er(e.append)&&("formdata"===(t=vr(e))||"object"===t&&Er(e.toString)&&"[object FormData]"===e.toString()))},Pr=br("URLSearchParams"),Fr=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Mr(e,t,{allOwnKeys:i=!1}={}){if(null===e||"undefined"===typeof e)return;let r,n;if("object"!==typeof e&&(e=[e]),wr(e))for(r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else{const n=i?Object.getOwnPropertyNames(e):Object.keys(e),o=n.length;let s;for(r=0;r<o;r++)s=n[r],t.call(null,e[s],s,e)}}function qr(e,t){t=t.toLowerCase();const i=Object.keys(e);let r,n=i.length;while(n-- >0)if(r=i[n],t===r.toLowerCase())return r;return null}const zr=(()=>"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global)(),Br=e=>!_r(e)&&e!==zr;function Ur(){const{caseless:e}=Br(this)&&this||{},t={},i=(i,r)=>{const n=e&&qr(t,r)||r;Dr(t[n])&&Dr(i)?t[n]=Ur(t[n],i):Dr(i)?t[n]=Ur({},i):wr(i)?t[n]=i.slice():t[n]=i};for(let r=0,n=arguments.length;r<n;r++)arguments[r]&&Mr(arguments[r],i);return t}const Wr=(e,t,i,{allOwnKeys:r}={})=>(Mr(t,((t,r)=>{i&&Er(t)?e[r]=fr(t,i):e[r]=t}),{allOwnKeys:r}),e),Vr=e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),Hr=(e,t,i,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),i&&Object.assign(e.prototype,i)},Gr=(e,t,i,r)=>{let n,o,s;const a={};if(t=t||{},null==e)return t;do{n=Object.getOwnPropertyNames(e),o=n.length;while(o-- >0)s=n[o],r&&!r(s,e,t)||a[s]||(t[s]=e[s],a[s]=!0);e=!1!==i&&gr(e)}while(e&&(!i||i(e,t))&&e!==Object.prototype);return t},Jr=(e,t,i)=>{e=String(e),(void 0===i||i>e.length)&&(i=e.length),i-=t.length;const r=e.indexOf(t,i);return-1!==r&&r===i},Xr=e=>{if(!e)return null;if(wr(e))return e;let t=e.length;if(!Tr(t))return null;const i=new Array(t);while(t-- >0)i[t]=e[t];return i},Yr=(e=>t=>e&&t instanceof e)("undefined"!==typeof Uint8Array&&gr(Uint8Array)),Kr=(e,t)=>{const i=e&&e[Symbol.iterator],r=i.call(e);let n;while((n=r.next())&&!n.done){const i=n.value;t.call(e,i[0],i[1])}},Qr=(e,t)=>{let i;const r=[];while(null!==(i=e.exec(t)))r.push(i);return r},Zr=br("HTMLFormElement"),en=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,i){return t.toUpperCase()+i})),tn=(({hasOwnProperty:e})=>(t,i)=>e.call(t,i))(Object.prototype),rn=br("RegExp"),nn=(e,t)=>{const i=Object.getOwnPropertyDescriptors(e),r={};Mr(i,((i,n)=>{let o;!1!==(o=t(i,n,e))&&(r[n]=o||i)})),Object.defineProperties(e,r)},on=e=>{nn(e,((t,i)=>{if(Er(e)&&-1!==["arguments","caller","callee"].indexOf(i))return!1;const r=e[i];Er(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")}))}))},sn=(e,t)=>{const i={},r=e=>{e.forEach((e=>{i[e]=!0}))};return wr(e)?r(e):r(String(e).split(t)),i},an=()=>{},ln=(e,t)=>(e=+e,Number.isFinite(e)?e:t),cn="abcdefghijklmnopqrstuvwxyz",un="0123456789",dn={DIGIT:un,ALPHA:cn,ALPHA_DIGIT:cn+cn.toUpperCase()+un},hn=(e=16,t=dn.ALPHA_DIGIT)=>{let i="";const{length:r}=t;while(e--)i+=t[Math.random()*r|0];return i};function pn(e){return!!(e&&Er(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])}const fn=e=>{const t=new Array(10),i=(e,r)=>{if(Rr(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const n=wr(e)?[]:{};return Mr(e,((e,t)=>{const o=i(e,r+1);!_r(o)&&(n[t]=o)})),t[r]=void 0,n}}return e};return i(e,0)},mn=br("AsyncFunction"),gn=e=>e&&(Rr(e)||Er(e))&&Er(e.then)&&Er(e.catch);var vn={isArray:wr,isArrayBuffer:xr,isBuffer:Cr,isFormData:Ir,isArrayBufferView:kr,isString:Sr,isNumber:Tr,isBoolean:Or,isObject:Rr,isPlainObject:Dr,isUndefined:_r,isDate:Nr,isFile:Ar,isBlob:$r,isRegExp:rn,isFunction:Er,isStream:Lr,isURLSearchParams:Pr,isTypedArray:Yr,isFileList:jr,forEach:Mr,merge:Ur,extend:Wr,trim:Fr,stripBOM:Vr,inherits:Hr,toFlatObject:Gr,kindOf:vr,kindOfTest:br,endsWith:Jr,toArray:Xr,forEachEntry:Kr,matchAll:Qr,isHTMLForm:Zr,hasOwnProperty:tn,hasOwnProp:tn,reduceDescriptors:nn,freezeMethods:on,toObjectSet:sn,toCamelCase:en,noop:an,toFiniteNumber:ln,findKey:qr,global:zr,isContextDefined:Br,ALPHABET:dn,generateString:hn,isSpecCompliantForm:pn,toJSONObject:fn,isAsyncFn:mn,isThenable:gn};function bn(e,t,i,r,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),i&&(this.config=i),r&&(this.request=r),n&&(this.response=n)}vn.inherits(bn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:vn.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const yn=bn.prototype,wn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{wn[e]={value:e}})),Object.defineProperties(bn,wn),Object.defineProperty(yn,"isAxiosError",{value:!0}),bn.from=(e,t,i,r,n,o)=>{const s=Object.create(yn);return vn.toFlatObject(e,s,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),bn.call(s,e.message,t,i,r,n),s.cause=e,s.name=e.name,o&&Object.assign(s,o),s};var _n=bn,Cn=null;function xn(e){return vn.isPlainObject(e)||vn.isArray(e)}function kn(e){return vn.endsWith(e,"[]")?e.slice(0,-2):e}function Sn(e,t,i){return e?e.concat(t).map((function(e,t){return e=kn(e),!i&&t?"["+e+"]":e})).join(i?".":""):t}function En(e){return vn.isArray(e)&&!e.some(xn)}const Tn=vn.toFlatObject(vn,{},null,(function(e){return/^is[A-Z]/.test(e)}));function Rn(e,t,i){if(!vn.isObject(e))throw new TypeError("target must be an object");t=t||new(Cn||FormData),i=vn.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!vn.isUndefined(t[e])}));const r=i.metaTokens,n=i.visitor||u,o=i.dots,s=i.indexes,a=i.Blob||"undefined"!==typeof Blob&&Blob,l=a&&vn.isSpecCompliantForm(t);if(!vn.isFunction(n))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(vn.isDate(e))return e.toISOString();if(!l&&vn.isBlob(e))throw new _n("Blob is not supported. Use a Buffer instead.");return vn.isArrayBuffer(e)||vn.isTypedArray(e)?l&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function u(e,i,n){let a=e;if(e&&!n&&"object"===typeof e)if(vn.endsWith(i,"{}"))i=r?i:i.slice(0,-2),e=JSON.stringify(e);else if(vn.isArray(e)&&En(e)||(vn.isFileList(e)||vn.endsWith(i,"[]"))&&(a=vn.toArray(e)))return i=kn(i),a.forEach((function(e,r){!vn.isUndefined(e)&&null!==e&&t.append(!0===s?Sn([i],r,o):null===s?i:i+"[]",c(e))})),!1;return!!xn(e)||(t.append(Sn(n,i,o),c(e)),!1)}const d=[],h=Object.assign(Tn,{defaultVisitor:u,convertValue:c,isVisitable:xn});function p(e,i){if(!vn.isUndefined(e)){if(-1!==d.indexOf(e))throw Error("Circular reference detected in "+i.join("."));d.push(e),vn.forEach(e,(function(e,r){const o=!(vn.isUndefined(e)||null===e)&&n.call(t,e,vn.isString(r)?r.trim():r,i,h);!0===o&&p(e,i?i.concat(r):[r])})),d.pop()}}if(!vn.isObject(e))throw new TypeError("data must be an object");return p(e),t}var On=Rn;function Dn(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Nn(e,t){this._pairs=[],e&&On(e,this,t)}const An=Nn.prototype;An.append=function(e,t){this._pairs.push([e,t])},An.toString=function(e){const t=e?function(t){return e.call(this,t,Dn)}:Dn;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var $n=Nn;function jn(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ln(e,t,i){if(!t)return e;const r=i&&i.encode||jn,n=i&&i.serialize;let o;if(o=n?n(t,i):vn.isURLSearchParams(t)?t.toString():new $n(t,i).toString(r),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}class In{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!i&&i.synchronous,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){vn.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}var Pn=In,Fn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Mn="undefined"!==typeof URLSearchParams?URLSearchParams:$n,qn="undefined"!==typeof FormData?FormData:null,zn="undefined"!==typeof Blob?Blob:null,Bn={isBrowser:!0,classes:{URLSearchParams:Mn,FormData:qn,Blob:zn},protocols:["http","https","file","blob","url","data"]};const Un="undefined"!==typeof window&&"undefined"!==typeof document,Wn=(e=>Un&&["ReactNative","NativeScript","NS"].indexOf(e)<0)("undefined"!==typeof navigator&&navigator.product),Vn=(()=>"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts)();var Hn={...e,...Bn};function Gn(e,t){return On(e,new Hn.classes.URLSearchParams,Object.assign({visitor:function(e,t,i,r){return Hn.isNode&&vn.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}function Jn(e){return vn.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}function Xn(e){const t={},i=Object.keys(e);let r;const n=i.length;let o;for(r=0;r<n;r++)o=i[r],t[o]=e[o];return t}function Yn(e){function t(e,i,r,n){let o=e[n++];const s=Number.isFinite(+o),a=n>=e.length;if(o=!o&&vn.isArray(r)?r.length:o,a)return vn.hasOwnProp(r,o)?r[o]=[r[o],i]:r[o]=i,!s;r[o]&&vn.isObject(r[o])||(r[o]=[]);const l=t(e,i,r[o],n);return l&&vn.isArray(r[o])&&(r[o]=Xn(r[o])),!s}if(vn.isFormData(e)&&vn.isFunction(e.entries)){const i={};return vn.forEachEntry(e,((e,r)=>{t(Jn(e),r,i,0)})),i}return null}var Kn=Yn;function Qn(e,t,i){if(vn.isString(e))try{return(t||JSON.parse)(e),vn.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(i||JSON.stringify)(e)}const Zn={transitional:Fn,adapter:["xhr","http"],transformRequest:[function(e,t){const i=t.getContentType()||"",r=i.indexOf("application/json")>-1,n=vn.isObject(e);n&&vn.isHTMLForm(e)&&(e=new FormData(e));const o=vn.isFormData(e);if(o)return r&&r?JSON.stringify(Kn(e)):e;if(vn.isArrayBuffer(e)||vn.isBuffer(e)||vn.isStream(e)||vn.isFile(e)||vn.isBlob(e))return e;if(vn.isArrayBufferView(e))return e.buffer;if(vn.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(n){if(i.indexOf("application/x-www-form-urlencoded")>-1)return Gn(e,this.formSerializer).toString();if((s=vn.isFileList(e))||i.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return On(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return n||r?(t.setContentType("application/json",!1),Qn(e)):e}],transformResponse:[function(e){const t=this.transitional||Zn.transitional,i=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&vn.isString(e)&&(i&&!this.responseType||r)){const i=t&&t.silentJSONParsing,o=!i&&r;try{return JSON.parse(e)}catch(n){if(o){if("SyntaxError"===n.name)throw _n.from(n,_n.ERR_BAD_RESPONSE,this,null,this.response);throw n}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Hn.classes.FormData,Blob:Hn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};vn.forEach(["delete","get","head","post","put","patch"],(e=>{Zn.headers[e]={}}));var eo=Zn;const to=vn.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var io=e=>{const t={};let i,r,n;return e&&e.split("\n").forEach((function(e){n=e.indexOf(":"),i=e.substring(0,n).trim().toLowerCase(),r=e.substring(n+1).trim(),!i||t[i]&&to[i]||("set-cookie"===i?t[i]?t[i].push(r):t[i]=[r]:t[i]=t[i]?t[i]+", "+r:r)})),t};const ro=Symbol("internals");function no(e){return e&&String(e).trim().toLowerCase()}function oo(e){return!1===e||null==e?e:vn.isArray(e)?e.map(oo):String(e)}function so(e){const t=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;while(r=i.exec(e))t[r[1]]=r[2];return t}const ao=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function lo(e,t,i,r,n){return vn.isFunction(r)?r.call(this,t,i):(n&&(t=i),vn.isString(t)?vn.isString(r)?-1!==t.indexOf(r):vn.isRegExp(r)?r.test(t):void 0:void 0)}function co(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,i)=>t.toUpperCase()+i))}function uo(e,t){const i=vn.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+i,{value:function(e,i,n){return this[r].call(this,t,e,i,n)},configurable:!0})}))}class ho{constructor(e){e&&this.set(e)}set(e,t,i){const r=this;function n(e,t,i){const n=no(t);if(!n)throw new Error("header name must be a non-empty string");const o=vn.findKey(r,n);(!o||void 0===r[o]||!0===i||void 0===i&&!1!==r[o])&&(r[o||t]=oo(e))}const o=(e,t)=>vn.forEach(e,((e,i)=>n(e,i,t)));return vn.isPlainObject(e)||e instanceof this.constructor?o(e,t):vn.isString(e)&&(e=e.trim())&&!ao(e)?o(io(e),t):null!=e&&n(t,e,i),this}get(e,t){if(e=no(e),e){const i=vn.findKey(this,e);if(i){const e=this[i];if(!t)return e;if(!0===t)return so(e);if(vn.isFunction(t))return t.call(this,e,i);if(vn.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=no(e),e){const i=vn.findKey(this,e);return!(!i||void 0===this[i]||t&&!lo(this,this[i],i,t))}return!1}delete(e,t){const i=this;let r=!1;function n(e){if(e=no(e),e){const n=vn.findKey(i,e);!n||t&&!lo(i,i[n],n,t)||(delete i[n],r=!0)}}return vn.isArray(e)?e.forEach(n):n(e),r}clear(e){const t=Object.keys(this);let i=t.length,r=!1;while(i--){const n=t[i];e&&!lo(this,this[n],n,e,!0)||(delete this[n],r=!0)}return r}normalize(e){const t=this,i={};return vn.forEach(this,((r,n)=>{const o=vn.findKey(i,n);if(o)return t[o]=oo(r),void delete t[n];const s=e?co(n):String(n).trim();s!==n&&delete t[n],t[s]=oo(r),i[s]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return vn.forEach(this,((i,r)=>{null!=i&&!1!==i&&(t[r]=e&&vn.isArray(i)?i.join(", "):i)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach((e=>i.set(e))),i}static accessor(e){const t=this[ro]=this[ro]={accessors:{}},i=t.accessors,r=this.prototype;function n(e){const t=no(e);i[t]||(uo(r,e),i[t]=!0)}return vn.isArray(e)?e.forEach(n):n(e),this}}ho.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),vn.reduceDescriptors(ho.prototype,(({value:e},t)=>{let i=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[i]=e}}})),vn.freezeMethods(ho);var po=ho;function fo(e,t){const i=this||eo,r=t||i,n=po.from(r.headers);let o=r.data;return vn.forEach(e,(function(e){o=e.call(i,o,n.normalize(),t?t.status:void 0)})),n.normalize(),o}function mo(e){return!(!e||!e.__CANCEL__)}function go(e,t,i){_n.call(this,null==e?"canceled":e,_n.ERR_CANCELED,t,i),this.name="CanceledError"}vn.inherits(go,_n,{__CANCEL__:!0});var vo=go;function bo(e,t,i){const r=i.config.validateStatus;i.status&&r&&!r(i.status)?t(new _n("Request failed with status code "+i.status,[_n.ERR_BAD_REQUEST,_n.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i)):e(i)}var yo=Hn.hasStandardBrowserEnv?{write(e,t,i,r,n,o){const s=[e+"="+encodeURIComponent(t)];vn.isNumber(i)&&s.push("expires="+new Date(i).toGMTString()),vn.isString(r)&&s.push("path="+r),vn.isString(n)&&s.push("domain="+n),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function wo(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function _o(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function Co(e,t){return e&&!wo(t)?_o(e,t):t}var xo=Hn.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let i;function r(i){let r=i;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return i=r(window.location.href),function(e){const t=vn.isString(e)?r(e):e;return t.protocol===i.protocol&&t.host===i.host}}():function(){return function(){return!0}}();function ko(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function So(e,t){e=e||10;const i=new Array(e),r=new Array(e);let n,o=0,s=0;return t=void 0!==t?t:1e3,function(a){const l=Date.now(),c=r[s];n||(n=l),i[o]=a,r[o]=l;let u=s,d=0;while(u!==o)d+=i[u++],u%=e;if(o=(o+1)%e,o===s&&(s=(s+1)%e),l-n<t)return;const h=c&&l-c;return h?Math.round(1e3*d/h):void 0}}var Eo=So;function To(e,t){let i=0;const r=Eo(50,250);return n=>{const o=n.loaded,s=n.lengthComputable?n.total:void 0,a=o-i,l=r(a),c=o<=s;i=o;const u={loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:l||void 0,estimated:l&&s&&c?(s-o)/l:void 0,event:n};u[t?"download":"upload"]=!0,e(u)}}const Ro="undefined"!==typeof XMLHttpRequest;var Oo=Ro&&function(e){return new Promise((function(t,i){let r=e.data;const n=po.from(e.headers).normalize();let o,s,{responseType:a,withXSRFToken:l}=e;function c(){e.cancelToken&&e.cancelToken.unsubscribe(o),e.signal&&e.signal.removeEventListener("abort",o)}if(vn.isFormData(r))if(Hn.hasStandardBrowserEnv||Hn.hasStandardBrowserWebWorkerEnv)n.setContentType(!1);else if(!1!==(s=n.getContentType())){const[e,...t]=s?s.split(";").map((e=>e.trim())).filter(Boolean):[];n.setContentType([e||"multipart/form-data",...t].join("; "))}let u=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",i=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";n.set("Authorization","Basic "+btoa(t+":"+i))}const d=Co(e.baseURL,e.url);function h(){if(!u)return;const r=po.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders()),n=a&&"text"!==a&&"json"!==a?u.response:u.responseText,o={data:n,status:u.status,statusText:u.statusText,headers:r,config:e,request:u};bo((function(e){t(e),c()}),(function(e){i(e),c()}),o),u=null}if(u.open(e.method.toUpperCase(),Ln(d,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,"onloadend"in u?u.onloadend=h:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(h)},u.onabort=function(){u&&(i(new _n("Request aborted",_n.ECONNABORTED,e,u)),u=null)},u.onerror=function(){i(new _n("Network Error",_n.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const r=e.transitional||Fn;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),i(new _n(t,r.clarifyTimeoutError?_n.ETIMEDOUT:_n.ECONNABORTED,e,u)),u=null},Hn.hasStandardBrowserEnv&&(l&&vn.isFunction(l)&&(l=l(e)),l||!1!==l&&xo(d))){const t=e.xsrfHeaderName&&e.xsrfCookieName&&yo.read(e.xsrfCookieName);t&&n.set(e.xsrfHeaderName,t)}void 0===r&&n.setContentType(null),"setRequestHeader"in u&&vn.forEach(n.toJSON(),(function(e,t){u.setRequestHeader(t,e)})),vn.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),a&&"json"!==a&&(u.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&u.addEventListener("progress",To(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",To(e.onUploadProgress)),(e.cancelToken||e.signal)&&(o=t=>{u&&(i(!t||t.type?new vo(null,e,u):t),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(o),e.signal&&(e.signal.aborted?o():e.signal.addEventListener("abort",o)));const p=ko(d);p&&-1===Hn.protocols.indexOf(p)?i(new _n("Unsupported protocol "+p+":",_n.ERR_BAD_REQUEST,e)):u.send(r||null)}))};const Do={http:Cn,xhr:Oo};vn.forEach(Do,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(i){}Object.defineProperty(e,"adapterName",{value:t})}}));const No=e=>`- ${e}`,Ao=e=>vn.isFunction(e)||null===e||!1===e;var $o={getAdapter:e=>{e=vn.isArray(e)?e:[e];const{length:t}=e;let i,r;const n={};for(let o=0;o<t;o++){let t;if(i=e[o],r=i,!Ao(i)&&(r=Do[(t=String(i)).toLowerCase()],void 0===r))throw new _n(`Unknown adapter '${t}'`);if(r)break;n[t||"#"+o]=r}if(!r){const e=Object.entries(n).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));let i=t?e.length>1?"since :\n"+e.map(No).join("\n"):" "+No(e[0]):"as no adapter specified";throw new _n("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return r},adapters:Do};function jo(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new vo(null,e)}function Lo(e){jo(e),e.headers=po.from(e.headers),e.data=fo.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);const t=$o.getAdapter(e.adapter||eo.adapter);return t(e).then((function(t){return jo(e),t.data=fo.call(e,e.transformResponse,t),t.headers=po.from(t.headers),t}),(function(t){return mo(t)||(jo(e),t&&t.response&&(t.response.data=fo.call(e,e.transformResponse,t.response),t.response.headers=po.from(t.response.headers))),Promise.reject(t)}))}const Io=e=>e instanceof po?e.toJSON():e;function Po(e,t){t=t||{};const i={};function r(e,t,i){return vn.isPlainObject(e)&&vn.isPlainObject(t)?vn.merge.call({caseless:i},e,t):vn.isPlainObject(t)?vn.merge({},t):vn.isArray(t)?t.slice():t}function n(e,t,i){return vn.isUndefined(t)?vn.isUndefined(e)?void 0:r(void 0,e,i):r(e,t,i)}function o(e,t){if(!vn.isUndefined(t))return r(void 0,t)}function s(e,t){return vn.isUndefined(t)?vn.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function a(i,n,o){return o in t?r(i,n):o in e?r(void 0,i):void 0}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(e,t)=>n(Io(e),Io(t),!0)};return vn.forEach(Object.keys(Object.assign({},e,t)),(function(r){const o=l[r]||n,s=o(e[r],t[r],r);vn.isUndefined(s)&&o!==a||(i[r]=s)})),i}const Fo="1.6.2",Mo={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{Mo[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}}));const qo={};function zo(e,t,i){if("object"!==typeof e)throw new _n("options must be an object",_n.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let n=r.length;while(n-- >0){const o=r[n],s=t[o];if(s){const t=e[o],i=void 0===t||s(t,o,e);if(!0!==i)throw new _n("option "+o+" must be "+i,_n.ERR_BAD_OPTION_VALUE)}else if(!0!==i)throw new _n("Unknown option "+o,_n.ERR_BAD_OPTION)}}Mo.transitional=function(e,t,i){function r(e,t){return"[Axios v"+Fo+"] Transitional option '"+e+"'"+t+(i?". "+i:"")}return(i,n,o)=>{if(!1===e)throw new _n(r(n," has been removed"+(t?" in "+t:"")),_n.ERR_DEPRECATED);return t&&!qo[n]&&(qo[n]=!0,console.warn(r(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(i,n,o)}};var Bo={assertOptions:zo,validators:Mo};const Uo=Bo.validators;class Wo{constructor(e){this.defaults=e,this.interceptors={request:new Pn,response:new Pn}}request(e,t){"string"===typeof e?(t=t||{},t.url=e):t=e||{},t=Po(this.defaults,t);const{transitional:i,paramsSerializer:r,headers:n}=t;void 0!==i&&Bo.assertOptions(i,{silentJSONParsing:Uo.transitional(Uo.boolean),forcedJSONParsing:Uo.transitional(Uo.boolean),clarifyTimeoutError:Uo.transitional(Uo.boolean)},!1),null!=r&&(vn.isFunction(r)?t.paramsSerializer={serialize:r}:Bo.assertOptions(r,{encode:Uo.function,serialize:Uo.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=n&&vn.merge(n.common,n[t.method]);n&&vn.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete n[e]})),t.headers=po.concat(o,n);const s=[];let a=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,d=0;if(!a){const e=[Lo.bind(this),void 0];e.unshift.apply(e,s),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);while(d<u)c=c.then(e[d++],e[d++]);return c}u=s.length;let h=t;d=0;while(d<u){const e=s[d++],t=s[d++];try{h=e(h)}catch(p){t.call(this,p);break}}try{c=Lo.call(this,h)}catch(p){return Promise.reject(p)}d=0,u=l.length;while(d<u)c=c.then(l[d++],l[d++]);return c}getUri(e){e=Po(this.defaults,e);const t=Co(e.baseURL,e.url);return Ln(t,e.params,e.paramsSerializer)}}vn.forEach(["delete","get","head","options"],(function(e){Wo.prototype[e]=function(t,i){return this.request(Po(i||{},{method:e,url:t,data:(i||{}).data}))}})),vn.forEach(["post","put","patch"],(function(e){function t(t){return function(i,r,n){return this.request(Po(n||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:i,data:r}))}}Wo.prototype[e]=t(),Wo.prototype[e+"Form"]=t(!0)}));var Vo=Wo;class Ho{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const i=this;this.promise.then((e=>{if(!i._listeners)return;let t=i._listeners.length;while(t-- >0)i._listeners[t](e);i._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{i.subscribe(e),t=e})).then(e);return r.cancel=function(){i.unsubscribe(t)},r},e((function(e,r,n){i.reason||(i.reason=new vo(e,r,n),t(i.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;const t=new Ho((function(t){e=t}));return{token:t,cancel:e}}}var Go=Ho;function Jo(e){return function(t){return e.apply(null,t)}}function Xo(e){return vn.isObject(e)&&!0===e.isAxiosError}const Yo={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Yo).forEach((([e,t])=>{Yo[t]=e}));var Ko=Yo;function Qo(e){const t=new Vo(e),i=fr(Vo.prototype.request,t);return vn.extend(i,Vo.prototype,t,{allOwnKeys:!0}),vn.extend(i,t,null,{allOwnKeys:!0}),i.create=function(t){return Qo(Po(e,t))},i}const Zo=Qo(eo);Zo.Axios=Vo,Zo.CanceledError=vo,Zo.CancelToken=Go,Zo.isCancel=mo,Zo.VERSION=Fo,Zo.toFormData=On,Zo.AxiosError=_n,Zo.Cancel=Zo.CanceledError,Zo.all=function(e){return Promise.all(e)},Zo.spread=Jo,Zo.isAxiosError=Xo,Zo.mergeConfig=Po,Zo.AxiosHeaders=po,Zo.formToJSON=e=>Kn(vn.isHTMLForm(e)?new FormData(e):e),Zo.getAdapter=$o.getAdapter,Zo.HttpStatusCode=Ko,Zo.default=Zo;var es=Zo,ts=n(781);const is=403,rs=404,ns=409,os="UNKNOWN",ss=30;function as(e){return new Promise((t=>setTimeout(t,e)))}class ls{apiConfiguration;queue=new ts.Z({concurrency:1});rubricDataId;currentVersion;rubric;_isSaving=!1;hasError=!1;errorListeners=[];constructor(e,t,i,r){this.rubric=e,this.rubricDataId=i,this.currentVersion=r,this.apiConfiguration=t}addErrorListener(e){this.errorListeners.push(e)}removeErrorListener(e){const t=this.errorListeners.indexOf(e);t>=0&&this.errorListeners.splice(t,1)}get isDummyRequest(){return null===this.currentVersion}get processingSize(){return this.queue.pending+this.queue.size}get isSaving(){return this._isSaving}beginSaving(){this._isSaving=!0}endSaving(){this._isSaving=!1}updateRubric(e){this.addToQueue((async()=>{const t={rubricData:JSON.stringify({use_scores:e.useScores,use_relative_weights:e.useRelativeWeights})};await this.executeAPIRequest(this.apiConfiguration.updateRubricURL,t)}))}resetRubricAbsoluteWeights(){this.addToQueue((async()=>{const e=await this.executeAPIRequest(this.apiConfiguration.resetRubricAbsoluteWeightsURL,{});if(this.isDummyRequest||this.hasError)return;ze.resetAbsoluteWeights(this.rubric);const t=Object.fromEntries(e.rubric.levels.map((e=>[e.id,e.score])));this.rubric.levels.forEach((e=>{e.score=t[e.id]})),this.rubric.useRelativeWeights=!0}))}addLevel(e,t){this.addToQueue((async()=>{const i={newSort:t+1,levelData:JSON.stringify(e)},r=await this.executeAPIRequest(this.apiConfiguration.addLevelURL,i);if(this.isDummyRequest||this.hasError)return;const n=e.id;e.id=String(r.level.id),this.rubric.setChoicesLevelId(n,e.id)}))}addTreeNode(e,t,i){this.addToQueue((async()=>{const r={treeNodeData:JSON.stringify({type:e.getType(),...e}),newParentId:parseInt(t.id),newSort:i+1},n=await this.executeAPIRequest(this.apiConfiguration.addTreeNodeURL,r);if(this.isDummyRequest||this.hasError)return;const o=e.id;e.id=String(n.tree_node.id),"criterium"===n.tree_node.type&&this.rubric.setChoicesCriteriumId(o,e.id)}))}deleteLevel(e){this.addToQueue((async()=>{const t={levelData:JSON.stringify(e)};await this.executeAPIRequest(this.apiConfiguration.deleteLevelURL,t)}))}deleteTreeNode(e){this.addToQueue((async()=>{const t={treeNodeData:JSON.stringify(e)};await this.executeAPIRequest(this.apiConfiguration.deleteTreeNodeURL,t)}))}moveLevel(e,t){this.addToQueue((async()=>{const i={levelData:JSON.stringify(e),newSort:t+1};await this.executeAPIRequest(this.apiConfiguration.moveLevelURL,i)}))}moveTreeNode(e,t,i){this.addToQueue((async()=>{const r={treeNodeData:JSON.stringify(e),newParentId:parseInt(t.id),newSort:i+1};await this.executeAPIRequest(this.apiConfiguration.moveTreeNodeURL,r)}))}updateChoice(e,t,i){this.addToQueue((async()=>{const r={choiceData:JSON.stringify(e.toJSON(t.id,i.id))};await this.executeAPIRequest(this.apiConfiguration.updateChoiceURL,r)}))}updateLevel(e){this.addToQueue((async()=>{const t={levelData:JSON.stringify(e)};await this.executeAPIRequest(this.apiConfiguration.updateLevelURL,t)}))}updateTreeNode(e){this.addToQueue((async()=>{const t={treeNodeData:JSON.stringify({type:e.getType(),...e})};await this.executeAPIRequest(this.apiConfiguration.updateTreeNodeURL,t)}))}addToQueue(e){this.hasError||(this.queue.add((async()=>{await e()})),this.queue.onIdle().then(this.endSaving.bind(this)))}logResponse(e){const t=document.getElementById("server-response");t&&(t.innerHTML="object"===typeof e?JSON.stringify(e,null,4):`<div>An error occurred:</div>${e}`)}async executeAPIRequest(e,t){if(this.beginSaving(),this.isDummyRequest)return await as(300),{};{t["rubricDataId"]=this.rubricDataId,t["version"]=this.currentVersion;const r=new FormData;for(const[e,i]of Object.entries(t))r.set(e,i);try{let t;try{t=await es.post(e,r,{timeout:1e3*ss})}catch(i){throw this.logResponse(i),i}if(this.logResponse(t.data),"object"===typeof t.data){if(t.data.error)throw t.data.error;return this.rubricDataId=t.data.rubric.id,this.currentVersion=t.data.rubric.version,t.data}throw{code:os}}catch(i){let e;return i.isAxiosError&&-1!==i.message?.toLowerCase().indexOf("timeout")?e="timeout":[is,rs,ns,os].includes(i.code)?i.code===is?e="forbidden":i.code===rs?e="notfound":i.code===ns?e="conflict":i.code===os&&(e="unknown"):e="unknown",this.hasError=!0,this.errorListeners.forEach((t=>t.setError(e))),i}}}}var cs;let us=class extends(Ge()){id;rubric;selectedCluster;otherSelectedCluster;bannedForDrop;clusterActionsEnabled;categoryActionsEnabled;menuActionsId;editCategoryColorId;draggableDisabled;isEditing;dragItemType;showSplitView;selectedCriterium;dataConnector;categoriesTransitionName="";showClusters=!1;categoriesAddingCriterium={};mounted(){window.setTimeout((()=>{this.categoriesTransitionName="selected-fade"}),100),this.initScrollHandler()}initScrollHandler(){}get clusters(){return[...this.rubric.clusters]}get categories(){return this.selectedCluster?[...this.selectedCluster.categories]:[]}toggleShowClusters(){this.showClusters=!this.showClusters,this.$emit("dialog-new-cluster","")}isSelected(e){return e instanceof Ie?e===this.selectedCluster:e instanceof je&&e===this.selectedCriterium}selectCluster(e){this.$emit("cluster-selected",e,this.id)}selectCriterium(e){this.$emit("criterium-selected",e)}addCluster(e){this.rubric.addChild(e,this.rubric.clusters.length),this.dataConnector?.addTreeNode(e,this.rubric,this.rubric.clusters.length);const t=new Le;t.color="",e.addChild(t,0),this.dataConnector?.addTreeNode(t,e,0),this.selectCluster(e)}addCategory(e){this.selectedCluster.addChild(e,this.selectedCluster.categories.length),this.dataConnector?.addTreeNode(e,this.selectedCluster,this.selectedCluster.categories.length),this.updateFirstCategoryIfNeeded()}updateFirstCategoryIfNeeded(){if(2===this.selectedCluster.categories.length){const e=this.selectedCluster.categories[0];""===e.title&&(e.title="Categorie",this.dataConnector?.updateTreeNode(e))}}onCategoryAddingChanged(){this.$nextTick((()=>{const e=this.$refs["cluster-content"];e&&e.scrollTo(e.scrollWidth,0)}))}onSelectedClusterChanged(){this.$emit("dialog-new-category","")}addCriterium(e,t){e.addChild(t,e.criteria.length),this.dataConnector?.addTreeNode(t,e,e.criteria.length)}addingCriteriumForCategory(e,t){"undefined"===typeof this.categoriesAddingCriterium[e.id]?Ge().set(this.categoriesAddingCriterium,e.id,t):this.categoriesAddingCriterium[e.id]=t}onStartEdit(e){this.$emit("start-edit",e)}onFinishEdit(e,t,i=!1){this.$emit("finish-edit",e,t,i)}onRemove(e){this.$emit("remove",e)}startDrag(e,t){this.$emit("start-drag",e,t)}endDrag(){this.$emit("end-drag")}dragMouseOver(e){this.$emit("over-element",e)}dragMouseOut(){this.$emit("over-element","")}get clusterDragging(){return"cluster"===this.dragItemType}get categoryDragging(){return"category"===this.dragItemType}get criteriumDragging(){return"criterium"===this.dragItemType}onMoveCluster(e){return e.related.parentElement.id!==this.bannedForDrop}onMoveCategory(e){return e.related.parentElement.id!==this.bannedForDrop}onMoveCriterium(e){return e.related.parentElement?.parentElement.id!==this.bannedForDrop}onChangeCluster(e){if(e.added&&e.added.element){const t=this.rubric.clusters.indexOf(e.added.element);this.rubric.moveChild(e.added.element,e.added.newIndex,t),this.dataConnector?.moveTreeNode(e.added.element,this.rubric,e.added.newIndex)}else e.moved&&(this.rubric.moveChild(e.moved.element,e.moved.newIndex,e.moved.oldIndex),this.dataConnector?.moveTreeNode(e.moved.element,this.rubric,e.moved.newIndex))}onChangeCategory(e){if(e.added&&e.added.element){if(null===this.otherSelectedCluster||this.selectedCluster===this.otherSelectedCluster)throw new Error("");const{element:t,newIndex:i}=e.added;this.otherSelectedCluster.removeChild(t,!1),this.selectedCluster.addChild(t,i),this.dataConnector?.moveTreeNode(t,this.selectedCluster,i)}else if(e.moved){const t=e.moved.element,i=t.parent;i.moveChild(t,e.moved.newIndex,e.moved.oldIndex),this.dataConnector?.moveTreeNode(t,i,e.moved.newIndex)}}onChangeCriterium(e,t){if(e.added&&e.added.element){const i=e.added.element,r=i.parent;r.removeChild(i),t.addChild(i,e.added.newIndex),this.dataConnector?.moveTreeNode(i,t,e.added.newIndex)}else if(e.moved){const t=e.moved.element,i=t.parent;i.moveChild(t,e.moved.newIndex,e.moved.oldIndex),this.dataConnector?.moveTreeNode(t,i,e.moved.newIndex)}}onChangeCriteriumInCluster(e){if(e.added&&e.added.element){const t=e.added.element,i=t.parent;i.removeChild(t);const r=new Le;r.color="",this.addCategory(r),r.addChild(t,e.added.newIndex),this.dataConnector?.moveTreeNode(t,r,e.added.newIndex)}}};We([gt({type:String,required:!0}),Ve("design:type",String)],us.prototype,"id",void 0),We([gt({type:ze,required:!0}),Ve("design:type","function"===typeof(cs="undefined"!==typeof ze&&ze)?cs:Object)],us.prototype,"rubric",void 0),We([gt({type:Ie,default:null}),Ve("design:type",Object)],us.prototype,"selectedCluster",void 0),We([gt({type:Ie,default:null}),Ve("design:type",Object)],us.prototype,"otherSelectedCluster",void 0),We([gt({type:String,default:""}),Ve("design:type",String)],us.prototype,"bannedForDrop",void 0),We([gt({type:Boolean,required:!0}),Ve("design:type",Boolean)],us.prototype,"clusterActionsEnabled",void 0),We([gt({type:Boolean,required:!0}),Ve("design:type",Boolean)],us.prototype,"categoryActionsEnabled",void 0),We([gt({type:String,required:!0}),Ve("design:type",String)],us.prototype,"menuActionsId",void 0),We([gt({type:String,required:!0}),Ve("design:type",String)],us.prototype,"editCategoryColorId",void 0),We([gt({type:Boolean,required:!0}),Ve("design:type",Boolean)],us.prototype,"draggableDisabled",void 0),We([gt({type:Boolean,required:!0}),Ve("design:type",Boolean)],us.prototype,"isEditing",void 0),We([gt({type:String,default:""}),Ve("design:type",String)],us.prototype,"dragItemType",void 0),We([gt({type:Boolean,default:!1}),Ve("design:type",Boolean)],us.prototype,"showSplitView",void 0),We([gt(je),Ve("design:type",Object)],us.prototype,"selectedCriterium",void 0),We([gt(ls),Ve("design:type",Object)],us.prototype,"dataConnector",void 0),We([vt("categoryActionsEnabled"),Ve("design:type",Function),Ve("design:paramtypes",[]),Ve("design:returntype",void 0)],us.prototype,"onCategoryAddingChanged",null),We([vt("selectedCluster"),Ve("design:type",Function),Ve("design:paramtypes",[]),Ve("design:returntype",void 0)],us.prototype,"onSelectedClusterChanged",null),us=We([pt({name:"rubric-pane",components:{ClusterView:ri,CategoryView:vi,CriteriumView:Ti,NewCluster:Pi,NewCategory:Gi,NewCriterium:rr,NameInput:Jt,SplitViewButton:pr,draggable:$t()}})],us);var ds=us,hs=ds,ps=n(173),fs=n.n(ps),ms=fs(),gs=_t(hs,Dt,Nt,!1,null,null,null);"function"===typeof ms&&ms(gs);var vs,bs,ys,ws=gs.exports,_s=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"criterium-details-wrapper"},[t("transition",{attrs:{name:"border-flash",mode:"out-in"}},[null!==e.criterium?t("div",{key:e.criterium?e.criterium.id:"none",staticClass:"criterium-details",class:{"mod-levels":!!e.criteriumLevels.length||e.initCustomLevels,"is-show-formatting":e.showFormatting}},[e.criterium?t("div",{staticStyle:{flex:"1"}},[t("div",{staticClass:"criterium-details-header"},[t("button",{staticClass:"btn-close",attrs:{"aria-label":e.$t("close"),title:e.$t("close")},on:{click:function(t){return e.$emit("close")}}},[t("i",{staticClass:"fa fa-close",attrs:{"aria-hidden":"true"}})]),t("div",{staticClass:"criterium-details-title"},[t("label",{attrs:{for:"criterium-title"}},[e._v(e._s(e.$t("criterium"))+": ")]),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.criterium.title,expression:"criterium.title"}],ref:"criteriumTitleField",staticClass:"input-detail",attrs:{id:"criterium-title",name:"title"},domProps:{value:e.criterium.title},on:{input:[function(t){t.target.composing||e.$set(e.criterium,"title",t.target.value)},e.onCriteriumChange]}})])]),t("div",{staticClass:"criterium-details-weight"},[e.rubric.useWeights?t("div",{staticClass:"criterium-weight"},[e.rubric.useRelativeWeights?[e._v(" "+e._s(e.$t("weight"))+": "),t("span",{class:{"m-error":e.rubric.eqRestWeight<0}},[e._v(e._s(null===e.criterium.rel_weight?e.rubric.eqRestWeight.toLocaleString():e.criterium.rel_weight)+" %")]),e._v(" "),e.rubric.eqRestWeight<0?t("i",{staticClass:"fa fa-exclamation-circle m-error",attrs:{"aria-hidden":"true"}}):e._e()]:[t("label",{attrs:{for:"weight"}},[e._v(e._s(e.$t("weight"))+":")]),e.criteriumLevels.length||e.initCustomLevels?t("span",[e._v("100 %")]):[t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.criterium.weight,expression:"criterium.weight",modifiers:{number:!0}}],staticClass:"input-detail",attrs:{type:"number",id:"weight",min:"0",max:"100",required:""},domProps:{value:e.criterium.weight},on:{input:[function(t){t.target.composing||e.$set(e.criterium,"weight",e._n(t.target.value))},e.onWeightChange],blur:function(t){return e.$forceUpdate()}}}),e._v(" %")]]],2):e._e(),e.showFormatting?e._e():t("div",[t("a",{staticClass:"m-btn-action",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.showFormatting=!0}}},[e._v(e._s(e.$t("formatting")))])])]),e.criteriumLevels.length||e.initCustomLevels?t("div",[e.criteriumLevels.length?e._e():t("a",{staticClass:"m-btn-action",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.initCustomLevels=!1}}},[e._v(e._s(e.$t("cancel-custom-levels")))]),t("levels",{attrs:{rubric:e.rubric,"data-connector":e.dataConnector,criterium:e.criterium},on:{"level-added":function(t){e.initCustomLevels=!1}}})],1):[t("a",{staticClass:"m-btn-action",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.initCustomLevels=!0}}},[e._v(e._s(e.$t("use-custom-levels")))]),t("ul",{staticClass:"b-criterium-levels"},e._l(e.rubric.rubricLevels,(function(i){return t("li",{key:i.id,staticClass:"b-criterium-level"},[t("criterium-level-view",{attrs:{rubric:e.rubric,criterium:e.criterium,level:i},on:{input:e.updateHeight,change:function(t){return e.onChoiceChange(t,e.criterium,i)}}})],1)})),0)],t("a",{staticClass:"rubric-return",attrs:{href:"#",role:"button"},on:{click:function(t){return t.preventDefault(),e.$emit("close")}}},[t("i",{staticClass:"fa fa-arrow-left",attrs:{"aria-hidden":"true"}}),e._v(" "+e._s(e.$t("back-to-rubric")))])],2):e._e(),e.showFormatting?t("formatting-help",{on:{close:function(t){e.showFormatting=!1}}}):e._e()],1):e._e()])],1)},Cs=[],xs=n(678),ks=n.n(xs),Ss=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("label",{staticClass:"b-criterium-level-title",attrs:{for:`level-${e.level.id}`}},[e._v(e._s(e.level.title)+" "),e.level.description?t("span",{staticClass:"fa fa-question-circle criterium-level-description",attrs:{title:e.level.description}}):e._e()]),t("div",{staticClass:"criterium-level-input"},[t("div",{staticClass:"criterium-level-input-area",class:{"is-using-orig-scores":e.rubric.useScores&&!e.rubric.useRelativeWeights&&e.rubric.hasAbsoluteWeights}},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.choice.feedback,expression:"choice.feedback"}],ref:"feedbackField",staticClass:"criterium-level-feedback input-detail",class:{"is-input-active":e.isFeedbackInputActive||!e.choice.feedback},attrs:{id:`level-${e.level.id}`,placeholder:e.$t("enter-level-description")},domProps:{value:e.choice.feedback},on:{input:[function(t){t.target.composing||e.$set(e.choice,"feedback",t.target.value)},e.onFeedbackChange],focus:function(t){e.isFeedbackInputActive=!0},blur:function(t){e.isFeedbackInputActive=!1}}}),t("div",{staticClass:"criterium-level-markup-preview",class:{"is-input-active":e.isFeedbackInputActive||!e.choice.feedback},domProps:{innerHTML:e._s(e.marked(e.choice.feedback))}})]),e.rubric.useScores?[e.rubric.useRelativeWeights||!e.rubric.hasAbsoluteWeights?t("div",{staticStyle:{"font-size":"1.3125rem","margin-top":".05em","text-align":"right",width:"1.5em"}},[e._v(e._s(e.level.score))]):t("div",{staticClass:"criterium-level-score"},[e.choice.hasFixedScore?t("button",{staticClass:"remove-fixed",attrs:{title:e.$t("fixed-score")},on:{click:e.removeFixedScore}},[t("i",{staticClass:"fa fa-lock"}),t("i",{staticClass:"fa fa-unlock"})]):e._e(),e.choice.hasFixedScore?t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.choice.fixedScore,expression:"choice.fixedScore",modifiers:{number:!0}}],staticClass:"fixed-score input-detail",attrs:{type:"number",required:"",min:"0",max:"100"},domProps:{value:e.choice.fixedScore},on:{input:[function(t){t.target.composing||e.$set(e.choice,"fixedScore",e._n(t.target.value))},e.onChange],blur:function(t){return e.$forceUpdate()}}}):t("input",{directives:[{name:"model",rawName:"v-model",value:e.rubric.getChoiceScore(e.criterium,e.level),expression:"rubric.getChoiceScore(criterium, level)"}],staticClass:"input-detail",attrs:{type:"number",required:"",min:"0",max:"100"},domProps:{value:e.rubric.getChoiceScore(e.criterium,e.level)},on:{input:[function(t){t.target.composing||e.$set(e.rubric,"getChoiceScore(criterium, level)",t.target.value)},e.changeChoiceScore]}})])]:e._e()],2)])},Es=[];let Ts=class extends(Ge()){isFeedbackInputActive=!1;rubric;level;criterium;constructor(){super(),this.onChange=ks()(this.onChange,750)}marked(e){return De().sanitize(Re(e))}get choice(){return this.rubric.getChoice(this.criterium,this.level)}removeFixedScore(){this.choice.hasFixedScore=!1,this.choice.fixedScore=Fe.FIXED_SCORE,this.emitChange(),this.$forceUpdate()}changeChoiceScore(e){const t=e.target;if(!t.checkValidity())return void t.reportValidity();const i=parseFloat(e.target.value);isNaN(i)||(this.choice.hasFixedScore=!0,this.choice.fixedScore=i,this.emitChange(),this.$forceUpdate())}emitChange(){this.$emit("change",this.choice)}onChange(e){const t=e.target;t.checkValidity()?this.emitChange():t.reportValidity()}onFeedbackChange(e){this.$emit("input",e),this.emitChange()}};We([gt({type:ze,required:!0}),Ve("design:type","function"===typeof(vs="undefined"!==typeof ze&&ze)?vs:Object)],Ts.prototype,"rubric",void 0),We([gt({type:Pe,required:!0}),Ve("design:type","function"===typeof(bs="undefined"!==typeof Pe&&Pe)?bs:Object)],Ts.prototype,"level",void 0),We([gt({type:je,required:!0}),Ve("design:type","function"===typeof(ys="undefined"!==typeof je&&je)?ys:Object)],Ts.prototype,"criterium",void 0),Ts=We([pt({name:"criterium-level-view"}),Ve("design:paramtypes",[])],Ts);var Rs=Ts,Os=Rs,Ds=n(758),Ns=n.n(Ds),As=Ns(),$s=_t(Os,Ss,Es,!1,null,null,null);"function"===typeof As&&As($s);var js=$s.exports,Ls=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"formatting-help"},[t("button",{staticClass:"btn-close",attrs:{"aria-label":e.$t("close"),title:e.$t("close")},on:{click:function(t){return e.$emit("close")}}},[t("i",{staticClass:"fa fa-close",attrs:{"aria-hidden":"true"}})]),t("div",{staticClass:"formatting-title"},[e._v(e._s(e.$t("formatting-help")))]),t("p",[e._v(e._s(e.$t("formatting-intro"))+":")]),t("hr"),t("p",{staticClass:"formatting-example"},[e._v(e._s(e.$t("bold-strong")))]),t("code",[e._v("**"+e._s(e.$t("this-text"))+"** "+e._s(e.$t("is"))+" "+e._s(e.$t("bold"))+".")]),t("p",[t("strong",[e._v(e._s(e.$t("this-text")))]),e._v(" "+e._s(e.$t("is"))+" "+e._s(e.$t("bold"))+".")]),t("hr"),t("p",{staticClass:"formatting-example"},[e._v(e._s(e.$t("italic-emphasis")))]),t("code",[e._v("*"+e._s(e.$t("this-text"))+"* "+e._s(e.$t("is"))+" "+e._s(e.$t("italic"))+".")]),t("p",[t("em",[e._v(e._s(e.$t("this-text")))]),e._v(" "+e._s(e.$t("is"))+" "+e._s(e.$t("italic"))+".")]),t("hr"),t("p",{staticClass:"formatting-example"},[e._v(e._s(e.$t("paragraphs")))]),t("p",{staticClass:"formatting-explain"},[e._v(e._s(e.$t("paragraphs-explain")))]),t("code",[e._v(e._s(e.$t("first-paragraph"))+"."),t("br"),t("br"),e._v(e._s(e.$t("second-paragraph"))+".")]),t("p",[e._v(e._s(e.$t("first-paragraph"))+".")]),t("p",[e._v(e._s(e.$t("second-paragraph"))+".")]),t("hr"),t("p",{staticClass:"formatting-example"},[e._v(e._s(e.$t("lists")))]),t("code",[e._v(" - "+e._s(e.$t("first-item"))),t("br"),e._v(" - "+e._s(e.$t("second-item"))),t("br"),e._v(" - "+e._s(e.$t("third-item"))+" ")]),t("ul",[t("li",[e._v(e._s(e.$t("first-item")))]),t("li",[e._v(e._s(e.$t("second-item")))]),t("li",[e._v(e._s(e.$t("third-item")))])]),t("hr"),t("p",{staticClass:"formatting-example"},[e._v(e._s(e.$t("numbered-lists")))]),t("code",[e._v(" 1. "+e._s(e.$t("first-item"))),t("br"),e._v(" 2. "+e._s(e.$t("second-item"))),t("br"),e._v(" 3. "+e._s(e.$t("third-item"))+" ")]),t("ol",[t("li",[e._v(e._s(e.$t("first-item")))]),t("li",[e._v(e._s(e.$t("second-item")))]),t("li",[e._v(e._s(e.$t("third-item")))])])])},Is=[];let Ps=class extends(Ge()){};Ps=We([pt({})],Ps);var Fs=Ps,Ms=Fs,qs=n(461),zs=n.n(qs),Bs=zs(),Us=_t(Ms,Ls,Is,!1,null,null,null);"function"===typeof Bs&&Bs(Us);var Ws=Us.exports,Vs=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{on:{click:function(t){t.stopPropagation(),e.selectedLevel=null}}},[t("div",{on:{click:function(e){e.stopPropagation()}}},[t("b-table-simple",{class:{"mod-rubric":!e.criterium,"mod-criterium":!!e.criterium}},[t("b-thead",{staticClass:"table-head"},[t("b-tr",{class:"table-head-row"+(e.criterium?" mod-criterium":" mod-rubric")},[t("b-th",{staticClass:"table-title"},[e._v(e._s(e.$t("level")))]),e.rubric.useScores&&!e.rubric.hasAbsoluteWeights?t("b-th",{staticClass:"table-range"},[e._v(e._s(e.$t("range")))]):e._e(),e.rubric.useScores?t("b-th",{staticClass:"table-score"},[e._v(e._s(e.rubric.useRelativeWeights?"%":e.$t("points")))]):e._e(),t("b-th",{staticClass:"table-default"},[t("div",{staticClass:"table-default-header-wrap"},[e._v(e._s(e.$t(e.criterium?"default-trunc":"default"))+" "),t("i",{staticClass:"fa fa-info-circle",attrs:{title:e.$t("default-info")}})])]),t("b-th",{staticClass:"table-actions"})],1)],1),t("b-tbody",[e._l(e.levels,(function(i,r){return[t("b-tr",{class:e.rowClass(i),on:{click:function(t){return t.stopPropagation(),e.onSelectLevel(i)},mouseover:function(t){e.hoveredLevel=i},mouseout:function(t){e.hoveredLevel=null}}},[t("b-td",{staticClass:"table-title"},[t("div",{staticClass:"table-title-wrap"},[t("span",{staticClass:"level-index"},[e._v(e._s(r+1))]),t("b-input",{staticClass:"mod-title mod-input mod-pad",class:{"input-detail":!e.isEditDisabled},attrs:{type:"text",autocomplete:"off",disabled:e.isEditDisabled},on:{input:function(t){return e.onLevelChange(i)},focus:function(t){return e.onSelectLevel(i)}},model:{value:i.title,callback:function(t){e.$set(i,"title",t)},expression:"level.title"}})],1)]),e.rubric.useScores&&!e.rubric.hasAbsoluteWeights?t("b-td",{staticClass:"table-range"},[t("input",{directives:[{name:"model",rawName:"v-model",value:i.use_range_score,expression:"level.use_range_score"}],attrs:{type:"checkbox",disabled:e.isEditDisabled},domProps:{checked:Array.isArray(i.use_range_score)?e._i(i.use_range_score,null)>-1:i.use_range_score},on:{input:function(t){return e.onLevelChange(i)},change:function(t){var r=i.use_range_score,n=t.target,o=!!n.checked;if(Array.isArray(r)){var s=null,a=e._i(r,s);n.checked?a<0&&e.$set(i,"use_range_score",r.concat([s])):a>-1&&e.$set(i,"use_range_score",r.slice(0,a).concat(r.slice(a+1)))}else e.$set(i,"use_range_score",o)}}})]):e._e(),e.rubric.useScores?t("b-td",{staticClass:"table-score",class:{"mod-range":e.hasRangeScores}},[t("div",{staticClass:"level-score-container"},[i.useRangeScore?[t("b-input",{staticClass:"mod-input mod-pad mod-num",class:{"input-detail":!e.isEditDisabled},attrs:{type:"number",autocomplete:"off",required:"",max:0===i.score?0:i.score-1,min:"0",step:"1",disabled:e.isEditDisabled},on:{input:function(t){return e.onLevelChange(i)},focus:function(t){return e.onSelectLevel(i)}},model:{value:i.minimum_score,callback:function(t){e.$set(i,"minimum_score",e._n(t))},expression:"level.minimum_score"}}),t("i",{staticClass:"fa fa-caret-right range-caret",attrs:{"aria-hidden":"true"}})]:e._e(),t("b-input",{staticClass:"mod-input mod-pad mod-num",class:{"input-detail":!e.isEditDisabled},attrs:{type:"number",autocomplete:"off",required:"",min:"0",max:e.rubric.useRelativeWeights?100:"",step:"1",disabled:e.isEditDisabled},on:{input:function(t){return e.onLevelChange(i)},focus:function(t){return e.onSelectLevel(i)}},model:{value:i.score,callback:function(t){e.$set(i,"score",e._n(t))},expression:"level.score"}})],2)]):e._e(),t("b-td",{staticClass:"table-default"},[t("input",{class:{"input-detail":!e.isEditDisabled},attrs:{type:"radio",disabled:e.isEditDisabled},domProps:{checked:i.isDefault},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setDefault(i)},click:function(t){return e.setDefault(i)}}})]),t("b-td",{staticClass:"table-actions"},[t("selection-controls",{staticClass:"level-actions",attrs:{id:i.id,"is-up-disabled":e.isEditDisabled||0===r,"is-down-disabled":e.isEditDisabled||r>=e.levels.length-1,"is-remove-disabled":e.isEditDisabled},on:{"move-down":function(t){return e.moveLevelDown(i)},"move-up":function(t){return e.moveLevelUp(i)},remove:function(t){return e.showRemoveLevelDialog(i)},select:function(t){return e.onSelectLevel(i)}}})],1)],1),e.criterium?t("b-tr",{staticClass:"table-body-row details-row",on:{mouseover:function(t){e.hoveredLevel=i},mouseout:function(t){e.hoveredLevel=null}}},[t("b-td",{attrs:{colspan:e.rubric.useScores?e.rubric.hasAbsoluteWeights?3:4:2}},[t("div",{staticClass:"criterium-level-input-area"},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:i.description,expression:"level.description"}],ref:"feedbackField",refInFor:!0,staticClass:"criterium-level-feedback",class:{"input-detail":!e.isEditDisabled,"is-input-active":e.activeDescriptionInput===i||!i.description},attrs:{placeholder:e.$t("enter-level-description"),disabled:e.isEditDisabled},domProps:{value:i.description},on:{input:[function(t){t.target.composing||e.$set(i,"description",t.target.value)},function(t){return e.onLevelChange(i)}],focus:function(t){return e.onDescriptionFocus(i)},blur:function(t){e.activeDescriptionInput=null}}}),t("div",{staticClass:"criterium-level-markup-preview",class:{"is-input-active":e.activeDescriptionInput===i||!i.description},domProps:{innerHTML:e._s(e.marked(i.description))}})])])],1):e._e()]})),e.newLevel?t("b-tr",{staticClass:"table-body-row new-level-row",class:{"mod-criterium":!!e.criterium}},[t("b-td",{staticClass:"table-title"},[t("div",{staticClass:"table-title-wrap"},[t("span",{staticClass:"level-index"},[e._v(e._s(e.levels.length+1))]),t("b-input",{staticClass:"mod-title mod-input mod-pad input-detail",attrs:{type:"text",autocomplete:"off",id:"level-title-new"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addLevel.apply(null,arguments)},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.cancelLevel.apply(null,arguments)}},model:{value:e.newLevel.title,callback:function(t){e.$set(e.newLevel,"title",t)},expression:"newLevel.title"}})],1)]),e.rubric.useScores&&!e.rubric.hasAbsoluteWeights?t("b-td",{staticClass:"table-range"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.newLevel.use_range_score,expression:"newLevel.use_range_score"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.newLevel.use_range_score)?e._i(e.newLevel.use_range_score,null)>-1:e.newLevel.use_range_score},on:{change:function(t){var i=e.newLevel.use_range_score,r=t.target,n=!!r.checked;if(Array.isArray(i)){var o=null,s=e._i(i,o);r.checked?s<0&&e.$set(e.newLevel,"use_range_score",i.concat([o])):s>-1&&e.$set(e.newLevel,"use_range_score",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.newLevel,"use_range_score",n)}}})]):e._e(),e.rubric.useScores?t("b-td",{staticClass:"table-score",class:{"mod-range":e.hasRangeScores}},[t("div",{staticStyle:{display:"flex","justify-content":"center"}},[e.newLevel.useRangeScore?[t("b-input",{staticClass:"mod-input mod-pad mod-num",attrs:{type:"number",autocomplete:"off",required:"",max:0===e.newLevel.score?0:e.newLevel.score-1,min:"0",step:"1"},model:{value:e.newLevel.minimum_score,callback:function(t){e.$set(e.newLevel,"minimum_score",e._n(t))},expression:"newLevel.minimum_score"}}),t("i",{staticClass:"fa fa-caret-right range-caret",attrs:{"aria-hidden":"true"}})]:e._e(),t("b-input",{staticClass:"mod-input mod-pad mod-num input-detail",attrs:{type:"number",autocomplete:"off",required:"",min:"0",max:e.rubric.useRelativeWeights?100:"",step:"1"},model:{value:e.newLevel.score,callback:function(t){e.$set(e.newLevel,"score",e._n(t))},expression:"newLevel.score"}})],2)]):e._e(),t("b-td",{staticClass:"table-default"},[t("input",{staticClass:"input-detail",attrs:{type:"radio"},domProps:{checked:e.newLevel.isDefault},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setDefault(e.newLevel)},click:function(t){return e.setDefault(e.newLevel)}}})]),t("b-td",{staticClass:"table-actions"},[t("div",{staticClass:"level-actions"},[t("button",{staticClass:"btn btn-default btn-sm mod-level-action",attrs:{title:e.$t("add")},on:{click:function(t){return t.stopPropagation(),e.addLevel.apply(null,arguments)}}},[t("i",{staticClass:"fa fa-check-circle",attrs:{"aria-hidden":"true"}}),t("span",{staticClass:"sr-only"},[e._v(e._s(e.$t("add")))])]),t("button",{staticClass:"btn btn-default btn-sm mod-level-action mod-cancel",attrs:{title:e.$t("cancel")},on:{click:function(t){return t.stopPropagation(),e.cancelLevel.apply(null,arguments)}}},[t("i",{staticClass:"fa fa-minus-circle",attrs:{"aria-hidden":"true"}}),t("span",{staticClass:"sr-only"},[e._v(e._s(e.$t("cancel")))])])])])],1):e._e(),e.newLevel&&e.criterium?t("b-tr",{staticClass:"table-body-row details-row"},[t("b-td",{attrs:{colspan:e.rubric.useScores?e.rubric.hasAbsoluteWeights?3:4:2}},[t("div",{staticClass:"criterium-level-input-area"},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newLevel.description,expression:"newLevel.description"}],ref:"feedbackField",staticClass:"criterium-level-feedback input-detail",class:{"is-input-active":e.activeDescriptionInput===e.newLevel||!e.newLevel.description},attrs:{placeholder:e.$t("enter-level-description")},domProps:{value:e.newLevel.description},on:{focus:function(t){return e.onDescriptionFocus(e.newLevel)},blur:function(t){e.activeDescriptionInput=null},input:function(t){t.target.composing||e.$set(e.newLevel,"description",t.target.value)}}}),t("div",{staticClass:"criterium-level-markup-preview",class:{"is-input-active":e.activeDescriptionInput===e.newLevel||!e.newLevel.description},domProps:{innerHTML:e._s(e.marked(e.newLevel.description))}})])])],1):e._e()],2)],1)],1),e.newLevel?e._e():t("button",{staticClass:"btn-new",on:{click:function(t){return t.stopPropagation(),e.createNewLevel.apply(null,arguments)}}},[e._v(e._s(e.$t("add-level")))]),null!==e.removingLevel?t("div",{staticClass:"modal-bg",on:{click:function(t){return t.stopPropagation(),e.hideRemoveLevelDialog.apply(null,arguments)}}},[t("div",{staticClass:"modal-content",on:{click:function(e){e.stopPropagation()}}},[t("div",{staticClass:"modal-content-title"},[e._v(e._s(e.$t("remove-level",{item:`'${e.removingLevel.title}'`}))+"?")]),t("div",[t("button",{ref:"btn-remove-level",staticClass:"btn-strong mod-confirm",on:{click:function(t){return t.stopPropagation(),e.removeLevel(e.removingLevel)}}},[e._v(e._s(e.$t("remove")))]),t("button",{staticClass:"btn-strong",on:{click:function(t){return t.stopPropagation(),e.hideRemoveLevelDialog.apply(null,arguments)}}},[e._v(e._s(e.$t("cancel")))])])])]):e._e()])},Hs=[],Gs=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("button",{staticClass:"btn btn-default btn-sm mod-level-action",attrs:{id:`btn-up-${e.id}`,title:e.$t("move-up"),disabled:e.isUpDisabled},on:{click:function(t){return t.stopPropagation(),e.$emit("move-up")},focus:function(t){return e.$emit("select")}}},[t("i",{staticClass:"fa fa-arrow-up",attrs:{"aria-hidden":"true"}}),t("span",{staticClass:"sr-only"},[e._v(e._s(e.$t("move-up")))])]),t("button",{staticClass:"btn btn-default btn-sm mod-level-action",attrs:{id:`btn-down-${e.id}`,title:e.$t("move-down"),disabled:e.isDownDisabled},on:{click:function(t){return t.stopPropagation(),e.$emit("move-down")},focus:function(t){return e.$emit("select")}}},[t("i",{staticClass:"fa fa-arrow-down",attrs:{"aria-hidden":"true"}}),t("span",{staticClass:"sr-only"},[e._v(e._s(e.$t("move-down")))])]),t("button",{staticClass:"btn btn-default btn-sm mod-level-action mod-remove",attrs:{title:e.$t("remove"),disabled:e.isRemoveDisabled},on:{click:function(t){return t.stopPropagation(),e.$emit("remove")},focus:function(t){return e.$emit("select")}}},[t("i",{staticClass:"fa fa-minus-circle",attrs:{"aria-hidden":"true"}}),t("span",{staticClass:"sr-only"},[e._v(e._s(e.$t("remove")))])])])},Js=[];let Xs=class extends(Ge()){id;isUpDisabled;isDownDisabled;isRemoveDisabled};We([gt({type:String,default:""}),Ve("design:type",String)],Xs.prototype,"id",void 0),We([gt({type:Boolean,default:!1}),Ve("design:type",Boolean)],Xs.prototype,"isUpDisabled",void 0),We([gt({type:Boolean,default:!1}),Ve("design:type",Boolean)],Xs.prototype,"isDownDisabled",void 0),We([gt({type:Boolean,default:!1}),Ve("design:type",Boolean)],Xs.prototype,"isRemoveDisabled",void 0),Xs=We([pt({name:"selection-controls"})],Xs);var Ys=Xs,Ks=Ys,Qs=n(963),Zs=n.n(Qs),ea=Zs(),ta=_t(Ks,Gs,Js,!1,null,null,null);"function"===typeof ea&&ea(ta);var ia,ra,na=ta.exports;let oa=class extends(Ge()){newLevel=null;hoveredLevel=null;selectedLevel=null;removingLevel=null;activeDescriptionInput=null;rubric;criterium;dataConnector;constructor(){super(),this.onLevelMove=ks()(this.onLevelMove,750),this.onLevelChange=ks()(this.onLevelChange,750)}marked(e){return De().sanitize(Re(e))}get isEditDisabled(){return!!this.newLevel}get levels(){return this.criterium?this.rubric.filterLevelsByCriterium(this.criterium).map((e=>(e._showDetails=!0,e))):this.rubric.rubricLevels}get hasRangeScores(){return!!this.levels.find((e=>e.useRangeScore))}onLevelChange(e){this.dataConnector?.updateLevel(e)}createNewLevel(){this.selectLevel(null),this.newLevel=this.getDefaultLevel(),this.$nextTick((()=>{document.querySelector("#level-title-new").focus()}))}addLevel(){this.newLevel.isDefault&&this.levels.forEach((e=>{e.isDefault=!1})),this.rubric.addLevel(this.newLevel),this.dataConnector?.addLevel(this.newLevel,this.levels.length),this.newLevel=null,this.$emit("level-added"),this.createNewLevel()}cancelLevel(){this.newLevel=null,this.selectLevel(null)}onLevelMove(e){const t=this.rubric.getFilteredLevels(e);if(!t)return;const i=t.indexOf(e);this.dataConnector?.moveLevel(e,i)}moveLevelUp(e){this.rubric.moveLevelUp(e),this.onLevelMove(e),this.$nextTick((()=>{let t=document.querySelector(`#btn-up-${e.id}`);t?.disabled&&(t=t?.nextSibling),t?.focus()}))}moveLevelDown(e){this.rubric.moveLevelDown(e),this.onLevelMove(e),this.$nextTick((()=>{let t=document.querySelector(`#btn-down-${e.id}`);t?.disabled&&(t=t?.previousSibling),t?.focus()}))}setDefault(e){this.newLevel===e?this.newLevel.isDefault=!this.newLevel.isDefault:(this.levels.forEach((t=>{t.isDefault=e===t&&!t.isDefault})),this.onLevelChange(e))}getDefaultLevel(){const e=new Pe("");return this.criterium&&(e.criteriumId=this.criterium.id),e}showRemoveLevelDialog(e){this.removingLevel=e}hideRemoveLevelDialog(){this.showRemoveLevelDialog(null)}removeLevel(e){this.removingLevel=null,this.rubric.removeLevel(e),this.dataConnector?.deleteLevel(e),this.selectLevel(null)}get fields(){return[{key:"title",sortable:!1,variant:"title"},this.rubric.useScores?{key:"score",sortable:!1,variant:"score"}:null,{key:"is_default",sortable:!1,variant:"default"},{key:"actions",sortable:!1,label:"",variant:"actions"}]}rowClass(e){return`table-body-row level-row${this.criterium?" mod-criterium":""}${e===this.selectedLevel?" is-selected":""}${this.newLevel?"":" is-enabled"}${e===this.hoveredLevel?" is-hovered":""}`}onSelectLevel(e){this.isEditDisabled||(this.selectedLevel=e)}onDescriptionFocus(e){this.onSelectLevel(e),this.activeDescriptionInput=e}onRowSelected(e){this.selectLevel(e[0]||null)}selectLevel(e){return this.newLevel||(this.selectedLevel=e),!1}onRemoveItemChanged(){this.removingLevel&&this.$nextTick((()=>{this.$refs["btn-remove-level"].focus()}))}mounted(){this.levels.length||this.createNewLevel()}};We([gt({type:ze,required:!0}),Ve("design:type","function"===typeof(ia="undefined"!==typeof ze&&ze)?ia:Object)],oa.prototype,"rubric",void 0),We([gt({type:je,default:null}),Ve("design:type","function"===typeof(ra="undefined"!==typeof je&&je)?ra:Object)],oa.prototype,"criterium",void 0),We([gt(ls),Ve("design:type",Object)],oa.prototype,"dataConnector",void 0),We([vt("removingLevel"),Ve("design:type",Function),Ve("design:paramtypes",[]),Ve("design:returntype",void 0)],oa.prototype,"onRemoveItemChanged",null),oa=We([pt({name:"levels",components:{SelectionControls:na}}),Ve("design:paramtypes",[])],oa);var sa=oa,aa=sa,la=n(85),ca=n.n(la),ua=ca(),da=_t(aa,Vs,Hs,!1,null,"d6850a06",null);"function"===typeof ua&&ua(da);var ha,pa=da.exports;function fa(e,t=0){e.style.height="",e.style.height=`${e.scrollHeight+t}px`}let ma=class extends(Ge()){showFormatting=!1;initCustomLevels=!1;rubric;criterium;dataConnector;constructor(){super(),this.onCriteriumChange=ks()(this.onCriteriumChange,750),this.onWeightChange=ks()(this.onWeightChange,750),this.onChoiceChange=ks()(this.onChoiceChange,750)}get criteriumLevels(){return this.criterium?this.rubric.filterLevelsByCriterium(this.criterium):[]}onLevelMove(e){const t=this.rubric.getFilteredLevels(e);if(!t)return;const i=t.indexOf(e);this.dataConnector?.moveLevel(e,i)}moveLevelUp(e){this.rubric.moveLevelUp(e),this.onLevelMove(e)}moveLevelDown(e){this.rubric.moveLevelDown(e),this.onLevelMove(e)}updateHeight(e){fa(e.target)}updateHeightAll(){fa(this.$refs["criteriumTitleField"],5);for(let e of document.getElementsByClassName("criterium-level-feedback"))fa(e)}updated(){window.setTimeout((()=>{this.updateHeightAll()}),250)}mounted(){this.updateHeightAll()}onCriteriumChange(){this.$emit("change-criterium",this.criterium)}onWeightChange(e){const t=e.target;t.checkValidity()?(this.rubric.useRelativeWeights&&"number"!==typeof this.criterium?.rel_weight&&(this.criterium.rel_weight=null),this.$emit("change-criterium",this.criterium)):t.reportValidity()}onChoiceChange(e,t,i){this.$emit("change-choice",e,t,i)}onUsesScoresChange(){window.setTimeout((()=>{this.updateHeightAll()}),250)}onDisplayedCriterium(){this.initCustomLevels=!1}};We([gt({type:ze,required:!0}),Ve("design:type","function"===typeof(ha="undefined"!==typeof ze&&ze)?ha:Object)],ma.prototype,"rubric",void 0),We([gt(je),Ve("design:type",Object)],ma.prototype,"criterium",void 0),We([gt(ls),Ve("design:type",Object)],ma.prototype,"dataConnector",void 0),We([vt("rubric.useScores"),Ve("design:type",Function),Ve("design:paramtypes",[]),Ve("design:returntype",void 0)],ma.prototype,"onUsesScoresChange",null),We([vt("criterium"),Ve("design:type",Function),Ve("design:paramtypes",[]),Ve("design:returntype",void 0)],ma.prototype,"onDisplayedCriterium",null),ma=We([pt({name:"criterium-details-view",components:{CriteriumLevelView:js,FormattingHelp:Ws,Levels:pa}}),Ve("design:paramtypes",[])],ma);var ga=ma,va=ga,ba=n(266),ya=n.n(ba),wa=ya(),_a=_t(va,_s,Cs,!1,null,"74b266a6",null);"function"===typeof wa&&wa(_a);var Ca=_a.exports,xa=function(){var e=this,t=e._self._c;e._self._setupProxy;return null!==e.removeItem?t("div",{staticClass:"modal-bg",on:{click:function(t){return t.stopPropagation(),e.$emit("cancel")}}},[t("div",{staticClass:"modal-content",on:{click:function(e){e.stopPropagation()}}},["Category"===e.removeItem.constructor.name&&""===e.removeItem.title?t("div",{staticClass:"modal-content-title"},[e._v(e._s(e.$t("remove-criteria"))+"?")]):t("div",{staticClass:"modal-content-title"},[e._v(e._s(e.$t("remove-item",{item:`${e.$t(e.removeItem.constructor.name)} '${e.removeItem.title}'`}))+"?")]),t("div",[t("button",{ref:"btn-remove",staticClass:"btn-strong mod-confirm",on:{click:function(t){return t.stopPropagation(),e.$emit("remove")}}},[e._v(e._s(e.$t("remove")))]),t("button",{staticClass:"btn-strong",on:{click:function(t){return t.stopPropagation(),e.$emit("cancel")}}},[e._v(e._s(e.$t("cancel")))])])])]):e._e()},ka=[];let Sa=class extends(Ge()){removeItem;onRemoveItemChanged(){this.removeItem&&this.$nextTick((()=>{this.$refs["btn-remove"].focus()}))}};We([gt({type:[Ie,Le,je],default:null}),Ve("design:type",Object)],Sa.prototype,"removeItem",void 0),We([vt("removeItem"),Ve("design:type",Function),Ve("design:paramtypes",[]),Ve("design:returntype",void 0)],Sa.prototype,"onRemoveItemChanged",null),Sa=We([pt({name:"remove-dialog"})],Sa);var Ea=Sa,Ta=Ea,Ra=n(867),Oa=n.n(Ra),Da=Oa(),Na=_t(Ta,xa,ka,!1,null,null,null);"function"===typeof Da&&Da(Na);var Aa,$a=Na.exports;let ja=class extends(Ge()){selectedClusterView1=null;selectedClusterView2=null;menuActionsId="";newClusterDialogView="";newCategoryDialogView="";isEditing=!1;oldItemTitle="";removeItem=null;editCategoryColorId="";initiatedDrag="";dragItemType="";overElementId="";bannedForDrop="";innerWidth=window.innerWidth;rubric;selectedCriterium;dataConnector;uiState;get clusters(){return[...this.rubric.clusters]}get console(){return window.console}onClusterSelected(e,t){"view1"===t?(this.selectedClusterView1=e,this.uiState.selectedClusterView1=e.id):"view2"===t&&(this.selectedClusterView2=e,this.uiState.selectedClusterView2=e.id)}isSelected(e,t="view1"){return"view1"===t?e===this.selectedClusterView1:"view2"===t&&e===this.selectedClusterView2}selectCriterium(e){this.$emit("criterium-selected",e)}onItemActions(e){this.menuActionsId=this.menuActionsId===e?"":e}hideMenu(){this.menuActionsId=""}onStartEdit(e){this.isEditing=!0,this.oldItemTitle=e.title,this.hideMenu()}onFinishEdit(e,t,i=!1){i||t===this.oldItemTitle||(e.title=t,this.dataConnector?.updateTreeNode(e)),this.isEditing=!1,this.oldItemTitle=""}onChangeColor(e){this.dataConnector?.updateTreeNode(e)}onChangeCriterium(e){this.dataConnector?.updateTreeNode(e)}onChangeChoice(e,t,i){this.dataConnector?.updateChoice(e,t,i)}showRemoveDialog(e){this.removeItem=e,this.hideMenu()}hideRemoveDialog(){this.showRemoveDialog(null)}onRemoveItem(){const e=this.removeItem;e instanceof je&&e===this.selectedCriterium?this.selectCriterium(null):e instanceof Le?(this.selectedCriterium?.parent===e&&this.selectCriterium(null),this.editCategoryColorId&&e.id===this.editCategoryColorId.split("_")[1]&&(this.editCategoryColorId="")):e instanceof Ie&&(this.selectedCriterium?.parent?.parent===e&&this.selectCriterium(null),e===this.selectedClusterView1&&(this.selectedClusterView1=null,this.uiState.selectedClusterView1=""),e===this.selectedClusterView2&&(this.selectedClusterView2=null,this.uiState.selectedClusterView2="")),e.parent.removeChild(e),this.dataConnector?.deleteTreeNode(e),this.hideRemoveDialog()}onColorPicker(e){this.editCategoryColorId=e}get draggableDisabled(){return this.innerWidth<900||this.isEditing||""!==this.menuActionsId||""!==this.newClusterDialogView||""!==this.newCategoryDialogView||null!==this.removeItem}startDrag(e,t){const i=e.item.id.split("_")[0],r="view1"===i?"view2":"view1";this.dragItemType=t,this.initiatedDrag=i;let n="";n="cluster"===t?"clusters":"category"===t?"categories":e.item.parentElement?.parentElement.id.split("_")[1],("cluster"===t||null!==this.selectedClusterView1&&this.selectedClusterView1===this.selectedClusterView2)&&(this.bannedForDrop=`${r}_${n}`)}endDrag(){this.dragItemType="",this.initiatedDrag="",this.bannedForDrop="",this.overElementId=""}dragOverElement(e=""){this.initiatedDrag&&(this.overElementId=e)}mounted(){if(this.uiState.selectedClusterView1){const e=this.rubric.clusters.find((e=>e.id===this.uiState.selectedClusterView1));e?this.selectedClusterView1=e:this.uiState.selectedClusterView1=""}else this.selectedClusterView1=this.clusters.length&&this.clusters[0]||null;if(this.uiState.selectedClusterView2){const e=this.rubric.clusters.find((e=>e.id===this.uiState.selectedClusterView2));e?this.selectedClusterView2=e:this.uiState.selectedClusterView2=""}else this.selectedClusterView2=this.clusters.length&&this.clusters[0]||null;window.addEventListener("resize",this.handleResize)}beforeDestroy(){window.removeEventListener("resize",this.handleResize)}handleResize(){this.innerWidth=window.innerWidth}get mainClass(){return{"is-dragging":""!==this.initiatedDrag,"is-not-allowed":""!==this.bannedForDrop&&this.overElementId===this.bannedForDrop}}onRubricChanged(){}};We([gt({type:ze,required:!0}),Ve("design:type","function"===typeof(Aa="undefined"!==typeof ze&&ze)?Aa:Object)],ja.prototype,"rubric",void 0),We([gt(je),Ve("design:type",Object)],ja.prototype,"selectedCriterium",void 0),We([gt(ls),Ve("design:type",Object)],ja.prototype,"dataConnector",void 0),We([gt({type:Object}),Ve("design:type",Object)],ja.prototype,"uiState",void 0),We([vt("rubric"),Ve("design:type",Function),Ve("design:paramtypes",[]),Ve("design:returntype",void 0)],ja.prototype,"onRubricChanged",null),ja=We([pt({name:"score-rubric-view",components:{RubricPane:ws,RemoveDialog:$a,CriteriumDetailsView:Ca}})],ja);var La=ja,Ia=La,Pa=_t(Ia,Rt,Ot,!1,null,null,null),Fa=Pa.exports,Ma=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"rubric mod-bf",class:{"mod-weight":e.rubric.useWeights},style:{"--num-cols":e.rubric.maxNumLevels}},[e.showFormatting?t("formatting-help",{staticClass:"mod-bf",on:{close:function(t){e.showFormatting=!1}}}):e._e(),t("ul",{staticClass:"rubric-tools"},[t("li",[t("a",{staticClass:"tools-show-formatting",attrs:{href:"#",role:"button"},on:{click:function(t){t.preventDefault(),e.showFormatting=!e.showFormatting}}},[e._v(e._s(e.$t("formatting")))])])]),e.rubric.useWeights?t("div",{staticClass:"treenode-weight-header mod-show"},[t("span",[e._v(e._s(e.$t("weight")))])]):e._e(),e.rubric.hasCustomLevels?e._e():t("div",{staticClass:"rubric-header mod-show"},e._l(e.rubric.rubricLevels,(function(i){return t("div",{staticClass:"rubric-header-title"},[e._v(e._s(i.title))])})),0),e._l(e.rubric.clusters,(function(i,r){return[t("div",{staticClass:"treenode-title-header rb-lg:col-start-1"},[t("h1",{staticClass:"treenode-title cluster-title"},[e._v(e._s(i.title))])]),e._l(i.categories,(function(i){return[i.title&&e.rubric.getAllCriteria(i).length>0?t("div",{staticClass:"treenode-title-header mod-category has-category rb-lg:col-start-1",style:`--category-color: ${i.title&&i.color?i.color:"#999"}`},[t("div",{staticClass:"treenode-title-header-pre mod-category",class:{"mod-no-color":!i.color}}),t("h2",{staticClass:"treenode-title category-title"},[e._v(e._s(i.title))])]):e._e(),e._l(e.getCriteriumRowsData(i),(function({criterium:r,ext:n}){return[t("div",{staticClass:"treenode-title-header rb-lg:col-start-1",class:{"has-category":!!i.title},style:`--category-color: ${i.title&&i.color?i.color:"#999"}`},[t("div",{staticClass:"treenode-title-header-pre mod-criterium"}),t("h3",{staticClass:"treenode-title criterium-title u-markdown-criterium",class:{"mod-no-category":!i.title},domProps:{innerHTML:e._s(r.toMarkdown())}})]),e.rubric.useWeights?t("div",{staticClass:"treenode-weight mod-pad rb-md:col-span-full"},[t("span",{staticClass:"treenode-weight-title"},[e._v(e._s(e.$t("weight"))+": ")]),e.rubric.useRelativeWeights?t("input",{directives:[{name:"model",rawName:"v-model.number",value:r.rel_weight,expression:"criterium.rel_weight",modifiers:{number:!0}}],staticClass:"input-detail rel-weight",class:{"is-set":null!==r.rel_weight,"is-error":e.rubric.eqRestWeight<0},attrs:{type:"number",placeholder:e.rubric.eqRestWeight.toLocaleString(),min:"0",max:"100"},domProps:{value:r.rel_weight},on:{input:[function(t){t.target.composing||e.$set(r,"rel_weight",e._n(t.target.value))},function(t){return e.onWeightChange(t,r)}],blur:function(t){return e.$forceUpdate()}}}):[e.rubric.filterLevelsByCriterium(r).length?t("span",{staticStyle:{"margin-left":"1em"}},[e._v("100")]):t("input",{directives:[{name:"model",rawName:"v-model.number",value:r.weight,expression:"criterium.weight",modifiers:{number:!0}}],staticClass:"input-detail abs-weight",attrs:{type:"number",min:"0",max:"100"},domProps:{value:r.weight},on:{input:[function(t){t.target.composing||e.$set(r,"weight",e._n(t.target.value))},function(t){return e.onWeightChange(t,r)}],blur:function(t){return e.$forceUpdate()}}})],t("span",{staticClass:"sr-only"},[e._v("%")]),t("i",{staticClass:"fa fa-percent",attrs:{"aria-hidden":"true"}})],2):e._e(),t("tree-node-descriptions",{attrs:{rubric:e.rubric,criterium:r,ext:n},on:{input:e.updateHeight,"update-level-description":e.updateLevelDescription,"update-choice-feedback":e.updateFeedback}})]}))]})),r<e.rubric.clusters.length-1?t("div",{staticClass:"cluster-sep"}):e._e()]}))],2)},qa=[],za=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"description-input-area"},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.descriptiveItem.description,expression:"descriptiveItem.description"}],staticClass:"ta-default-feedback",class:{"is-input-active":e.isInputActive||!e.descriptiveItem.description},attrs:{placeholder:e.$t("enter-level-description")},domProps:{value:e.descriptiveItem.description},on:{input:[function(t){t.target.composing||e.$set(e.descriptiveItem,"description",t.target.value)},e.onDescriptionChange],focus:function(t){e.isInputActive=!0},blur:function(t){e.isInputActive=!1}}}),t("div",{staticClass:"description-markup-preview",class:{"is-input-active":e.isInputActive||!e.descriptiveItem.description}},[e._t("default"),t("div",{staticClass:"preview",domProps:{innerHTML:e._s(e.preview)}})],2)])},Ba=[];let Ua=class extends(Ge()){isInputActive=!1;descriptiveItem;constructor(){super(),this.onChange=ks()(this.onChange,750)}get preview(){return this.descriptiveItem.toMarkdown()}onChange(){this.$emit("change",this.descriptiveItem)}onDescriptionChange(e){this.$emit("input",e),this.onChange()}};We([gt({type:[Pe,Fe],required:!0}),Ve("design:type",Object)],Ua.prototype,"descriptiveItem",void 0),Ua=We([pt({name:"description-field"}),Ve("design:paramtypes",[])],Ua);var Wa=Ua,Va=Wa,Ha=n(641),Ga=n.n(Ha),Ja=Ga(),Xa=_t(Va,za,Ba,!1,null,null,null);"function"===typeof Ja&&Ja(Xa);var Ya,Ka,Qa,Za=Xa.exports,el=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"treenode-rubric-input"},[t("div",{staticClass:"treenode-choices"},e._l(e.entryChoices,(function({item:i,level:r,title:n,score:o,useRangeScore:s,minimumScore:a}){return t("div",{staticClass:"treenode-choice"},[t("div",{staticClass:"treenode-level",class:{"mod-scores":e.useScores,"mod-fixed-levels":!e.rubric.hasCustomLevels}},[t("span",{staticClass:"treenode-level-title"},[e._v(e._s(n))]),e.useScores?t("span",{staticClass:"treenode-level-score"},[s?[e._v(e._s(e._f("formatNum")(a))),t("i",{staticClass:"fa fa-caret-right",attrs:{"aria-hidden":"true"}})]:e._e(),e._v(e._s(e._f("formatNum")(o))),e.rubric.useRelativeWeights?[t("span",{staticClass:"sr-only"},[e._v("%")]),t("i",{staticClass:"fa fa-percent",attrs:{"aria-hidden":"true"}})]:t("span",{staticClass:"sr-only"},[e._v(e._s(e.$t("points")))])],2):e._e()]),t("div",{staticClass:"treenode-level-description-input",class:{"mod-abs-weights":e.useScores&&e.rubric.hasAbsoluteWeights},on:{click:e.focusTextField}},[t("description-field",{attrs:{"descriptive-item":i},on:{input:function(t){return e.$emit("input",t)},change:function(t){return e.updateDescription(i,r)}}},[e.useScores&&!e.rubric.hasCustomLevels?t("span",{staticClass:"level-score",class:{"mod-fixed":e.hasChoices&&i.hasFixedScore}},[s?[e._v(e._s(e._f("formatNum")(a))),t("i",{staticClass:"fa fa-caret-right",attrs:{"aria-hidden":"true"}})]:e._e(),e._v(e._s(e._f("formatNum")(o))),e.rubric.useRelativeWeights?[t("span",{staticClass:"sr-only"},[e._v("%")]),t("i",{staticClass:"fa fa-percent",attrs:{"aria-hidden":"true"}})]:e._e(),t("span",{staticClass:"sr-only"},[e._v(e._s(e.$t("points")))])],2):e._e()])],1)])})),0)])},tl=[];class il{level;chosenLevel;constructor(e,t){this.level=e,this.chosenLevel=t}get item(){return this.level}get title(){return this.level.title}get description(){return this.level.description}get score(){return this.level.score}get useRangeScore(){return this.level.useRangeScore}get minimumScore(){return this.level.minimumScore}get markdown(){return this.level.toMarkdown()}get isSelected(){return this.level===this.chosenLevel}}class rl{wChoice;chosenLevel;useChoiceScore;constructor(e,t,i){this.wChoice=e,this.chosenLevel=t,this.useChoiceScore=i}get item(){return this.wChoice.choice}get level(){return this.wChoice.level}get title(){return this.level.title}get description(){return this.wChoice.choice.description}get score(){return this.useChoiceScore?this.wChoice.score:this.level.score}get useRangeScore(){return this.level.useRangeScore}get minimumScore(){return this.level.minimumScore}get markdown(){return this.wChoice.choice.toMarkdown()}get isSelected(){return this.level===this.chosenLevel}}let nl=class extends(Ge()){rubric;criterium;ext;get hasLevels(){return!!this.ext.levels.length}get hasChoices(){return!!this.ext.choices.length}get useScores(){return this.rubric.useScores}focusTextField(e){"default-feedback"===e.target.className&&e.target.querySelector(".ta-default-feedback").focus()}updateDescription(e,t){e===t?this.$emit("update-level-description",e):this.$emit("update-choice-feedback",e,this.criterium,t)}get entryChoices(){return this.hasLevels?this.ext.levels.map((e=>new il(e,null))):this.ext.choices.map((e=>new rl(e,null,!this.rubric.useRelativeWeights)))}};We([gt({type:ze,required:!0}),Ve("design:type","function"===typeof(Ya="undefined"!==typeof ze&&ze)?Ya:Object)],nl.prototype,"rubric",void 0),We([gt({type:je,required:!0}),Ve("design:type","function"===typeof(Ka="undefined"!==typeof je&&je)?Ka:Object)],nl.prototype,"criterium",void 0),We([gt({type:Object,required:!0}),Ve("design:type","function"===typeof(Qa="undefined"!==typeof t.TreeNodeExt&&t.TreeNodeExt)?Qa:Object)],nl.prototype,"ext",void 0),nl=We([pt({components:{DescriptionField:Za},filters:{formatNum:function(e){return e.toLocaleString(void 0,{maximumFractionDigits:2})}}})],nl);var ol=nl,sl=ol,al=n(231),ll=n.n(al),cl=ll(),ul=_t(sl,el,tl,!1,null,"451dcd26",null);"function"===typeof cl&&cl(ul);var dl,hl=ul.exports;function pl(e){e.style.height="",e.style.height=`${e.scrollHeight+14}px`}let fl=class extends(Ge()){rubric;dataConnector;criteriaData=[];showFormatting=!1;constructor(){super(),this.onResize=ks()(this.onResize,200),this.onWeightChange=ks()(this.onWeightChange,750)}updateHeight(e){this.$nextTick((()=>{pl(e.target)}))}updateLevelDescription(e){this.dataConnector?.updateLevel(e)}updateFeedback(e,t,i){this.dataConnector?.updateChoice(e,t,i)}focusTextField(e){"default-feedback"===e.target.className&&e.target.querySelector(".ta-default-feedback").focus()}onWeightChange(e,t){const i=e.target;if(i.checkValidity()){if(this.rubric.useRelativeWeights&&"number"!==typeof t.rel_weight)t.rel_weight=null;else if(!this.rubric.useRelativeWeights){const e=this.getCriteriumData(t);e.choices=this.getCriteriumChoices(t)}this.dataConnector?.updateTreeNode(t)}else i.reportValidity()}getCriteriumChoices(e){const t=this.rubric;return t.rubricLevels.map((i=>({level:i,choice:t.getChoice(e,i),score:t.getChoiceScore(e,i)})))}get useScores(){return this.rubric.useScores}get useGrades(){return!this.rubric.useScores}getCriteriumRowsData(e){return e.criteria.map((e=>({criterium:e,ext:this.getCriteriumData(e)})))}getCriteriumData(e){const t=this.criteriaData.find((t=>t.treeNode===e));if(!t)throw new Error(`No data found for criterium: ${e}`);return t}initScores(e){e.getAllCriteria().forEach((t=>{const i=e.filterLevelsByCriterium(t),r=i.length?[]:this.getCriteriumChoices(t);this.criteriaData.push({treeNode:t,levels:i,choices:r,showDefaultFeedback:!1})}))}getChoiceScore(e){return this.rubric.useRelativeWeights?e.level.score:e.score}onResize(){this.updateHeightAll()}created(){this.rubric&&this.initScores(this.rubric)}updateHeightAll(){this.$nextTick((()=>{document.querySelectorAll(".ta-default-feedback").forEach((e=>{pl(e)}))}))}destroyed(){window.removeEventListener("resize",this.onResize)}mounted(){window.addEventListener("resize",this.onResize),this.updateHeightAll()}onUsesScoresChange(){this.updateHeightAll()}};We([gt({type:ze,required:!0}),Ve("design:type","function"===typeof(dl="undefined"!==typeof ze&&ze)?dl:Object)],fl.prototype,"rubric",void 0),We([gt(ls),Ve("design:type",Object)],fl.prototype,"dataConnector",void 0),We([vt("rubric.useScores"),Ve("design:type",Function),Ve("design:paramtypes",[]),Ve("design:returntype",void 0)],fl.prototype,"onUsesScoresChange",null),fl=We([pt({components:{DescriptionField:Za,FormattingHelp:Ws,TreeNodeDescriptions:hl},filters:{formatNum:function(e){return e.toLocaleString(void 0,{maximumFractionDigits:2})}}}),Ve("design:paramtypes",[])],fl);var ml=fl,gl=ml,vl=n(362),bl=n.n(vl),yl=bl(),wl=_t(gl,Ma,qa,!1,null,"06a3033f",null);"function"===typeof yl&&yl(wl);var _l=wl.exports,Cl=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"save-state"},[e.showSaveState&&e.dataConnector&&e.dataConnector.isSaving?t("div",[e._v(" "+e._s(e.$tc("num-changes",e.dataConnector.processingSize,{count:e.dataConnector.processingSize}))+"... ")]):e.showSaveState&&e.dataConnector?t("div",{staticClass:"save-state-saved",attrs:{"aria-live":"polite"}},[e._v(" "+e._s(e.$t("all-saved"))+" ")]):e._e(),e.error?t("div",{staticClass:"block-ui"}):e._e(),e.error?t("div",{staticClass:"save-error"},[t("div",{staticClass:"save-error-msg"},[e._v(" "+e._s(e.error)+" ")])]):e._e()])},xl=[];let kl=class extends(Ge()){dataConnector;error;showSaveState};We([gt(ls),Ve("design:type",Object)],kl.prototype,"dataConnector",void 0),We([gt({type:String,default:null}),Ve("design:type",Object)],kl.prototype,"error",void 0),We([gt({type:Boolean,default:!0}),Ve("design:type",Boolean)],kl.prototype,"showSaveState",void 0),kl=We([pt({name:"save-area",components:{}})],kl);var Sl=kl,El=Sl,Tl=n(331),Rl=n.n(Tl),Ol=Rl(),Dl=_t(El,Cl,xl,!1,null,null,null);"function"===typeof Ol&&Ol(Dl);var Nl=Dl.exports;let Al=class extends(Ge()){selectedCriterium=null;dataConnector=null;rubric=null;errorCode=null;showResetWeightsDialog=!1;rubricData;apiConfig;version;uiState;get newWeightsImageURL(){return window.newWeightsImageURL||""}get showSplitView(){return this.uiState.showSplitView}set showSplitView(e){this.uiState.showSplitView=e}get showLevelDescriptions(){return this.uiState.showLevelDescriptions}set showLevelDescriptions(e){this.uiState.showLevelDescriptions=e}selectCriterium(e){this.selectedCriterium=e,this.uiState.selectedCriterium=e?e.id:""}showResettingWeights(){"/levels"!==this.$router.currentRoute.path&&this.$router.push({path:"/levels"}),this.showResetWeightsDialog=!0}resetAbsoluteWeights(){this.dataConnector?.resetRubricAbsoluteWeights(),this.showResetWeightsDialog=!1}get content(){return this.uiState.content}set content(e){this.uiState.content=e}setError(e){this.errorCode=e}mounted(){if(this.rubricData){if(this.rubric=ze.fromJSON(this.rubricData),this.uiState.selectedCriterium){const e=this.rubric.getAllCriteria().find((e=>e.id===this.uiState.selectedCriterium));e?this.selectedCriterium=e:this.uiState.selectedCriterium=""}this.dataConnector=new ls(this.rubric,this.apiConfig,this.rubricData.rubric_data_id,this.version),this.dataConnector.addErrorListener(this),this.rubric.useScores&&!this.rubric.useRelativeWeights&&(this.rubric.hasAbsoluteWeights=ze.usesAbsoluteWeights(this.rubric))}}beforeDestroy(){this.rubric&&this.$emit("rubric-updated",this.rubric)}};We([gt({type:Object,default:null}),Ve("design:type",Object)],Al.prototype,"rubricData",void 0),We([gt({type:Object,default:null}),Ve("design:type",Object)],Al.prototype,"apiConfig",void 0),We([gt({type:Number,default:null}),Ve("design:type",Object)],Al.prototype,"version",void 0),We([gt({type:Object}),Ve("design:type",Object)],Al.prototype,"uiState",void 0),Al=We([pt({components:{ScoreRubricView:Fa,RubricBuilderFull:_l,SaveArea:Nl}})],Al);var $l=Al,jl=$l,Ll=n(503),Il=n.n(Ll),Pl=Il(),Fl=_t(jl,Et,Tt,!1,null,"0f0f1f28",null);"function"===typeof Pl&&Pl(Fl);var Ml=Fl.exports;let ql=class extends(Ge()){uiState={showSplitView:!1,showDefaultFeedbackFields:!1,selectedCriterium:"",selectedClusterView1:"",selectedClusterView2:""};convertedRubricData;apiConfig;version;rubricData;debugServerResponse;created(){this.convertedRubricData=Ne(this.rubricData)}};We([gt({type:Object,required:!0}),Ve("design:type",Object)],ql.prototype,"apiConfig",void 0),We([gt({type:Number,required:!0}),Ve("design:type",Number)],ql.prototype,"version",void 0),We([gt({type:Object,required:!0}),Ve("design:type",Object)],ql.prototype,"rubricData",void 0),We([gt({type:Boolean,default:!1}),Ve("design:type",Boolean)],ql.prototype,"debugServerResponse",void 0),ql=We([pt({components:{RubricBuilder:Ml}})],ql);var zl=ql,Bl=zl,Ul=_t(Bl,kt,St,!1,null,null,null),Wl=Ul.exports,Vl=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.rubric?t("div",{attrs:{id:"app"}},[t("rubric-entry",{attrs:{rubric:e.rubric,preview:!0,"ui-state":e.uiState}})],1):e._e()},Hl=[],Gl=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"rubric",class:[{"is-demo-inactive":this.options.isDemo&&!this.options.evaluator},e.useScores?"mod-scores":"mod-grades",{"mod-rel-weights":e.useScores&&e.rubric.useRelativeWeights,"mod-abs-weights":e.useScores&&e.rubric.hasAbsoluteWeights}],style:{"--num-cols":e.rubric.maxNumLevels},on:{click:function(e){e.stopPropagation()}}},[t("ul",{staticClass:"rubric-tools"},[e._t("demoEvaluator"),t("li",{staticClass:"app-tool-item",class:{"is-demo-inactive":this.options.isDemo&&!this.options.evaluator}},[t("button",{staticClass:"btn-check",class:{checked:e.showDefaultFeedbackFields},attrs:{"aria-label":e.$t("show-default-descriptions"),"aria-expanded":e.showDefaultFeedbackFields?"true":"false"},on:{click:function(t){return t.preventDefault(),e.toggleDefaultFeedbackFields.apply(null,arguments)}}},[t("span",{staticClass:"lbl-check",attrs:{tabindex:"-1"}},[t("i",{staticClass:"btn-icon-check fa",attrs:{"aria-hidden":"true"}}),e._v(e._s(e.options.isDemo?e.$t("feedback"):e.$t("expand-all")))])])])],2),e.rubric.useWeights?t("div",{staticClass:"treenode-weight-header mod-show"},[t("span",[e._v(e._s(e.$t("weight")))])]):e._e(),e.rubric.hasCustomLevels?e._e():[t("ul",{staticClass:"rubric-header mod-show rb-md-max:col-start-1"},e._l(e.rubric.rubricLevels,(function(i){return t("li",{staticClass:"rubric-header-title"},[e._v(e._s(i.title))])})),0),t("div",{staticClass:"rubric-header-fill"})],e._l(e.getClusterRowsData(e.rubric),(function({cluster:i,ext:r,evaluation:n,score:o}){return[t("div",{staticClass:"treenode-title-header rb-lg:col-start-1 rb-md-max:col-span-full",class:{"is-highlighted":e.highlightedTreeNode===i},on:{mouseover:function(t){e.highlightedTreeNode=i},mouseout:function(t){e.highlightedTreeNode=null}}},[t("h1",{staticClass:"treenode-title cluster-title"},[e._v(e._s(i.title))]),e.preview||e.showDefaultFeedbackFields?e._e():t("button",{staticClass:"btn-show",attrs:{"aria-label":e.$t("show-default-description"),title:e.$t("show-default-description")},on:{click:function(e){e.preventDefault(),r.showDefaultFeedback=!r.showDefaultFeedback}}},[t("i",{staticClass:"btn-icon-show-feedback fa",class:{"is-feedback-visible":e.showDefaultFeedbackFields||r.showDefaultFeedback},attrs:{tabindex:"-1","aria-hidden":"true"}})])]),!e.preview&&n&&(e.showDefaultFeedbackFields||r.showDefaultFeedback)?t("div",{staticClass:"treenode-custom-feedback rb-md:col-start-1 rb-sm:col-span-full",class:e.rubric.useWeights?"rb-lg:col-start-3":"rb-lg:col-start-2",on:{mouseover:function(t){e.highlightedTreeNode=i},mouseout:function(t){e.highlightedTreeNode=null}}},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:n.feedback,expression:"evaluation.feedback"}],staticClass:"ta-custom-feedback",attrs:{placeholder:e.$t("extra-feedback")},domProps:{value:n.feedback},on:{input:[function(t){t.target.composing||e.$set(n,"feedback",t.target.value)},function(t){return e.onTreeNodeFeedbackChanged(n)}]}})]):e._e(),e._l(e.getCategoryRowsData(i),(function({category:i,ext:r,evaluation:n}){return[i.title?t("div",{staticClass:"treenode-title-header mod-category has-category rb-lg:col-start-1 rb-md-max:col-span-full",class:{"is-highlighted":e.highlightedTreeNode===i},style:`--category-color: ${i.title&&i.color?i.color:"#999"}`,on:{mouseover:function(t){e.highlightedTreeNode=i},mouseout:function(t){e.highlightedTreeNode=null}}},[t("div",{staticClass:"treenode-title-header-pre mod-category",class:{"mod-no-color":!i.color}}),t("h2",{staticClass:"treenode-title category-title"},[e._v(e._s(i.title))]),e.preview||e.showDefaultFeedbackFields?e._e():t("button",{staticClass:"btn-show",attrs:{"aria-label":e.$t("show-default-description"),title:e.$t("show-default-description")},on:{click:function(e){e.preventDefault(),r.showDefaultFeedback=!r.showDefaultFeedback},mouseover:function(t){e.highlightedTreeNode=i},mouseout:function(t){e.highlightedTreeNode=null}}},[t("i",{staticClass:"btn-icon-show-feedback fa",class:{"is-feedback-visible":e.showDefaultFeedbackFields||r.showDefaultFeedback},attrs:{tabindex:"-1","aria-hidden":"true"}})])]):e._e(),!e.preview&&n&&i.title&&(e.showDefaultFeedbackFields||r.showDefaultFeedback)?t("div",{staticClass:"treenode-custom-feedback rb-md:col-start-1 rb-sm:col-span-full",class:e.rubric.useWeights?"rb-lg:col-start-3":"rb-lg:col-start-2"},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:n.feedback,expression:"evaluation.feedback"}],staticClass:"ta-custom-feedback",attrs:{placeholder:e.$t("extra-feedback")},domProps:{value:n.feedback},on:{input:[function(t){t.target.composing||e.$set(n,"feedback",t.target.value)},function(t){return e.onTreeNodeFeedbackChanged(n)}]}})]):e._e(),e._l(e.getCriteriumRowsData(i),(function({criterium:r,ext:n,evaluation:o,score:s}){return[t("div",{staticClass:"treenode-title-header rb-lg:col-start-1 rb-md-max:col-span-full",class:{"is-feedback-visible":e.showDefaultFeedbackFields||n.showDefaultFeedback,"is-highlighted":e.highlightedTreeNode===r,"has-category":!!i.title},style:`--category-color: ${i.title&&i.color?i.color:"#999"}`,on:{mouseover:function(t){e.highlightedTreeNode=r},mouseout:function(t){e.highlightedTreeNode=null}}},[t("div",{staticClass:"treenode-title-header-pre mod-criterium"}),t("h3",{staticClass:"treenode-title criterium-title u-markdown-criterium",class:{"mod-no-category":!i.title},attrs:{id:`criterium-${r.id}-title`},domProps:{innerHTML:e._s(r.toMarkdown())}}),e.showDefaultFeedbackFields?e._e():t("button",{staticClass:"btn-show",attrs:{"aria-label":e.$t("show-default-description"),title:e.$t("show-default-description")},on:{click:function(e){e.preventDefault(),n.showDefaultFeedback=!n.showDefaultFeedback}}},[t("i",{staticClass:"btn-icon-show-feedback fa",class:{"is-feedback-visible":e.showDefaultFeedbackFields||n.showDefaultFeedback},attrs:{tabindex:"-1","aria-hidden":"true"}})])]),e.rubric.useWeights?t("div",{staticClass:"treenode-weight mod-pad"},[t("span",{staticClass:"treenode-weight-title"},[e._v(e._s(e.$t("weight"))+": ")]),t("span",[e._v(e._s(e._f("formatNum")(e.rubric.hasAbsoluteWeights&&e.rubric.filterLevelsByCriterium(r).length?100:e.rubric.getCriteriumWeight(r))))]),t("span",{staticClass:"sr-only"},[e._v("%")]),t("i",{staticClass:"fa fa-percent",attrs:{"aria-hidden":"true"}})]):e._e(),t("div",{staticClass:"treenode-rubric-input rb-md:col-start-1 rb-sm:col-span-full",on:{mouseover:function(t){e.highlightedTreeNode=r},mouseout:function(t){e.highlightedTreeNode=null}}},[t("tree-node-entry",{attrs:{rubric:e.rubric,ext:n,evaluation:o,preview:e.preview,"show-default-feedback-fields":e.showDefaultFeedbackFields},on:{select:e.selectLevel,deselect:e.deselectLevel,"range-level-score":e.updateRangeLevelScore}}),o&&(e.showDefaultFeedbackFields||n.showDefaultFeedback)?t("div",{staticClass:"treenode-custom-feedback rb-md:col-start-1 rb-sm:col-span-full"},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:o.feedback,expression:"evaluation.feedback"}],staticClass:"ta-custom-feedback",attrs:{placeholder:e.$t("extra-feedback")},domProps:{value:o.feedback},on:{input:[function(t){t.target.composing||e.$set(o,"feedback",t.target.value)},function(t){return e.onTreeNodeFeedbackChanged(o)}]}})]):e._e()],1),e.useScores?t("div",{staticClass:"rb-sm:col-start-2"},[t("div",{staticClass:"treenode-score-calc mod-criterium",class:{"mod-empty":e.preview||null===s}},[t("span",{staticClass:"sr-only"},[e._v(e._s(e.$t("total"))+":")]),t("score-display",{attrs:{score:e.preview?null:s,percent:e.rubric.useRelativeWeights,"is-invalid":e.hasRangeError(o)}}),e._v(" "),e.rubric.useRelativeWeights?e._e():t("span",{staticClass:"sr-only"},[e._v(e._s(e.$t("points")))])],1)]):e._e()]}))]})),e.useScores?[t("div",{staticClass:"total-title rb-md-max:col-start-1",class:e.rubric.useWeights?"rb-lg:col-start-3":"rb-lg:col-start-2"},[e._v(e._s(e.$t("total"))+" "+e._s(e.$t("subsection"))+":")]),t("div",{staticClass:"treenode-score-calc mod-cluster",class:{"mod-empty":e.preview||null===o}},[t("score-display",{attrs:{score:e.preview?null:o,percent:e.rubric.useRelativeWeights}}),e._v(" "),e.rubric.useRelativeWeights?e._e():t("span",{staticClass:"sr-only"},[e._v(e._s(e.$t("points")))])],1)]:e._e(),t("div",{staticClass:"cluster-sep",class:{"mod-hide-last":e.useGrades}})]})),e._t("slot-inner"),e.useScores?[t("div",{staticClass:"total-title rb-md-max:col-start-1",class:e.rubric.useWeights?"rb-lg:col-start-3":"rb-lg:col-start-2"},[e._v(e._s(e.$t("total"))+" "+e._s(e.$t("rubric"))+":")]),t("div",{staticClass:"treenode-score-calc mod-rubric",class:{"mod-empty":e.preview||null===e.rubricEvaluation.getRubricScore()}},[t("score-display",{attrs:{score:e.preview?null:e.rubricEvaluation.getRubricScore(),percent:e.rubric.useRelativeWeights}}),e._v(" "),e.rubric.useRelativeWeights?e._e():t("span",{staticClass:"sr-only"},[e._v(e._s(e.$t("points")))])],1),e.rubric.useRelativeWeights?e._e():[t("div",{staticClass:"total-title rb-md-max:col-start-1",class:e.rubric.useWeights?"rb-lg:col-start-3":"rb-lg:col-start-2"},[e._v("Maximum:")]),t("div",{staticClass:"treenode-score-calc mod-rubric-max"},[t("score-display",{attrs:{score:e.rubric.getMaximumScore()}}),e._v(" "),t("span",{staticClass:"sr-only"},[e._v(e._s(e.$t("points")))])],1)]]:e._e()],2)},Jl=[],Xl=function(){var e=this,t=e._self._c;e._self._setupProxy;return null!==e.score?t("span",{style:e.isInvalid?"color: #e10505":""},[e.isInvalid?t("i",{staticClass:"fa fa-warning",staticStyle:{"font-size":".8125rem","margin-right":".1875rem"},attrs:{"aria-hidden":"true"}}):e._e(),e._v(e._s(this.score.toLocaleString(void 0,{maximumFractionDigits:2}))),e.percent?[t("span",{staticClass:"sr-only"},[e._v("%")]),t("i",{staticClass:"fa fa-percent",attrs:{"aria-hidden":"true"}})]:e._e()],2):t("span",{attrs:{"aria-hidden":"true"},domProps:{innerHTML:e._s("&nbsp;")}})},Yl=[];let Kl=class extends(Ge()){score;percent;isInvalid};We([gt({type:Number,required:!0}),Ve("design:type",Object)],Kl.prototype,"score",void 0),We([gt({type:Boolean,default:!1}),Ve("design:type",Boolean)],Kl.prototype,"percent",void 0),We([gt({type:Boolean,default:!1}),Ve("design:type",Boolean)],Kl.prototype,"isInvalid",void 0),Kl=We([pt({})],Kl);var Ql,Zl,ec,tc=Kl,ic=tc,rc=_t(ic,Xl,Yl,!1,null,null,null),nc=rc.exports,oc=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"treenode-choices"},[e._l(e.entryChoices,(function({level:i,title:r,description:n,score:o,markdown:s,isSelected:a}){return t("div",{staticClass:"treenode-choice",class:{"mod-show-description":e.showDescription,"mod-empty-description":e.showDescription&&!n}},[t(e.preview?"div":"button",{tag:"component",staticClass:"treenode-level",class:{"mod-fixed-levels":!e.rubric.hasCustomLevels,"is-selected":a,"mod-btn":!e.preview,"mod-error":e.hasLevelError(i)},attrs:{disabled:e.hasLevelError(i)},on:{click:function(t){return t.stopPropagation(),e.onSelect(i)}}},[t("span",{staticClass:"treenode-level-title",class:{"mod-fixed-levels":!e.rubric.hasCustomLevels}},[e._v(e._s(r))]),e.useScores?t("span",{staticClass:"treenode-level-score"},[i.useRangeScore?[e._v(e._s(e._f("formatNum")(i.minimumScore))+" "),t("i",{staticClass:"fa fa-caret-right"})]:e._e(),e._v(" "+e._s(e._f("formatNum")(o))),e.rubric.useRelativeWeights?[t("span",{staticClass:"sr-only"},[e._v("%")]),t("i",{staticClass:"fa fa-percent",attrs:{"aria-hidden":"true"}})]:t("span",{staticClass:"sr-only"},[e._v(e._s(e.$t("points")))])],2):t("span",[t("i",{staticClass:"treenode-level-icon-check fa fa-check",class:{"is-selected":a}})])]),!e.preview&&e.useScores&&i.useRangeScore&&a?t("div",{staticClass:"manual-score-wrap",class:{"mod-desc":e.showDescription}},[t("div",{staticClass:"manual-score",on:{click:function(e){e.stopPropagation()}}},[t("label",{attrs:{for:"adjusted-score"}},[e._v(e._s(e.$t("adjusted-score"))+":")]),t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.evaluation.score,expression:"evaluation.score",modifiers:{number:!0}}],ref:"manual-score",refInFor:!0,staticClass:"input-detail mod-range",attrs:{id:"adjusted-score",type:"number",min:i.minimumScore,max:i.score,required:"",step:"1"},domProps:{value:e.evaluation.score},on:{input:[function(t){t.target.composing||e.$set(e.evaluation,"score",e._n(t.target.value))},function(t){return e.onUpdateRangeScore(i)}],blur:function(t){return e.$forceUpdate()}}})])]):e._e(),e.showDescription?[n?t("div",{staticClass:"treenode-level-description is-feedback-visible",domProps:{innerHTML:e._s(s)}}):t("div",{staticClass:"treenode-level-description mod-no-default-feedback is-feedback-visible"},[t("em",[e._v(e._s(e.$t("no-description")))])])]:e._e()],2)})),e.preview?e._e():t("button",{staticClass:"btn-deselect",class:{"is-active":e.hasSelection},attrs:{title:e.$t("deselect"),disabled:!e.hasSelection},on:{click:function(t){return t.stopPropagation(),e.onDeselect.apply(null,arguments)}}},[t("i",{staticClass:"gg-backspace",attrs:{"aria-hidden":"true"}}),t("span",{staticClass:"sr-only"},[e._v(e._s(e.$t("deselect")))])])],2)},sc=[];function ac(e,t){return"string"===typeof e&&(e=0),"string"===typeof t&&(t=0),e+t}(function(e){e[e["Entry"]=0]="Entry",e[e["Result"]=1]="Result"})(Ql||(Ql={}));class lc{mode;rubric;evaluators=[];treeNodeResults=[];treeNodeEvaluations=[];constructor(e,t,i={}){this.mode=e,this.rubric=t,e===Ql.Entry?i.treeNodeEvaluations&&(this.treeNodeEvaluations=i.treeNodeEvaluations):e===Ql.Result&&(i.evaluators&&(this.evaluators=i.evaluators),i.treeNodeResults&&(this.treeNodeResults=i.treeNodeResults))}static fromEntry(e,t){return new lc(Ql.Entry,e,{treeNodeEvaluations:t})}static fromResults(e,t,i){return new lc(Ql.Result,e,{evaluators:t,treeNodeResults:i})}static fromRubricResults(e,t){const i=t.map((e=>({resultId:e.result_id,userId:e.user.id,name:e.user.name,role:e.user.role,date:e.date}))),r=t.map((e=>e.results)),n=e.getAllTreeNodes().map((t=>{const n={treeNode:t,level:null,score:0,feedback:""},o=i.map(((i,o)=>{const s={...n},a=r[o],l=a.find((e=>String(e["tree_node_id"])===t.id));if(l){const t=e.levels.find((e=>e.id===String(l["level_id"])));s.level=t||null,s.score="number"===typeof l.score?l.score:null,s.feedback=l.comment}return{evaluator:i,treeNodeEvaluation:s}}));return{treeNode:t,evaluations:o}}));return this.fromResults(e,i,n)}getEvaluators(){return this.evaluators}getCriteriumScore(e,t=void 0){const i=this.getTreeNodeEvaluation(e,t)?.score;return void 0===i?null:i}getCategoryScore(e,t=void 0){if(this.mode===Ql.Result){if("number"===typeof t?.score)return t.score;if(null===t?.score)return null}return this.getCriteriaScore(this.rubric.getAllCriteria(e),t?.evaluator)}getClusterScore(e,t=void 0){if(this.mode===Ql.Result){if("number"===typeof t?.score)return t.score;if(null===t?.score)return null}return this.getCriteriaScore(this.rubric.getAllCriteria(e),t?.evaluator)}getRubricScore(e=void 0){const t=this.getTreeNodeEvaluation(this.rubric,e)?.score;if(this.mode===Ql.Result){if("number"===typeof t)return t;if(null===t)return null}return this.getCriteriaScore(this.rubric.getAllCriteria(),e)}getCriteriaScore(e,t=void 0){if(!e.length)return 0;if(e.find((e=>null===this.getCriteriumScore(e,t))))return null;if(!this.rubric.useRelativeWeights)return e.map((e=>this.getCriteriumScore(e,t))).reduce(ac,0);const i=this.rubric.eqRestWeightPrecise,r=e.map((e=>{const r=null===e.rel_weight?i:e.rel_weight;return{weight:r,score:this.getCriteriumScore(e,t)*(r/100)}})),n=r.map((e=>e.weight)).reduce(ac,0);if(!n)return 0;const o=r.map((e=>e.score)).reduce(ac,0);return o/n*100}getTreeNodeResult(e){const t=this.treeNodeResults.find((t=>t.treeNode===e));if(!t)throw new Error(`No data found for: ${e}`);return t}getTreeNodeEvaluation(e,t=void 0){if(this.mode===Ql.Entry)return this.treeNodeEvaluations.find((t=>t.treeNode===e))||null;{const i=this.getTreeNodeResult(e).evaluations.find((e=>e.evaluator===t));if(!i)throw new Error(`No evaluation found for: ${e} and evaluator: ${t&&t.name}`);return i.treeNodeEvaluation}}getEvaluations(e){return this.getTreeNodeResult(e).evaluations.map((e=>({evaluator:e.evaluator,...e.treeNodeEvaluation})))}static isInvalidEvaluation(e){if(!e)return!1;if(null===e.score)return!1;const t=e.level;return!!t&&(!!t.useRangeScore&&(null===t.minimumScore||(e.score<t.minimumScore||e.score>t.score)))}}let cc=class extends(Ge()){rubric;ext;evaluation;preview;showDefaultFeedbackFields;get hasLevels(){return!!this.ext.levels.length}get useScores(){return this.rubric.useScores}get showDescription(){return this.showDefaultFeedbackFields||this.ext.showDefaultFeedback}get chosenLevel(){return this.preview?null:this.evaluation?.level||null}get entryChoices(){return this.hasLevels?this.ext.levels.map((e=>new il(e,this.chosenLevel))):this.ext.choices.map((e=>new rl(e,this.chosenLevel,!this.rubric.useRelativeWeights)))}get hasRangeError(){return lc.isInvalidEvaluation(this.evaluation)}get hasSelection(){return this.entryChoices.find((e=>e?.isSelected))}hasLevelError(e){return!!e.useRangeScore&&(null===e.minimumScore||e.minimumScore>=e.score)}onSelect(e){this.preview||(this.$emit("select",this.evaluation,e),this.$nextTick((()=>{if(!this.$refs["manual-score"])return;const e=this.$refs["manual-score"];e[0]?.focus(),e[0]?.select()})))}onDeselect(){this.preview||this.$emit("deselect",this.evaluation)}onUpdateRangeScore(e){this.preview||this.$emit("range-level-score",this.evaluation,e)}};We([gt({type:ze,required:!0}),Ve("design:type","function"===typeof(Zl="undefined"!==typeof ze&&ze)?Zl:Object)],cc.prototype,"rubric",void 0),We([gt({type:Object,required:!0}),Ve("design:type","function"===typeof(ec="undefined"!==typeof t.TreeNodeExt&&t.TreeNodeExt)?ec:Object)],cc.prototype,"ext",void 0),We([gt({type:Object,default:null}),Ve("design:type",Object)],cc.prototype,"evaluation",void 0),We([gt({type:Boolean,default:!1}),Ve("design:type",Boolean)],cc.prototype,"preview",void 0),We([gt({type:Boolean,default:!1}),Ve("design:type",Boolean)],cc.prototype,"showDefaultFeedbackFields",void 0),cc=We([pt({filters:{formatNum:function(e){return null===e?"":e.toLocaleString(void 0,{maximumFractionDigits:2})}}})],cc);var uc=cc,dc=uc,hc=n(633),pc=n.n(hc),fc=pc(),mc=_t(dc,oc,sc,!1,null,"619826ea",null);"function"===typeof fc&&fc(mc);var gc,vc=mc.exports;let bc=class extends(Ge()){treeNodeData=[];highlightedTreeNode=null;rubric;rubricEvaluation;uiState;options;preview;showErrors;existingResult;get useScores(){return this.rubric.useScores}get useGrades(){return!this.rubric.useScores}getClusterRowsData(e){return e.clusters.filter((e=>e.hasChildren())).map((e=>({cluster:e,score:this.preview?0:this.rubricEvaluation?.getClusterScore(e),...this.getTreeNodeRowData(e)})))}getCategoryRowsData(e){return e.categories.filter((e=>e.hasChildren())).map((e=>({category:e,...this.getTreeNodeRowData(e)})))}getCriteriumRowsData(e){return e.criteria.map((e=>({criterium:e,score:this.preview?0:this.rubricEvaluation?.getCriteriumScore(e),...this.getTreeNodeRowData(e)})))}getTreeNodeRowData(e){return{ext:this.getTreeNodeData(e),evaluation:this.preview?null:this.rubricEvaluation?.getTreeNodeEvaluation(e)}}get showDefaultFeedbackFields(){return this.uiState.showDefaultFeedbackFields}toggleDefaultFeedbackFields(){const e=this.uiState.showDefaultFeedbackFields=!this.uiState.showDefaultFeedbackFields;e||this.rubric.getAllCriteria().forEach((e=>{this.getTreeNodeData(e).showDefaultFeedback=!1}))}onTreeNodeFeedbackChanged(e){e&&this.$emit("criterium-feedback-changed",e.treeNode,e.feedback)}isSelected(e,t){const i=t.isDefault;if(!this.rubricEvaluation)return i;const r=this.rubricEvaluation.getTreeNodeEvaluation(e);return r&&r.level?r.level===t:i}selectLevel(e,t){if(this.preview)return;if(e.level===t)return;e.level=t;const i=e.treeNode;this.rubric.useScores&&(this.rubric.useRelativeWeights||t.criteriumId===i.id?e.score=t.score:e.score=this.rubric.getChoiceScore(i,t)),this.$emit("level-selected",e.treeNode,t)}deselectLevel(e){this.preview||null!==e.level&&(e.level=null,e.score=null,this.$emit("level-selected",e.treeNode,null))}updateRangeLevelScore(e,t){this.preview||e.level===t&&this.$emit("level-selected",e.treeNode,t)}getTreeNodeData(e){return this.treeNodeData.find((t=>t.treeNode===e))||null}hasRangeError(e){return lc.isInvalidEvaluation(e)}initData(){const e=this.rubric;if(this.treeNodeData=e.getAllTreeNodes().map((t=>{if(t instanceof je){const i=e.filterLevelsByCriterium(t);if(i.length)return{treeNode:t,levels:i,choices:[],showDefaultFeedback:!1};{const i=e.rubricLevels.map((i=>{const r=e.getChoice(t,i),n=e.getChoiceScore(t,i);return{title:i.title,feedback:r?.feedback||"",score:n,choice:r,level:i}}));return{treeNode:t,levels:[],choices:i,showDefaultFeedback:!1}}}return{treeNode:t,levels:[],choices:[],showDefaultFeedback:!1}})),e.useScores&&!e.useRelativeWeights&&(e.hasAbsoluteWeights=ze.usesAbsoluteWeights(e)),this.existingResult&&this.rubricEvaluation){const t=this.existingResult.results,i=this.rubricEvaluation;this.rubric.getAllTreeNodes().forEach((r=>{const n=t.find((e=>e.tree_node_id===parseInt(r.id))),o=i.getTreeNodeEvaluation(r);if(n&&o&&(n.comment&&(o.feedback=n.comment),"criterium"===r.getType()))if(n.level_id){const t=e.levels.find((e=>n.level_id===parseInt(e.id)));t&&(this.selectLevel(o,t),o.score=n.score)}else this.deselectLevel(o),o.score=null})),this.$emit("level-selected")}}created(){this.initData()}};We([gt({type:ze}),Ve("design:type","function"===typeof(gc="undefined"!==typeof ze&&ze)?gc:Object)],bc.prototype,"rubric",void 0),We([gt({type:lc}),Ve("design:type",Object)],bc.prototype,"rubricEvaluation",void 0),We([gt({type:Object}),Ve("design:type",Object)],bc.prototype,"uiState",void 0),We([gt({type:Object,default:()=>({})}),Ve("design:type",Object)],bc.prototype,"options",void 0),We([gt({type:Boolean,default:!1}),Ve("design:type",Boolean)],bc.prototype,"preview",void 0),We([gt({type:Boolean,default:!1}),Ve("design:type",Boolean)],bc.prototype,"showErrors",void 0),We([gt({type:Object,default:null}),Ve("design:type",Object)],bc.prototype,"existingResult",void 0),bc=We([pt({components:{ScoreDisplay:nc,TreeNodeEntry:vc},filters:{formatNum:function(e){return e.toLocaleString(void 0,{maximumFractionDigits:2})}}})],bc);var yc=bc,wc=yc,_c=n(936),Cc=n.n(_c),xc=Cc(),kc=_t(wc,Gl,Jl,!1,null,"3863a76a",null);"function"===typeof xc&&xc(kc);var Sc=kc.exports;let Ec=class extends(Ge()){rubric;uiState={showDefaultFeedbackFields:!1};rubricData;created(){const e=Ne(this.rubricData);this.rubric=ze.fromJSON(e)}};We([gt({type:Object,required:!0}),Ve("design:type",Object)],Ec.prototype,"rubricData",void 0),Ec=We([pt({components:{RubricEntry:Sc}})],Ec);var Tc=Ec,Rc=Tc,Oc=_t(Rc,Vl,Hl,!1,null,null,null),Dc=Oc.exports,Nc=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.rubric?t("div",{attrs:{id:"app"}},[t("rubric-entry",{attrs:{rubric:e.rubric,"rubric-evaluation":e.rubricEvaluation,"existing-result":e.existingResult,"ui-state":e.uiState,"show-errors":e.showErrors},on:{"level-selected":e.updateRubricResults,"criterium-feedback-changed":e.updateRubricResults},scopedSlots:e._u([{key:"slot-inner",fn:function(){return[e._t("slot-outer")]},proxy:!0}],null,!0)})],1):e._e()},Ac=[];let $c=class extends(Ge()){rubric;uiState={showDefaultFeedbackFields:!1};treeNodeEvaluations=[];rubricEvaluation=null;rubricData;rubricResults;showErrors;existingResult;updateRubricResults(){null!==this.rubricResults&&(this.rubricResults.results=this.treeNodeEvaluations.map((e=>{const t=e.treeNode,i={tree_node_id:parseInt(t.id),level_id:null!==e.level?parseInt(e.level.id):null,comment:e.feedback.length>0?e.feedback:null,type:t.getType()};return this.rubric.useScores&&"criterium"===t.getType()&&e.level?.useRangeScore&&(i.score=e.score,(i.score<e.level?.minimumScore||i.score>e.level?.score)&&(i.error="range")),i})))}getCriteriumDefaultLevel(e,t,i){const r=e.filterLevelsByCriterium(t);return r.length?r.find((e=>e.isDefault))||null:i}getCriteriumDefaultScore(e,t,i){return i?i.criteriumId?i.score:e.getChoiceScore(t,i):null}initData(){const e=Ne(this.rubricData),t=this.rubric=ze.fromJSON(e),i=t.rubricLevels.find((e=>e.isDefault))||null;this.treeNodeEvaluations=t.getAllTreeNodes().map((e=>{if(e instanceof je){const r=this.getCriteriumDefaultLevel(t,e,i),n=this.getCriteriumDefaultScore(t,e,r);return{treeNode:e,level:r,score:n,feedback:""}}return{treeNode:e,level:null,score:null,feedback:""}})),this.rubricEvaluation=lc.fromEntry(t,this.treeNodeEvaluations),this.updateRubricResults()}created(){this.initData()}};We([gt({type:Object,required:!0}),Ve("design:type",Object)],$c.prototype,"rubricData",void 0),We([gt({type:Object,default:null}),Ve("design:type",Object)],$c.prototype,"rubricResults",void 0),We([gt({type:Boolean,default:!1}),Ve("design:type",Boolean)],$c.prototype,"showErrors",void 0),We([gt({type:Object,default:null}),Ve("design:type",Object)],$c.prototype,"existingResult",void 0),$c=We([pt({components:{RubricEntry:Sc}})],$c);var jc,Lc=$c,Ic=Lc,Pc=_t(Ic,Nc,Ac,!1,null,null,null),Fc=Pc.exports,Mc=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.rubric?t("div",{attrs:{id:"app"}},[t("rubric-result",{attrs:{rubric:e.rubric,"rubric-evaluation":e.rubricEvaluation,"rubric-entry-url":e.rubricEntryUrl,"can-create-from-existing-rubric":e.canCreateFromExistingRubric}})],1):e._e()},qc=[],zc=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.rubric&&e.evaluators.length?t("div",{staticClass:"rubric-results-view"},[t("div",{staticClass:"rubric",class:e.showRelativeScores?"mod-res-w":"mod-res",style:{"--num-cols":e.evaluators.length+(e.useAbsoluteScores?1:0)},on:{click:function(t){t.stopPropagation(),e.selectedTreeNode=null}}},[e.canCreateFromExistingRubric?t("div",{staticStyle:{"grid-column":"1 / -1","white-space":"nowrap","background-color":"#f4fffc","border-radius":"3px",padding:"1em"}},[t("button",{staticClass:"btn-check",class:{checked:e.createFromExisting},on:{click:function(t){t.stopPropagation(),e.createFromExisting=!e.createFromExisting}}},[t("span",{staticClass:"lbl-check",attrs:{tabindex:"-1"}},[t("i",{staticClass:"btn-icon-check fa",attrs:{"aria-hidden":"true"}}),e._v(e._s(e.$t("create-from-existing-rubric")))])])]):e._e(),e.useRelativeScores?t("ul",{staticClass:"rubric-tools",staticStyle:{"padding-left":"1em"}},[t("li",{staticClass:"app-tool-item"},[t("button",{staticClass:"btn-check",class:{checked:e.showScores},on:{click:function(t){t.stopPropagation(),e.showScores=!e.showScores}}},[t("span",{staticClass:"lbl-check",attrs:{tabindex:"-1"}},[t("i",{staticClass:"btn-icon-check fa",attrs:{"aria-hidden":"true"}}),e._v(e._s(e.$t("numbers-display")))])])])]):e._e(),e.showRelativeScores?t("div",{staticClass:"treenode-weight-header rb-col-start-2"},[t("span",[e._v(e._s(e.$t("weight")))])]):e._e(),e.showRubricHeader?t("ul",{staticClass:"rubric-header",class:e.showRelativeScores?"rb-col-start-3":"rb-col-start-2"},[e._l(e.evaluators,(function(i){return t("li",{staticClass:"rubric-header-title mod-res",class:{"mod-grades":e.useGradesMode},attrs:{title:i.name}},[e._v(e._s(e._f("capitalize")(i.name)))])})),e.useAbsoluteScores?t("li",{staticClass:"rubric-header-title mod-res mod-max"},[e._v("Max.")]):e._e()],2):e._e(),e.showRubricHeader?t("ul",{staticClass:"rubric-header mod-date",class:e.showRelativeScores?"rb-col-start-3":"rb-col-start-2"},[e._l(e.evaluators,(function(i){return t("li",{staticClass:"rubric-header-date",class:{"mod-grades":e.useGradesMode},attrs:{title:i.name}},[e._v(e._s(e._f("formatDate")(i.date)))])})),e.useAbsoluteScores?t("li",{staticClass:"rubric-header-date mod-max",attrs:{"aria-hidden":"true"}}):e._e()],2):e._e(),e.showRubricHeader&&e.createFromExisting?t("ul",{staticClass:"rubric-header",class:e.showRelativeScores?"rb-col-start-3":"rb-col-start-2",staticStyle:{"margin-top":"-.9375rem","margin-bottom":".3125rem",position:"static","z-index":"29"}},[e._l(e.evaluators,(function(i){return t("li",{staticStyle:{flex:"1"},style:"text-align: "+(e.useGradesMode?"left":"right")},[t("button",{staticClass:"btn btn-sm btn-default",staticStyle:{padding:"0 4px"},on:{click:function(t){return e.copyRubricResults(i.resultId)}}},[e._v(e._s(e.$t("select")))])])})),e.useAbsoluteScores?t("li",{staticClass:"rubric-header-date mod-max",staticStyle:{flex:"1"},attrs:{"aria-hidden":"true"}}):e._e()],2):e._e(),e._l(e.getClusterRowsData(e.rubric),(function({cluster:i,maxScore:r,evaluations:n}){return[t("tree-node-title",{attrs:{rubric:e.rubric,"tree-node":i,options:e.selectOptions}}),t("tree-node-weight",{attrs:{rubric:e.rubric,"tree-node":i,options:e.selectOptions,"show-scores":e.showScores}}),t("tree-node-rubric-results",{attrs:{rubric:e.rubric,"tree-node":i,"rubric-evaluation":e.rubricEvaluation,"max-score":r,options:e.selectOptions,evaluations:n,"show-scores":e.showScores}}),e._l(e.getCategoryRowsData(i),(function({category:r,maxScore:n,evaluations:o},s){return[r.title&&e.rubric.getAllCriteria(r).length>0?[t("tree-node-title",{attrs:{rubric:e.rubric,"tree-node":r,options:e.selectOptions}}),t("tree-node-weight",{attrs:{rubric:e.rubric,"tree-node":r,options:e.selectOptions,"show-scores":e.showScores}}),t("tree-node-rubric-results",{attrs:{rubric:e.rubric,"tree-node":r,"rubric-evaluation":e.rubricEvaluation,"max-score":n,options:e.selectOptions,evaluations:o,"show-scores":e.showScores}})]:e._e(),e._l(e.getCriteriumRowsData(r),(function({criterium:i,maxScore:r,evaluations:n}){return[t("tree-node-title",{attrs:{rubric:e.rubric,"tree-node":i,options:e.selectOptions}}),t("tree-node-weight",{attrs:{rubric:e.rubric,"tree-node":i,options:e.selectOptions,"show-scores":e.showScores}}),t("tree-node-rubric-results",{attrs:{rubric:e.rubric,"tree-node":i,"rubric-evaluation":e.rubricEvaluation,"max-score":r,options:e.selectOptions,evaluations:n,"show-scores":e.showScores}})]})),s<e.getCategoryRowsData(i).length-1?t("div",{staticClass:"category-sep"}):e._e()]})),t("div",{staticClass:"cluster-sep",class:{"mod-hide-last":e.useGradesMode}})]})),e.showTotals?[t("div",{staticClass:"total-title",class:{"mod-res-col":e.showRelativeScores}},[e._v(e._s(e.$t("total"))+" "+e._s(e.$t("rubric"))+":")]),t("tree-node-rubric-results",{attrs:{rubric:e.rubric,"tree-node":e.rubric,"rubric-evaluation":e.rubricEvaluation,"max-score":e.rubric.getMaximumScore(),evaluations:e.evaluators,"show-scores":e.showScores}})]:e._e()],2),e.selectedTreeNode?t("tree-node-results-view",{attrs:{rubric:e.rubric,"tree-node":e.selectedTreeNode,evaluations:e.getTreeNodeRowData(e.selectedTreeNode).evaluations},on:{close:function(t){e.selectedTreeNode=null}}}):e._e()],1):t("div",{staticClass:"alert-rubric-results"},[e._v(e._s(e.$t("no-results-available")))])},Bc=[],Uc=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"selected-treenode-container"},[t("div",{staticClass:"selected-treenode-wrapper"},[t("button",{staticClass:"btn-info-close",attrs:{"aria-label":e.$t("close"),title:e.$t("close")},on:{click:function(t){return e.$emit("close")}}},[t("i",{staticClass:"fa fa-close",attrs:{"aria-hidden":"true"}})]),t("div",{staticClass:"selected-treenode-results"},[t("div",{staticStyle:{display:"flex","flex-direction":"row-reverse",gap:".46875rem","margin-bottom":".625rem"}},[t("div",{staticStyle:{width:"2.1875rem","pointer-events":"all"}},[t("div",{staticClass:"onoffswitch mod-only-feedback"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.showWithFeedbackOnly,expression:"showWithFeedbackOnly"}],staticClass:"onoffswitch-checkbox",attrs:{type:"checkbox",id:"onoffswitch-feedback-only"},domProps:{checked:Array.isArray(e.showWithFeedbackOnly)?e._i(e.showWithFeedbackOnly,null)>-1:e.showWithFeedbackOnly},on:{input:function(t){e.showWithFeedbackOnly=!e.showWithFeedbackOnly},change:function(t){var i=e.showWithFeedbackOnly,r=t.target,n=!!r.checked;if(Array.isArray(i)){var o=null,s=e._i(i,o);r.checked?s<0&&(e.showWithFeedbackOnly=i.concat([o])):s>-1&&(e.showWithFeedbackOnly=i.slice(0,s).concat(i.slice(s+1)))}else e.showWithFeedbackOnly=n}}}),e._m(0)])]),t("span",[e._v(e._s(e.$t("only-feedback")))])]),t("div",{staticClass:"selected-treenode-results-title u-markdown-criterium",domProps:{innerHTML:e._s(e.treeNode.toMarkdown())}}),e.rubric.useScores&&e.rubric.useRelativeWeights?t("div",{staticClass:"selected-treenode-results-weight"},[e._v(e._s(e.$t("weight"))+": "+e._s(e._f("formatNum")(e.relWeight))),t("i",{staticClass:"fa fa-percent",attrs:{"aria-hidden":"true"}}),t("span",{staticClass:"sr-only"},[e._v("%")])]):e._e(),e.filteredEvaluations.length?t("div",{staticClass:"results-details"},e._l(e.filteredEvaluations,(function({evaluator:i,score:r,level:n,feedback:o},s){return t("tree-node-evaluator-results",{key:`${s}-${e.treeNode.id}`,attrs:{rubric:e.rubric,"tree-node":e.treeNode,evaluator:i,score:r,level:n,feedback:o}})})),1):t("span",{staticClass:"m-no-results"},[e._v(e._s(e.$t("no-results")))])])])])},Wc=[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("label",{staticClass:"onoffswitch-label",attrs:{for:"onoffswitch-feedback-only"}},[t("span",{staticClass:"onoffswitch-inner"},[t("span",{staticClass:"onoffswitch-inner-before"},[t("span",{staticStyle:{opacity:"0"}},[e._v("Aan")])]),t("span",{staticClass:"onoffswitch-inner-after"},[t("span",{staticStyle:{opacity:"0"}},[e._v("Uit")])])]),t("span",{staticClass:"onoffswitch-switch"})])}],Vc=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"treenode-evaluator-results"},[t("div",{staticClass:"treenode-evaluator-meta",class:{"mod-btm":!e.isCriterium}},[t("div",{staticClass:"m-flex-1"},[t("span",{staticClass:"treenode-evaluator-name"},[e._v(e._s(e._f("capitalize")(e.evaluator.name)))]),t("time",{staticClass:"treenode-evaluator-date"},[e._v(e._s(e._f("formatDate")(e.evaluator.date,e.$t("date-time-at"))))])]),e.useScores?[null!==e.score?[t("span",{staticClass:"treenode-evaluator-score"},[e._v(e._s(e._f("formatNum")(e.score))),e.useRelativeWeights?[t("i",{staticClass:"fa fa-percent",attrs:{"aria-hidden":"true"}}),t("span",{staticClass:"sr-only"},[e._v("%")])]:e._e()],2),e.useRelativeWeights?t("span",{staticClass:"treenode-evaluator-rel-score",attrs:{title:e.$t("score-weight")}},[e._v(e._s(e._f("formatNum")(e.weightedScore))),e.useRelativeWeights?[t("i",{staticClass:"fa fa-percent",attrs:{"aria-hidden":"true"}}),t("span",{staticClass:"sr-only"},[e._v("%")])]:e._e()],2):e._e()]:t("span",{staticClass:"m-no-score"},[e._v(e._s(e.$t("no-score")))])]:e._e()],2),e.isCriterium?[e.level?[t("div",{staticClass:"treenode-evaluator-level-title"},[e._v(" "+e._s(e.level.title)+" "),e.useScores&&e.level.useRangeScore?t("span",{staticStyle:{color:"#5a92b5"},attrs:{title:`${e.level.minimumScore} > ${e.level.score}`}},[t("i",{staticClass:"fa fa-info-circle"})]):e._e()]),e.treeNodeLevelDescription?t("div",{staticClass:"treenode-evaluator-level-description",domProps:{innerHTML:e._s(e.toMarkDown(e.treeNodeLevelDescription))}}):e._e()]:t("span",{staticClass:"m-no-score"},[e._v(e._s(e.$t("no-level")))])]:e._e(),e.feedback?t("div",{staticClass:"treenode-evaluator-feedback"},[t("i",{staticClass:"fa fa-comment",attrs:{"aria-hidden":"true"}}),t("i",{staticClass:"fa fa-comment-o",attrs:{"aria-hidden":"true"}}),e._v(e._s(e.feedback))]):e._e()],2)},Hc=[];function Gc(e){return`${e<10?"0":""}${e}`}let Jc=class extends(Ge()){rubric;treeNode;evaluator;score;level;feedback;get useScores(){return this.rubric.useScores}get useRelativeWeights(){return this.rubric.useRelativeWeights}get isCriterium(){return this.treeNode instanceof je}get treeNodeLevelDescription(){return null!==this.level&&this.treeNode instanceof je?this.level.criteriumId===this.treeNode.id?this.level.description:this.rubric.getChoice(this.treeNode,this.level).feedback:""}get weightedScore(){return null===this.score?0:this.rubric.getRelativeWeight(this.treeNode)*this.score/100}toMarkDown(e){return Ae(e)}};We([gt({type:ze}),Ve("design:type","function"===typeof(jc="undefined"!==typeof ze&&ze)?jc:Object)],Jc.prototype,"rubric",void 0),We([gt({type:[Ie,Le,je]}),Ve("design:type",Object)],Jc.prototype,"treeNode",void 0),We([gt({type:Object}),Ve("design:type",Object)],Jc.prototype,"evaluator",void 0),We([gt({type:Number,default:null}),Ve("design:type",Object)],Jc.prototype,"score",void 0),We([gt({type:Pe}),Ve("design:type",Object)],Jc.prototype,"level",void 0),We([gt({type:String,default:""}),Ve("design:type",String)],Jc.prototype,"feedback",void 0),Jc=We([pt({filters:{capitalize:function(e){return e?(e=e.toString(),e.charAt(0).toUpperCase()+e.slice(1)):""},formatDate:function(e,t=""){const i=new Date(e);return isNaN(i.getDate())?"":`${Gc(i.getDate())}/${Gc(i.getMonth()+1)}/${i.getFullYear().toString().substr(-2)} ${t} ${Gc(i.getHours())}:${Gc(i.getMinutes())}`},formatNum:function(e){return null===e?"":e.toLocaleString(void 0,{maximumFractionDigits:2})}}})],Jc);var Xc=Jc,Yc=Xc,Kc=n(243),Qc=n.n(Kc),Zc=Qc(),eu=_t(Yc,Vc,Hc,!1,null,"90182e08",null);"function"===typeof Zc&&Zc(eu);var tu,iu=eu.exports;let ru=class extends(Ge()){showWithFeedbackOnly=!1;rubric;treeNode;evaluations;get filteredEvaluations(){return this.showWithFeedbackOnly?this.evaluations.filter((e=>!!e.feedback)):this.evaluations}get isCriterium(){return this.treeNode instanceof je}get relWeight(){return this.rubric.getRelativeWeight(this.treeNode)}};We([gt({type:ze}),Ve("design:type","function"===typeof(tu="undefined"!==typeof ze&&ze)?tu:Object)],ru.prototype,"rubric",void 0),We([gt({type:[Ie,Le,je]}),Ve("design:type",Object)],ru.prototype,"treeNode",void 0),We([gt({type:Array}),Ve("design:type",Array)],ru.prototype,"evaluations",void 0),ru=We([pt({components:{TreeNodeEvaluatorResults:iu},filters:{formatNum:function(e){return null===e?"0":e.toLocaleString(void 0,{maximumFractionDigits:2})}}})],ru);var nu=ru,ou=nu,su=n(501),au=n.n(su),lu=au(),cu=_t(ou,Uc,Wc,!1,null,"b110f6ee",null);"function"===typeof lu&&lu(cu);var uu,du=cu.exports,hu=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"treenode-rubric-results",class:{"rb-col-start-3":e.useScores&&e.rubric.useRelativeWeights&&e.showScores,"is-selected":e.options.selectedTreeNode===e.treeNode,"is-highlighted":e.options.highlightedTreeNode===e.treeNode},on:{click:function(t){t.stopPropagation(),e.options.selectedTreeNode=e.treeNode},mouseover:function(t){e.options.highlightedTreeNode=e.treeNode},mouseout:function(t){e.options.highlightedTreeNode=null}}},[e._l(e.evaluations,(function(i){return t("tree-node-evaluation-display",{attrs:{rubric:e.rubric,"tree-node":e.treeNode,"show-scores":e.showScores,score:e.getScore(i),feedback:i.feedback,"title-overlay":e.getEvaluationTitleOverlay(i),level:i.level||null}})})),e.useAbsoluteScores?t("tree-node-evaluation-display",{class:{"is-selected":e.isCriterium&&e.options.selectedTreeNode===e.treeNode},attrs:{"show-max":"",rubric:e.rubric,"tree-node":e.treeNode,score:e.maxScore}}):e._e()],2)},pu=[],fu=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.showMax?t("div",{staticClass:"treenode-evaluation",class:["mod-"+e.nodeType+"-max"]},[t("score-display",{attrs:{score:e.score}})],1):t("div",{staticClass:"treenode-evaluation",class:["mod-"+e.nodeType,{"mod-incomplete":e.isIncomplete,"mod-grades":e.isGradeMode,"mod-feedback":!!e.feedback}]},[e.feedback?t("i",{staticClass:"treenode-feedback-icon fa fa-info",class:{"mod-cluster":e.isCluster&&!e.isGradeMode&&!e.isIncomplete},attrs:{title:e.titleOverlay}}):e._e(),e.isNA?t("span",{staticClass:"m-not-scored"},[e._v(" ")]):e._e(),e.showScore?t("score-display",{attrs:{score:e.score,percent:e.rubric.useRelativeWeights}}):e.isCriterium?[e._v(e._s(e.levelTitle))]:e._e()],2)},mu=[];let gu=class extends(Ge()){rubric;treeNode;score;showScores;feedback;titleOverlay;level;showMax;get nodeType(){return this.treeNode.getType()}get isRubric(){return"rubric"===this.nodeType}get isCluster(){return"cluster"===this.nodeType}get isCategory(){return"category"===this.nodeType}get isCriterium(){return"criterium"===this.nodeType}get useScores(){return this.rubric.useScores}get useAbsoluteScores(){return this.rubric.useScores&&!this.rubric.useRelativeWeights}get useGrades(){return!this.rubric.useScores}get isGradeMode(){return this.useGrades||this.useScores&&this.rubric.useRelativeWeights&&!this.showScores}get showScore(){return this.useScores&&(!this.rubric.useRelativeWeights||this.showScores)}get isNA(){switch(this.nodeType){case"cluster":case"category":return this.showScore&&null===this.score;case"criterium":return this.useScores?null===this.score:null===this.level;case"rubric":return null===this.score}}get isIncomplete(){return null===this.score&&!this.isGradeMode}get levelTitle(){return this.level?.title||""}};We([gt({type:ze}),Ve("design:type","function"===typeof(uu="undefined"!==typeof ze&&ze)?uu:Object)],gu.prototype,"rubric",void 0),We([gt({type:[ze,Ie,Le,je]}),Ve("design:type",Object)],gu.prototype,"treeNode",void 0),We([gt({type:Number,default:null}),Ve("design:type",Object)],gu.prototype,"score",void 0),We([gt({type:Boolean,default:!0}),Ve("design:type",Boolean)],gu.prototype,"showScores",void 0),We([gt({type:String,default:""}),Ve("design:type",String)],gu.prototype,"feedback",void 0),We([gt({type:String,default:""}),Ve("design:type",String)],gu.prototype,"titleOverlay",void 0),We([gt({type:Pe,default:null}),Ve("design:type",Object)],gu.prototype,"level",void 0),We([gt({type:Boolean,default:!1}),Ve("design:type",Boolean)],gu.prototype,"showMax",void 0),gu=We([pt({components:{ScoreDisplay:nc}})],gu);var vu,bu,yu=gu,wu=yu,_u=_t(wu,fu,mu,!1,null,"25b9c965",null),Cu=_u.exports;let xu=class extends(Ge()){rubric;treeNode;maxScore;options;evaluations;rubricEvaluation;showScores;get nodeType(){return this.treeNode.getType()}get isCriterium(){return"criterium"===this.nodeType}get useScores(){return this.rubric.useScores}get useAbsoluteScores(){return this.rubric.useScores&&!this.rubric.useRelativeWeights}get useGrades(){return!this.rubric.useScores}getEvaluationTitleOverlay(e){const t=e.feedback?`${this.$t("extra-feedback")}: ${e.feedback}`:"";return"criterium"===this.nodeType?this.rubric.useScores?t:`${e.level?.title||""}${t&&"\n"+t}`:t}getScore(e){switch(this.nodeType){case"cluster":return this.rubricEvaluation.getClusterScore(this.treeNode,e);case"category":return this.rubricEvaluation.getCategoryScore(this.treeNode,e);case"criterium":return e.score;case"rubric":return this.rubricEvaluation.getRubricScore(e);default:return null}}};We([gt({type:ze}),Ve("design:type","function"===typeof(vu="undefined"!==typeof ze&&ze)?vu:Object)],xu.prototype,"rubric",void 0),We([gt({type:[ze,Ie,Le,je]}),Ve("design:type",Object)],xu.prototype,"treeNode",void 0),We([gt({type:Number,default:null}),Ve("design:type",Object)],xu.prototype,"maxScore",void 0),We([gt({type:Object,default:()=>({})}),Ve("design:type",Object)],xu.prototype,"options",void 0),We([gt({type:Array,default:()=>[]}),Ve("design:type",Array)],xu.prototype,"evaluations",void 0),We([gt({type:lc,required:!0}),Ve("design:type","function"===typeof(bu="undefined"!==typeof lc&&lc)?bu:Object)],xu.prototype,"rubricEvaluation",void 0),We([gt({type:Boolean,default:!0}),Ve("design:type",Boolean)],xu.prototype,"showScores",void 0),xu=We([pt({components:{TreeNodeEvaluationDisplay:Cu}})],xu);var ku,Su=xu,Eu=Su,Tu=_t(Eu,hu,pu,!1,null,"c8641a78",null),Ru=Tu.exports,Ou=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.useScores&&e.rubric.useRelativeWeights&&e.showScores?t("div",{staticClass:"treenode-weight",class:{"is-selected":e.options.selectedTreeNode===e.treeNode,"is-highlighted":e.options.highlightedTreeNode===e.treeNode},on:{click:function(t){t.stopPropagation(),e.options.selectedTreeNode=e.treeNode},mouseover:function(t){e.options.highlightedTreeNode=e.treeNode},mouseout:function(t){e.options.highlightedTreeNode=null}}},[t("span",[e._v(e._s(e._f("formatNum")(e.rubric.getRelativeWeight(e.treeNode))))]),t("span",{staticClass:"sr-only"},[e._v("%")]),t("i",{staticClass:"fa fa-percent",attrs:{"aria-hidden":"true"}})]):e._e()},Du=[];let Nu=class extends(Ge()){rubric;treeNode;options;showScores;get useScores(){return this.rubric.useScores}};We([gt({type:ze}),Ve("design:type","function"===typeof(ku="undefined"!==typeof ze&&ze)?ku:Object)],Nu.prototype,"rubric",void 0),We([gt({type:[Ie,Le,je]}),Ve("design:type",Object)],Nu.prototype,"treeNode",void 0),We([gt({type:Object,default:()=>({})}),Ve("design:type",Object)],Nu.prototype,"options",void 0),We([gt({type:Boolean,default:!0}),Ve("design:type",Boolean)],Nu.prototype,"showScores",void 0),Nu=We([pt({filters:{formatNum:function(e){return null===e?"":e.toLocaleString(void 0,{maximumFractionDigits:2})}}})],Nu);var Au,$u=Nu,ju=$u,Lu=_t(ju,Ou,Du,!1,null,"d02fc8cc",null),Iu=Lu.exports,Pu=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"treenode-title-header-wrap",class:{"rb-col-start-1":e.isCluster,"mod-category":e.isCategory,"has-category":e.isCategory&&!!e.treeNode.title||e.isCriterium&&!!e.treeNode.parent.title,"is-selected":e.options.selectedTreeNode===e.treeNode,"is-highlighted":e.options.highlightedTreeNode===e.treeNode},style:e.color,on:{click:function(t){t.stopPropagation(),e.options.selectedTreeNode=e.treeNode},mouseover:function(t){e.options.highlightedTreeNode=e.treeNode},mouseout:function(t){e.options.highlightedTreeNode=null}}},[t("div",{staticClass:"treenode-title-header"},["cluster"!==e.nodeType?t("div",{staticClass:"treenode-title-header-pre",class:[`mod-${e.nodeType}`,{"mod-no-color":e.isCategory&&!e.treeNode.color}]}):e._e(),e.isCriterium?t("h3",{staticClass:"treenode-title criterium-title u-markdown-criterium",class:{"mod-no-category":!e.hasCategoryTitle},domProps:{innerHTML:e._s(e.treeNode.toMarkdown())}}):t(e.headerTag,{tag:"component",staticClass:"treenode-title",class:[`${e.nodeType}-title`]},[e._v(e._s(e.treeNode.title))])],1)])},Fu=[];let Mu=class extends(Ge()){rubric;treeNode;options;get nodeType(){return this.treeNode.getType()}get isCluster(){return"cluster"===this.nodeType}get isCategory(){return"category"===this.nodeType}get isCriterium(){return"criterium"===this.nodeType}get hasCategoryTitle(){if(this.isCriterium){const e=this.treeNode.parent;if(e instanceof Le)return!!e.title}return!1}get color(){let e;return"category"===this.nodeType?e=this.treeNode:"criterium"===this.nodeType&&(e=this.treeNode.parent),e instanceof Le?`--category-color: ${e.title&&e.color?e.color:"#999"}`:""}get headerTag(){switch(this.nodeType){case"cluster":return"h1";case"category":return"h2";case"criterium":return"h3;";default:return""}}};We([gt({type:ze}),Ve("design:type","function"===typeof(Au="undefined"!==typeof ze&&ze)?Au:Object)],Mu.prototype,"rubric",void 0),We([gt({type:[Ie,Le,je]}),Ve("design:type",Object)],Mu.prototype,"treeNode",void 0),We([gt({type:Object,default:()=>({})}),Ve("design:type",Object)],Mu.prototype,"options",void 0),Mu=We([pt({})],Mu);var qu,zu,Bu=Mu,Uu=Bu,Wu=_t(Uu,Pu,Fu,!1,null,"7db1e11b",null),Vu=Wu.exports;function Hu(e){return`${e<10?"0":""}${e}`}let Gu=class extends(Ge()){showScores=!1;createFromExisting=!1;selectOptions={selectedTreeNode:null,highlightedTreeNode:null};rubric;rubricEvaluation;options;rubricEntryUrl;canCreateFromExistingRubric;copyRubricResults(e){this.rubricEntryUrl&&window.open(this.rubricEntryUrl+"&result_id="+e,"_self")}get selectedTreeNode(){return this.selectOptions.selectedTreeNode}set selectedTreeNode(e){this.selectOptions.selectedTreeNode=e}get highlightedTreeNode(){return this.selectOptions.highlightedTreeNode}set highlightedTreeNode(e){this.selectOptions.highlightedTreeNode=e}get useScores(){return this.rubric.useScores}get useGrades(){return!this.rubric.useScores}get useAbsoluteScores(){return this.rubric.useScores&&!this.rubric.useRelativeWeights}get useRelativeScores(){return this.rubric.useScores&&this.rubric.useRelativeWeights}get showRelativeScores(){return this.useRelativeScores&&this.showScores}get showRubricHeader(){return this.rubric.useScores||!this.rubric.useScores&&this.evaluators.length}get showTotals(){return this.rubric.useScores&&(!this.rubric.useRelativeWeights||this.showScores)}get useGradesMode(){return this.useGrades||this.useScores&&this.rubric.useRelativeWeights&&!this.showScores}get evaluators(){return this.rubricEvaluation.getEvaluators()}getTreeNodeRowData(e){return e instanceof je?this.getCriteriumRowData(e):e instanceof Le?this.getCategoryRowData(e):e instanceof Ie?this.getClusterRowData(e):{maxScore:0,evaluations:[]}}getClusterRowsData(e){return e.clusters.filter((e=>e.hasChildren())).map(this.getClusterRowData)}getClusterRowData(e){return{cluster:e,maxScore:this.rubric.getClusterMaxScore(e),evaluations:this.rubricEvaluation.getEvaluations(e)}}getCategoryRowsData(e){return e.categories.filter((e=>e.hasChildren())).map(this.getCategoryRowData)}getCategoryRowData(e){return{category:e,maxScore:this.rubric.getCategoryMaxScore(e),evaluations:this.rubricEvaluation.getEvaluations(e)}}getCriteriumRowsData(e){return e.criteria.map((e=>this.getCriteriumRowData(e)))}getCriteriumRowData(e){return{criterium:e,maxScore:this.rubric.getCriteriumMaxScore(e),evaluations:this.rubricEvaluation.getEvaluations(e)}}};We([gt({type:ze}),Ve("design:type","function"===typeof(qu="undefined"!==typeof ze&&ze)?qu:Object)],Gu.prototype,"rubric",void 0),We([gt({type:lc,required:!0}),Ve("design:type","function"===typeof(zu="undefined"!==typeof lc&&lc)?zu:Object)],Gu.prototype,"rubricEvaluation",void 0),We([gt({type:Object,default:()=>({})}),Ve("design:type",Object)],Gu.prototype,"options",void 0),We([gt({type:String,default:""}),Ve("design:type",String)],Gu.prototype,"rubricEntryUrl",void 0),We([gt({type:Boolean,default:!1}),Ve("design:type",Boolean)],Gu.prototype,"canCreateFromExistingRubric",void 0),Gu=We([pt({components:{TreeNodeResultsView:du,TreeNodeRubricResults:Ru,TreeNodeWeight:Iu,TreeNodeTitle:Vu},filters:{capitalize:function(e){return e?(e=e.toString(),e.charAt(0).toUpperCase()+e.slice(1)):""},formatDate:function(e){const t=new Date(e);return isNaN(t.getDate())?"":`${Hu(t.getDate())}/${Hu(t.getMonth()+1)}/${t.getFullYear().toString().substr(-2)} ${Hu(t.getHours())}:${Hu(t.getMinutes())}`}}})],Gu);var Ju=Gu,Xu=Ju,Yu=n(573),Ku=n.n(Yu),Qu=Ku(),Zu=_t(Xu,zc,Bc,!1,null,"a2c9a938",null);"function"===typeof Qu&&Qu(Zu);var ed=Zu.exports;let td=class extends(Ge()){rubric;rubricEvaluation;rubricData;rubricResults;rubricEntryUrl;canCreateFromExistingRubric;initData(){const e=Ne(this.rubricData);this.rubric=ze.fromJSON(e),this.rubricEvaluation=lc.fromRubricResults(this.rubric,this.rubricResults)}created(){this.initData()}};We([gt({type:Object,required:!0}),Ve("design:type",Object)],td.prototype,"rubricData",void 0),We([gt({type:Array,required:!0}),Ve("design:type",Array)],td.prototype,"rubricResults",void 0),We([gt({type:String,default:""}),Ve("design:type",String)],td.prototype,"rubricEntryUrl",void 0),We([gt({type:Boolean,default:!1}),Ve("design:type",Boolean)],td.prototype,"canCreateFromExistingRubric",void 0),td=We([pt({components:{RubricResult:ed}})],td);var id=td,rd=id,nd=_t(rd,Mc,qc,!1,null,null,null),od=nd.exports;function sd(e,t){for(var i in t)e[i]=t[i];return e}var ad=/[!'()*]/g,ld=function(e){return"%"+e.charCodeAt(0).toString(16)},cd=/%2C/g,ud=function(e){return encodeURIComponent(e).replace(ad,ld).replace(cd,",")};function dd(e){try{return decodeURIComponent(e)}catch(t){0}return e}function hd(e,t,i){void 0===t&&(t={});var r,n=i||fd;try{r=n(e||"")}catch(a){r={}}for(var o in t){var s=t[o];r[o]=Array.isArray(s)?s.map(pd):pd(s)}return r}var pd=function(e){return null==e||"object"===typeof e?e:String(e)};function fd(e){var t={};return e=e.trim().replace(/^(\?|#|&)/,""),e?(e.split("&").forEach((function(e){var i=e.replace(/\+/g," ").split("="),r=dd(i.shift()),n=i.length>0?dd(i.join("=")):null;void 0===t[r]?t[r]=n:Array.isArray(t[r])?t[r].push(n):t[r]=[t[r],n]})),t):t}function md(e){var t=e?Object.keys(e).map((function(t){var i=e[t];if(void 0===i)return"";if(null===i)return ud(t);if(Array.isArray(i)){var r=[];return i.forEach((function(e){void 0!==e&&(null===e?r.push(ud(t)):r.push(ud(t)+"="+ud(e)))})),r.join("&")}return ud(t)+"="+ud(i)})).filter((function(e){return e.length>0})).join("&"):null;return t?"?"+t:""}var gd=/\/?$/;function vd(e,t,i,r){var n=r&&r.options.stringifyQuery,o=t.query||{};try{o=bd(o)}catch(a){}var s={name:t.name||e&&e.name,meta:e&&e.meta||{},path:t.path||"/",hash:t.hash||"",query:o,params:t.params||{},fullPath:_d(t,n),matched:e?wd(e):[]};return i&&(s.redirectedFrom=_d(i,n)),Object.freeze(s)}function bd(e){if(Array.isArray(e))return e.map(bd);if(e&&"object"===typeof e){var t={};for(var i in e)t[i]=bd(e[i]);return t}return e}var yd=vd(null,{path:"/"});function wd(e){var t=[];while(e)t.unshift(e),e=e.parent;return t}function _d(e,t){var i=e.path,r=e.query;void 0===r&&(r={});var n=e.hash;void 0===n&&(n="");var o=t||md;return(i||"/")+o(r)+n}function Cd(e,t,i){return t===yd?e===t:!!t&&(e.path&&t.path?e.path.replace(gd,"")===t.path.replace(gd,"")&&(i||e.hash===t.hash&&xd(e.query,t.query)):!(!e.name||!t.name)&&(e.name===t.name&&(i||e.hash===t.hash&&xd(e.query,t.query)&&xd(e.params,t.params))))}function xd(e,t){if(void 0===e&&(e={}),void 0===t&&(t={}),!e||!t)return e===t;var i=Object.keys(e).sort(),r=Object.keys(t).sort();return i.length===r.length&&i.every((function(i,n){var o=e[i],s=r[n];if(s!==i)return!1;var a=t[i];return null==o||null==a?o===a:"object"===typeof o&&"object"===typeof a?xd(o,a):String(o)===String(a)}))}function kd(e,t){return 0===e.path.replace(gd,"/").indexOf(t.path.replace(gd,"/"))&&(!t.hash||e.hash===t.hash)&&Sd(e.query,t.query)}function Sd(e,t){for(var i in t)if(!(i in e))return!1;return!0}function Ed(e){for(var t=0;t<e.matched.length;t++){var i=e.matched[t];for(var r in i.instances){var n=i.instances[r],o=i.enteredCbs[r];if(n&&o){delete i.enteredCbs[r];for(var s=0;s<o.length;s++)n._isBeingDestroyed||o[s](n)}}}}var Td={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(e,t){var i=t.props,r=t.children,n=t.parent,o=t.data;o.routerView=!0;var s=n.$createElement,a=i.name,l=n.$route,c=n._routerViewCache||(n._routerViewCache={}),u=0,d=!1;while(n&&n._routerRoot!==n){var h=n.$vnode?n.$vnode.data:{};h.routerView&&u++,h.keepAlive&&n._directInactive&&n._inactive&&(d=!0),n=n.$parent}if(o.routerViewDepth=u,d){var p=c[a],f=p&&p.component;return f?(p.configProps&&Rd(f,o,p.route,p.configProps),s(f,o,r)):s()}var m=l.matched[u],g=m&&m.components[a];if(!m||!g)return c[a]=null,s();c[a]={component:g},o.registerRouteInstance=function(e,t){var i=m.instances[a];(t&&i!==e||!t&&i===e)&&(m.instances[a]=t)},(o.hook||(o.hook={})).prepatch=function(e,t){m.instances[a]=t.componentInstance},o.hook.init=function(e){e.data.keepAlive&&e.componentInstance&&e.componentInstance!==m.instances[a]&&(m.instances[a]=e.componentInstance),Ed(l)};var v=m.props&&m.props[a];return v&&(sd(c[a],{route:l,configProps:v}),Rd(g,o,l,v)),s(g,o,r)}};function Rd(e,t,i,r){var n=t.props=Od(i,r);if(n){n=t.props=sd({},n);var o=t.attrs=t.attrs||{};for(var s in n)e.props&&s in e.props||(o[s]=n[s],delete n[s])}}function Od(e,t){switch(typeof t){case"undefined":return;case"object":return t;case"function":return t(e);case"boolean":return t?e.params:void 0;default:0}}function Dd(e,t,i){var r=e.charAt(0);if("/"===r)return e;if("?"===r||"#"===r)return t+e;var n=t.split("/");i&&n[n.length-1]||n.pop();for(var o=e.replace(/^\//,"").split("/"),s=0;s<o.length;s++){var a=o[s];".."===a?n.pop():"."!==a&&n.push(a)}return""!==n[0]&&n.unshift(""),n.join("/")}function Nd(e){var t="",i="",r=e.indexOf("#");r>=0&&(t=e.slice(r),e=e.slice(0,r));var n=e.indexOf("?");return n>=0&&(i=e.slice(n+1),e=e.slice(0,n)),{path:e,query:i,hash:t}}function Ad(e){return e.replace(/\/(?:\s*\/)+/g,"/")}var $d=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)},jd=Zd,Ld=qd,Id=zd,Pd=Wd,Fd=Qd,Md=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function qd(e,t){var i,r=[],n=0,o=0,s="",a=t&&t.delimiter||"/";while(null!=(i=Md.exec(e))){var l=i[0],c=i[1],u=i.index;if(s+=e.slice(o,u),o=u+l.length,c)s+=c[1];else{var d=e[o],h=i[2],p=i[3],f=i[4],m=i[5],g=i[6],v=i[7];s&&(r.push(s),s="");var b=null!=h&&null!=d&&d!==h,y="+"===g||"*"===g,w="?"===g||"*"===g,_=i[2]||a,C=f||m;r.push({name:p||n++,prefix:h||"",delimiter:_,optional:w,repeat:y,partial:b,asterisk:!!v,pattern:C?Hd(C):v?".*":"[^"+Vd(_)+"]+?"})}}return o<e.length&&(s+=e.substr(o)),s&&r.push(s),r}function zd(e,t){return Wd(qd(e,t),t)}function Bd(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function Ud(e){return encodeURI(e).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function Wd(e,t){for(var i=new Array(e.length),r=0;r<e.length;r++)"object"===typeof e[r]&&(i[r]=new RegExp("^(?:"+e[r].pattern+")$",Jd(t)));return function(t,r){for(var n="",o=t||{},s=r||{},a=s.pretty?Bd:encodeURIComponent,l=0;l<e.length;l++){var c=e[l];if("string"!==typeof c){var u,d=o[c.name];if(null==d){if(c.optional){c.partial&&(n+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if($d(d)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var h=0;h<d.length;h++){if(u=a(d[h]),!i[l].test(u))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(u)+"`");n+=(0===h?c.prefix:c.delimiter)+u}}else{if(u=c.asterisk?Ud(d):a(d),!i[l].test(u))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+u+'"');n+=c.prefix+u}}else n+=c}return n}}function Vd(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function Hd(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function Gd(e,t){return e.keys=t,e}function Jd(e){return e&&e.sensitive?"":"i"}function Xd(e,t){var i=e.source.match(/\((?!\?)/g);if(i)for(var r=0;r<i.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return Gd(e,t)}function Yd(e,t,i){for(var r=[],n=0;n<e.length;n++)r.push(Zd(e[n],t,i).source);var o=new RegExp("(?:"+r.join("|")+")",Jd(i));return Gd(o,t)}function Kd(e,t,i){return Qd(qd(e,i),t,i)}function Qd(e,t,i){$d(t)||(i=t||i,t=[]),i=i||{};for(var r=i.strict,n=!1!==i.end,o="",s=0;s<e.length;s++){var a=e[s];if("string"===typeof a)o+=Vd(a);else{var l=Vd(a.prefix),c="(?:"+a.pattern+")";t.push(a),a.repeat&&(c+="(?:"+l+c+")*"),c=a.optional?a.partial?l+"("+c+")?":"(?:"+l+"("+c+"))?":l+"("+c+")",o+=c}}var u=Vd(i.delimiter||"/"),d=o.slice(-u.length)===u;return r||(o=(d?o.slice(0,-u.length):o)+"(?:"+u+"(?=$))?"),o+=n?"$":r&&d?"":"(?="+u+"|$)",Gd(new RegExp("^"+o,Jd(i)),t)}function Zd(e,t,i){return $d(t)||(i=t||i,t=[]),i=i||{},e instanceof RegExp?Xd(e,t):$d(e)?Yd(e,t,i):Kd(e,t,i)}jd.parse=Ld,jd.compile=Id,jd.tokensToFunction=Pd,jd.tokensToRegExp=Fd;var eh=Object.create(null);function th(e,t,i){t=t||{};try{var r=eh[e]||(eh[e]=jd.compile(e));return"string"===typeof t.pathMatch&&(t[0]=t.pathMatch),r(t,{pretty:!0})}catch(n){return""}finally{delete t[0]}}function ih(e,t,i,r){var n="string"===typeof e?{path:e}:e;if(n._normalized)return n;if(n.name){n=sd({},e);var o=n.params;return o&&"object"===typeof o&&(n.params=sd({},o)),n}if(!n.path&&n.params&&t){n=sd({},n),n._normalized=!0;var s=sd(sd({},t.params),n.params);if(t.name)n.name=t.name,n.params=s;else if(t.matched.length){var a=t.matched[t.matched.length-1].path;n.path=th(a,s,"path "+t.path)}else 0;return n}var l=Nd(n.path||""),c=t&&t.path||"/",u=l.path?Dd(l.path,c,i||n.append):c,d=hd(l.query,n.query,r&&r.options.parseQuery),h=n.hash||l.hash;return h&&"#"!==h.charAt(0)&&(h="#"+h),{_normalized:!0,path:u,query:d,hash:h}}var rh,nh=[String,Object],oh=[String,Array],sh=function(){},ah={name:"RouterLink",props:{to:{type:nh,required:!0},tag:{type:String,default:"a"},custom:Boolean,exact:Boolean,exactPath:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:{type:String,default:"page"},event:{type:oh,default:"click"}},render:function(e){var t=this,i=this.$router,r=this.$route,n=i.resolve(this.to,r,this.append),o=n.location,s=n.route,a=n.href,l={},c=i.options.linkActiveClass,u=i.options.linkExactActiveClass,d=null==c?"router-link-active":c,h=null==u?"router-link-exact-active":u,p=null==this.activeClass?d:this.activeClass,f=null==this.exactActiveClass?h:this.exactActiveClass,m=s.redirectedFrom?vd(null,ih(s.redirectedFrom),null,i):s;l[f]=Cd(r,m,this.exactPath),l[p]=this.exact||this.exactPath?l[f]:kd(r,m);var g=l[f]?this.ariaCurrentValue:null,v=function(e){lh(e)&&(t.replace?i.replace(o,sh):i.push(o,sh))},b={click:lh};Array.isArray(this.event)?this.event.forEach((function(e){b[e]=v})):b[this.event]=v;var y={class:l},w=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:a,route:s,navigate:v,isActive:l[p],isExactActive:l[f]});if(w){if(1===w.length)return w[0];if(w.length>1||!w.length)return 0===w.length?e():e("span",{},w)}if("a"===this.tag)y.on=b,y.attrs={href:a,"aria-current":g};else{var _=ch(this.$slots.default);if(_){_.isStatic=!1;var C=_.data=sd({},_.data);for(var x in C.on=C.on||{},C.on){var k=C.on[x];x in b&&(C.on[x]=Array.isArray(k)?k:[k])}for(var S in b)S in C.on?C.on[S].push(b[S]):C.on[S]=v;var E=_.data.attrs=sd({},_.data.attrs);E.href=a,E["aria-current"]=g}else y.on=b}return e(this.tag,y,this.$slots.default)}};function lh(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&(void 0===e.button||0===e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){var t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function ch(e){if(e)for(var t,i=0;i<e.length;i++){if(t=e[i],"a"===t.tag)return t;if(t.children&&(t=ch(t.children)))return t}}function uh(e){if(!uh.installed||rh!==e){uh.installed=!0,rh=e;var t=function(e){return void 0!==e},i=function(e,i){var r=e.$options._parentVnode;t(r)&&t(r=r.data)&&t(r=r.registerRouteInstance)&&r(e,i)};e.mixin({beforeCreate:function(){t(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),e.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,i(this,this)},destroyed:function(){i(this)}}),Object.defineProperty(e.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(e.prototype,"$route",{get:function(){return this._routerRoot._route}}),e.component("RouterView",Td),e.component("RouterLink",ah);var r=e.config.optionMergeStrategies;r.beforeRouteEnter=r.beforeRouteLeave=r.beforeRouteUpdate=r.created}}var dh="undefined"!==typeof window;function hh(e,t,i,r,n){var o=t||[],s=i||Object.create(null),a=r||Object.create(null);e.forEach((function(e){ph(o,s,a,e,n)}));for(var l=0,c=o.length;l<c;l++)"*"===o[l]&&(o.push(o.splice(l,1)[0]),c--,l--);return{pathList:o,pathMap:s,nameMap:a}}function ph(e,t,i,r,n,o){var s=r.path,a=r.name;var l=r.pathToRegexpOptions||{},c=mh(s,n,l.strict);"boolean"===typeof r.caseSensitive&&(l.sensitive=r.caseSensitive);var u={path:c,regex:fh(c,l),components:r.components||{default:r.component},alias:r.alias?"string"===typeof r.alias?[r.alias]:r.alias:[],instances:{},enteredCbs:{},name:a,parent:n,matchAs:o,redirect:r.redirect,beforeEnter:r.beforeEnter,meta:r.meta||{},props:null==r.props?{}:r.components?r.props:{default:r.props}};if(r.children&&r.children.forEach((function(r){var n=o?Ad(o+"/"+r.path):void 0;ph(e,t,i,r,u,n)})),t[u.path]||(e.push(u.path),t[u.path]=u),void 0!==r.alias)for(var d=Array.isArray(r.alias)?r.alias:[r.alias],h=0;h<d.length;++h){var p=d[h];0;var f={path:p,children:r.children};ph(e,t,i,f,n,u.path||"/")}a&&(i[a]||(i[a]=u))}function fh(e,t){var i=jd(e,[],t);return i}function mh(e,t,i){return i||(e=e.replace(/\/$/,"")),"/"===e[0]||null==t?e:Ad(t.path+"/"+e)}function gh(e,t){var i=hh(e),r=i.pathList,n=i.pathMap,o=i.nameMap;function s(e){hh(e,r,n,o)}function a(e,t){var i="object"!==typeof e?o[e]:void 0;hh([t||e],r,n,o,i),i&&i.alias.length&&hh(i.alias.map((function(e){return{path:e,children:[t]}})),r,n,o,i)}function l(){return r.map((function(e){return n[e]}))}function c(e,i,s){var a=ih(e,i,!1,t),l=a.name;if(l){var c=o[l];if(!c)return h(null,a);var u=c.regex.keys.filter((function(e){return!e.optional})).map((function(e){return e.name}));if("object"!==typeof a.params&&(a.params={}),i&&"object"===typeof i.params)for(var d in i.params)!(d in a.params)&&u.indexOf(d)>-1&&(a.params[d]=i.params[d]);return a.path=th(c.path,a.params,'named route "'+l+'"'),h(c,a,s)}if(a.path){a.params={};for(var p=0;p<r.length;p++){var f=r[p],m=n[f];if(vh(m.regex,a.path,a.params))return h(m,a,s)}}return h(null,a)}function u(e,i){var r=e.redirect,n="function"===typeof r?r(vd(e,i,null,t)):r;if("string"===typeof n&&(n={path:n}),!n||"object"!==typeof n)return h(null,i);var s=n,a=s.name,l=s.path,u=i.query,d=i.hash,p=i.params;if(u=s.hasOwnProperty("query")?s.query:u,d=s.hasOwnProperty("hash")?s.hash:d,p=s.hasOwnProperty("params")?s.params:p,a){o[a];return c({_normalized:!0,name:a,query:u,hash:d,params:p},void 0,i)}if(l){var f=bh(l,e),m=th(f,p,'redirect route with path "'+f+'"');return c({_normalized:!0,path:m,query:u,hash:d},void 0,i)}return h(null,i)}function d(e,t,i){var r=th(i,t.params,'aliased route with path "'+i+'"'),n=c({_normalized:!0,path:r});if(n){var o=n.matched,s=o[o.length-1];return t.params=n.params,h(s,t)}return h(null,t)}function h(e,i,r){return e&&e.redirect?u(e,r||i):e&&e.matchAs?d(e,i,e.matchAs):vd(e,i,r,t)}return{match:c,addRoute:a,getRoutes:l,addRoutes:s}}function vh(e,t,i){var r=t.match(e);if(!r)return!1;if(!i)return!0;for(var n=1,o=r.length;n<o;++n){var s=e.keys[n-1];s&&(i[s.name||"pathMatch"]="string"===typeof r[n]?dd(r[n]):r[n])}return!0}function bh(e,t){return Dd(e,t.parent?t.parent.path:"/",!0)}var yh=dh&&window.performance&&window.performance.now?window.performance:Date;function wh(){return yh.now().toFixed(3)}var _h=wh();function Ch(){return _h}function xh(e){return _h=e}var kh=Object.create(null);function Sh(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var e=window.location.protocol+"//"+window.location.host,t=window.location.href.replace(e,""),i=sd({},window.history.state);return i.key=Ch(),window.history.replaceState(i,"",t),window.addEventListener("popstate",Rh),function(){window.removeEventListener("popstate",Rh)}}function Eh(e,t,i,r){if(e.app){var n=e.options.scrollBehavior;n&&e.app.$nextTick((function(){var o=Oh(),s=n.call(e,t,i,r?o:null);s&&("function"===typeof s.then?s.then((function(e){Ih(e,o)})).catch((function(e){0})):Ih(s,o))}))}}function Th(){var e=Ch();e&&(kh[e]={x:window.pageXOffset,y:window.pageYOffset})}function Rh(e){Th(),e.state&&e.state.key&&xh(e.state.key)}function Oh(){var e=Ch();if(e)return kh[e]}function Dh(e,t){var i=document.documentElement,r=i.getBoundingClientRect(),n=e.getBoundingClientRect();return{x:n.left-r.left-t.x,y:n.top-r.top-t.y}}function Nh(e){return jh(e.x)||jh(e.y)}function Ah(e){return{x:jh(e.x)?e.x:window.pageXOffset,y:jh(e.y)?e.y:window.pageYOffset}}function $h(e){return{x:jh(e.x)?e.x:0,y:jh(e.y)?e.y:0}}function jh(e){return"number"===typeof e}var Lh=/^#\d/;function Ih(e,t){var i="object"===typeof e;if(i&&"string"===typeof e.selector){var r=Lh.test(e.selector)?document.getElementById(e.selector.slice(1)):document.querySelector(e.selector);if(r){var n=e.offset&&"object"===typeof e.offset?e.offset:{};n=$h(n),t=Dh(r,n)}else Nh(e)&&(t=Ah(e))}else i&&Nh(e)&&(t=Ah(e));t&&("scrollBehavior"in document.documentElement.style?window.scrollTo({left:t.x,top:t.y,behavior:e.behavior}):window.scrollTo(t.x,t.y))}var Ph=dh&&function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"function"===typeof window.history.pushState)}();function Fh(e,t){Th();var i=window.history;try{if(t){var r=sd({},i.state);r.key=Ch(),i.replaceState(r,"",e)}else i.pushState({key:xh(wh())},"",e)}catch(n){window.location[t?"replace":"assign"](e)}}function Mh(e){Fh(e,!0)}var qh={redirected:2,aborted:4,cancelled:8,duplicated:16};function zh(e,t){return Vh(e,t,qh.redirected,'Redirected when going from "'+e.fullPath+'" to "'+Gh(t)+'" via a navigation guard.')}function Bh(e,t){var i=Vh(e,t,qh.duplicated,'Avoided redundant navigation to current location: "'+e.fullPath+'".');return i.name="NavigationDuplicated",i}function Uh(e,t){return Vh(e,t,qh.cancelled,'Navigation cancelled from "'+e.fullPath+'" to "'+t.fullPath+'" with a new navigation.')}function Wh(e,t){return Vh(e,t,qh.aborted,'Navigation aborted from "'+e.fullPath+'" to "'+t.fullPath+'" via a navigation guard.')}function Vh(e,t,i,r){var n=new Error(r);return n._isRouter=!0,n.from=e,n.to=t,n.type=i,n}var Hh=["params","query","hash"];function Gh(e){if("string"===typeof e)return e;if("path"in e)return e.path;var t={};return Hh.forEach((function(i){i in e&&(t[i]=e[i])})),JSON.stringify(t,null,2)}function Jh(e){return Object.prototype.toString.call(e).indexOf("Error")>-1}function Xh(e,t){return Jh(e)&&e._isRouter&&(null==t||e.type===t)}function Yh(e,t,i){var r=function(n){n>=e.length?i():e[n]?t(e[n],(function(){r(n+1)})):r(n+1)};r(0)}function Kh(e){return function(t,i,r){var n=!1,o=0,s=null;Qh(e,(function(e,t,i,a){if("function"===typeof e&&void 0===e.cid){n=!0,o++;var l,c=ip((function(t){tp(t)&&(t=t.default),e.resolved="function"===typeof t?t:rh.extend(t),i.components[a]=t,o--,o<=0&&r()})),u=ip((function(e){var t="Failed to resolve async component "+a+": "+e;s||(s=Jh(e)?e:new Error(t),r(s))}));try{l=e(c,u)}catch(h){u(h)}if(l)if("function"===typeof l.then)l.then(c,u);else{var d=l.component;d&&"function"===typeof d.then&&d.then(c,u)}}})),n||r()}}function Qh(e,t){return Zh(e.map((function(e){return Object.keys(e.components).map((function(i){return t(e.components[i],e.instances[i],e,i)}))})))}function Zh(e){return Array.prototype.concat.apply([],e)}var ep="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag;function tp(e){return e.__esModule||ep&&"Module"===e[Symbol.toStringTag]}function ip(e){var t=!1;return function(){var i=[],r=arguments.length;while(r--)i[r]=arguments[r];if(!t)return t=!0,e.apply(this,i)}}var rp=function(e,t){this.router=e,this.base=np(t),this.current=yd,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[],this.listeners=[]};function np(e){if(!e)if(dh){var t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^https?:\/\/[^\/]+/,"")}else e="/";return"/"!==e.charAt(0)&&(e="/"+e),e.replace(/\/$/,"")}function op(e,t){var i,r=Math.max(e.length,t.length);for(i=0;i<r;i++)if(e[i]!==t[i])break;return{updated:t.slice(0,i),activated:t.slice(i),deactivated:e.slice(i)}}function sp(e,t,i,r){var n=Qh(e,(function(e,r,n,o){var s=ap(e,t);if(s)return Array.isArray(s)?s.map((function(e){return i(e,r,n,o)})):i(s,r,n,o)}));return Zh(r?n.reverse():n)}function ap(e,t){return"function"!==typeof e&&(e=rh.extend(e)),e.options[t]}function lp(e){return sp(e,"beforeRouteLeave",up,!0)}function cp(e){return sp(e,"beforeRouteUpdate",up)}function up(e,t){if(t)return function(){return e.apply(t,arguments)}}function dp(e){return sp(e,"beforeRouteEnter",(function(e,t,i,r){return hp(e,i,r)}))}function hp(e,t,i){return function(r,n,o){return e(r,n,(function(e){"function"===typeof e&&(t.enteredCbs[i]||(t.enteredCbs[i]=[]),t.enteredCbs[i].push(e)),o(e)}))}}rp.prototype.listen=function(e){this.cb=e},rp.prototype.onReady=function(e,t){this.ready?e():(this.readyCbs.push(e),t&&this.readyErrorCbs.push(t))},rp.prototype.onError=function(e){this.errorCbs.push(e)},rp.prototype.transitionTo=function(e,t,i){var r,n=this;try{r=this.router.match(e,this.current)}catch(s){throw this.errorCbs.forEach((function(e){e(s)})),s}var o=this.current;this.confirmTransition(r,(function(){n.updateRoute(r),t&&t(r),n.ensureURL(),n.router.afterHooks.forEach((function(e){e&&e(r,o)})),n.ready||(n.ready=!0,n.readyCbs.forEach((function(e){e(r)})))}),(function(e){i&&i(e),e&&!n.ready&&(Xh(e,qh.redirected)&&o===yd||(n.ready=!0,n.readyErrorCbs.forEach((function(t){t(e)}))))}))},rp.prototype.confirmTransition=function(e,t,i){var r=this,n=this.current;this.pending=e;var o=function(e){!Xh(e)&&Jh(e)&&(r.errorCbs.length?r.errorCbs.forEach((function(t){t(e)})):console.error(e)),i&&i(e)},s=e.matched.length-1,a=n.matched.length-1;if(Cd(e,n)&&s===a&&e.matched[s]===n.matched[a])return this.ensureURL(),e.hash&&Eh(this.router,n,e,!1),o(Bh(n,e));var l=op(this.current.matched,e.matched),c=l.updated,u=l.deactivated,d=l.activated,h=[].concat(lp(u),this.router.beforeHooks,cp(c),d.map((function(e){return e.beforeEnter})),Kh(d)),p=function(t,i){if(r.pending!==e)return o(Uh(n,e));try{t(e,n,(function(t){!1===t?(r.ensureURL(!0),o(Wh(n,e))):Jh(t)?(r.ensureURL(!0),o(t)):"string"===typeof t||"object"===typeof t&&("string"===typeof t.path||"string"===typeof t.name)?(o(zh(n,e)),"object"===typeof t&&t.replace?r.replace(t):r.push(t)):i(t)}))}catch(s){o(s)}};Yh(h,p,(function(){var i=dp(d),s=i.concat(r.router.resolveHooks);Yh(s,p,(function(){if(r.pending!==e)return o(Uh(n,e));r.pending=null,t(e),r.router.app&&r.router.app.$nextTick((function(){Ed(e)}))}))}))},rp.prototype.updateRoute=function(e){this.current=e,this.cb&&this.cb(e)},rp.prototype.setupListeners=function(){},rp.prototype.teardown=function(){this.listeners.forEach((function(e){e()})),this.listeners=[],this.current=yd,this.pending=null};var pp=function(e){function t(t,i){e.call(this,t,i),this._startLocation=fp(this.base)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setupListeners=function(){var e=this;if(!(this.listeners.length>0)){var t=this.router,i=t.options.scrollBehavior,r=Ph&&i;r&&this.listeners.push(Sh());var n=function(){var i=e.current,n=fp(e.base);e.current===yd&&n===e._startLocation||e.transitionTo(n,(function(e){r&&Eh(t,e,i,!0)}))};window.addEventListener("popstate",n),this.listeners.push((function(){window.removeEventListener("popstate",n)}))}},t.prototype.go=function(e){window.history.go(e)},t.prototype.push=function(e,t,i){var r=this,n=this,o=n.current;this.transitionTo(e,(function(e){Fh(Ad(r.base+e.fullPath)),Eh(r.router,e,o,!1),t&&t(e)}),i)},t.prototype.replace=function(e,t,i){var r=this,n=this,o=n.current;this.transitionTo(e,(function(e){Mh(Ad(r.base+e.fullPath)),Eh(r.router,e,o,!1),t&&t(e)}),i)},t.prototype.ensureURL=function(e){if(fp(this.base)!==this.current.fullPath){var t=Ad(this.base+this.current.fullPath);e?Fh(t):Mh(t)}},t.prototype.getCurrentLocation=function(){return fp(this.base)},t}(rp);function fp(e){var t=window.location.pathname,i=t.toLowerCase(),r=e.toLowerCase();return!e||i!==r&&0!==i.indexOf(Ad(r+"/"))||(t=t.slice(e.length)),(t||"/")+window.location.search+window.location.hash}var mp=function(e){function t(t,i,r){e.call(this,t,i),r&&gp(this.base)||vp()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setupListeners=function(){var e=this;if(!(this.listeners.length>0)){var t=this.router,i=t.options.scrollBehavior,r=Ph&&i;r&&this.listeners.push(Sh());var n=function(){var t=e.current;vp()&&e.transitionTo(bp(),(function(i){r&&Eh(e.router,i,t,!0),Ph||_p(i.fullPath)}))},o=Ph?"popstate":"hashchange";window.addEventListener(o,n),this.listeners.push((function(){window.removeEventListener(o,n)}))}},t.prototype.push=function(e,t,i){var r=this,n=this,o=n.current;this.transitionTo(e,(function(e){wp(e.fullPath),Eh(r.router,e,o,!1),t&&t(e)}),i)},t.prototype.replace=function(e,t,i){var r=this,n=this,o=n.current;this.transitionTo(e,(function(e){_p(e.fullPath),Eh(r.router,e,o,!1),t&&t(e)}),i)},t.prototype.go=function(e){window.history.go(e)},t.prototype.ensureURL=function(e){var t=this.current.fullPath;bp()!==t&&(e?wp(t):_p(t))},t.prototype.getCurrentLocation=function(){return bp()},t}(rp);function gp(e){var t=fp(e);if(!/^\/#/.test(t))return window.location.replace(Ad(e+"/#"+t)),!0}function vp(){var e=bp();return"/"===e.charAt(0)||(_p("/"+e),!1)}function bp(){var e=window.location.href,t=e.indexOf("#");return t<0?"":(e=e.slice(t+1),e)}function yp(e){var t=window.location.href,i=t.indexOf("#"),r=i>=0?t.slice(0,i):t;return r+"#"+e}function wp(e){Ph?Fh(yp(e)):window.location.hash=e}function _p(e){Ph?Mh(yp(e)):window.location.replace(yp(e))}var Cp=function(e){function t(t,i){e.call(this,t,i),this.stack=[],this.index=-1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.push=function(e,t,i){var r=this;this.transitionTo(e,(function(e){r.stack=r.stack.slice(0,r.index+1).concat(e),r.index++,t&&t(e)}),i)},t.prototype.replace=function(e,t,i){var r=this;this.transitionTo(e,(function(e){r.stack=r.stack.slice(0,r.index).concat(e),t&&t(e)}),i)},t.prototype.go=function(e){var t=this,i=this.index+e;if(!(i<0||i>=this.stack.length)){var r=this.stack[i];this.confirmTransition(r,(function(){var e=t.current;t.index=i,t.updateRoute(r),t.router.afterHooks.forEach((function(t){t&&t(r,e)}))}),(function(e){Xh(e,qh.duplicated)&&(t.index=i)}))}},t.prototype.getCurrentLocation=function(){var e=this.stack[this.stack.length-1];return e?e.fullPath:"/"},t.prototype.ensureURL=function(){},t}(rp),xp=function(e){void 0===e&&(e={}),this.app=null,this.apps=[],this.options=e,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=gh(e.routes||[],this);var t=e.mode||"hash";switch(this.fallback="history"===t&&!Ph&&!1!==e.fallback,this.fallback&&(t="hash"),dh||(t="abstract"),this.mode=t,t){case"history":this.history=new pp(this,e.base);break;case"hash":this.history=new mp(this,e.base,this.fallback);break;case"abstract":this.history=new Cp(this,e.base);break;default:0}},kp={currentRoute:{configurable:!0}};xp.prototype.match=function(e,t,i){return this.matcher.match(e,t,i)},kp.currentRoute.get=function(){return this.history&&this.history.current},xp.prototype.init=function(e){var t=this;if(this.apps.push(e),e.$once("hook:destroyed",(function(){var i=t.apps.indexOf(e);i>-1&&t.apps.splice(i,1),t.app===e&&(t.app=t.apps[0]||null),t.app||t.history.teardown()})),!this.app){this.app=e;var i=this.history;if(i instanceof pp||i instanceof mp){var r=function(e){var r=i.current,n=t.options.scrollBehavior,o=Ph&&n;o&&"fullPath"in e&&Eh(t,e,r,!1)},n=function(e){i.setupListeners(),r(e)};i.transitionTo(i.getCurrentLocation(),n,n)}i.listen((function(e){t.apps.forEach((function(t){t._route=e}))}))}},xp.prototype.beforeEach=function(e){return Ep(this.beforeHooks,e)},xp.prototype.beforeResolve=function(e){return Ep(this.resolveHooks,e)},xp.prototype.afterEach=function(e){return Ep(this.afterHooks,e)},xp.prototype.onReady=function(e,t){this.history.onReady(e,t)},xp.prototype.onError=function(e){this.history.onError(e)},xp.prototype.push=function(e,t,i){var r=this;if(!t&&!i&&"undefined"!==typeof Promise)return new Promise((function(t,i){r.history.push(e,t,i)}));this.history.push(e,t,i)},xp.prototype.replace=function(e,t,i){var r=this;if(!t&&!i&&"undefined"!==typeof Promise)return new Promise((function(t,i){r.history.replace(e,t,i)}));this.history.replace(e,t,i)},xp.prototype.go=function(e){this.history.go(e)},xp.prototype.back=function(){this.go(-1)},xp.prototype.forward=function(){this.go(1)},xp.prototype.getMatchedComponents=function(e){var t=e?e.matched?e:this.resolve(e).route:this.currentRoute;return t?[].concat.apply([],t.matched.map((function(e){return Object.keys(e.components).map((function(t){return e.components[t]}))}))):[]},xp.prototype.resolve=function(e,t,i){t=t||this.history.current;var r=ih(e,t,i,this),n=this.match(r,t),o=n.redirectedFrom||n.fullPath,s=this.history.base,a=Tp(s,o,this.mode);return{location:r,route:n,href:a,normalizedTo:r,resolved:n}},xp.prototype.getRoutes=function(){return this.matcher.getRoutes()},xp.prototype.addRoute=function(e,t){this.matcher.addRoute(e,t),this.history.current!==yd&&this.history.transitionTo(this.history.getCurrentLocation())},xp.prototype.addRoutes=function(e){this.matcher.addRoutes(e),this.history.current!==yd&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(xp.prototype,kp);var Sp=xp;function Ep(e,t){return e.push(t),function(){var i=e.indexOf(t);i>-1&&e.splice(i,1)}}function Tp(e,t,i){var r="hash"===i?"#"+t:t;return e?Ad(e+"/"+r):r}xp.install=uh,xp.version="3.6.5",xp.isNavigationFailure=Xh,xp.NavigationFailureType=qh,xp.START_LOCATION=yd,dh&&window.Vue&&window.Vue.use(xp);var Rp=function(){var e=this,t=e._self._c;return t("div",{staticClass:"demo-page",attrs:{id:"app"}},[t("h1",[e._v("Rubric Demo Page")]),t("router-link",{staticClass:"rubric-demo-item",attrs:{to:{name:"Builder"}}},[t("i",{staticClass:"fa fa-institution"}),e._v("Builder")]),t("router-link",{staticClass:"rubric-demo-item",attrs:{to:{name:"Preview"}}},[t("i",{staticClass:"fa fa-institution"}),e._v("Preview")]),t("router-link",{staticClass:"rubric-demo-item",attrs:{to:{name:"Entry"}}},[t("i",{staticClass:"fa fa-edit"}),e._v("Entry")]),t("router-link",{staticClass:"rubric-demo-item",attrs:{to:{name:"Results"}}},[t("i",{staticClass:"fa fa-calculator"}),e._v("Results")])],1)},Op=[],Dp={},Np=_t(Dp,Rp,Op,!1,null,null,null),Ap=Np.exports,$p=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticStyle:{margin:"-20px 0"}},[t("rubric-builder",{attrs:{"api-config":e.config,version:null,"rubric-data":e.store.rubricData,"ui-state":e.store.uiState.builder},on:{"rubric-updated":e.onRubricUpdated}})],1)},jp=[],Lp={uiState:{builder:{showDefaultFeedbackFields:!1,showSplitView:!1,selectedCriterium:"",selectedClusterView1:"",selectedClusterView2:""},preview:{showDefaultFeedbackFields:!1},entry:{showDefaultFeedbackFields:!1,options:{isDemo:!0,evaluator:null}}},rubricData:{id:"t9hnqokwvenfdgskc7ykas",useScores:!0,useRelativeWeights:!1,title:"Holistisch scoren",levels:[{id:"ll1mno0a18hjedwy6w3jt",title:"Overstijgt de verwachtingen",description:"",score:10,is_default:!1},{id:"icoz2ha4bahqvqfi71slz",title:"Voldoet aan de verwachtingen",description:"",score:7,is_default:!1},{id:"ewl5t7raruutqf4gudx15",title:"Voldoet bijna aan de verwachtingen",description:"",score:4,is_default:!0},{id:"fcd66dsoj78g8jq0diks3b",title:"Voldoet niet aan de verwachtingen",description:"",score:0,is_default:!1}],clusters:[{id:"fbb3yazs9iaxc8zff4jurm",title:"Holistisch scoren",categories:[{id:"r7z43w6cuzijn6782siusl",title:"",color:"#00943E",criteria:[{id:"fufp9nyhm59tpv834p7s5",title:"Volledigheid antwoorden",weight:80},{id:"yjz8854ozprzhr2hw45wup",title:"Onderbouwde mening",weight:100}]}],criteria:[]},{id:"v6ptmrbfp829l5wir7y1c",title:"Professioneel Communiceren",categories:[{id:"qkpojkdo7195jmdwgw29sb",title:"De student kan de basisprincipes van e-mail en social media policy in het Nederlands integreren in zijn of haar professionele communicatie.",color:"#E76F01",criteria:[{id:"9ec44j2au3v1nl9sigksrq",title:"Een professionele, doelgerichte en duidelijke e-mail opstellen.",weight:100},{id:"xzcorbibce20cm5g54xemi",title:"De meest geschikte sociale media selecteren in een beroepscontext.",weight:100},{id:"aas2bl49lrnfl4i1m7uwho",title:"Een kritische analyse maken van de e-mail en social media policy van bedrijven en organisaties.",weight:100},{id:"b6fxxz8q2nq21595ncj6od",title:"De student kan taalkundig, stilistisch en lexicaal correct, zakelijk en helder formuleren.",weight:100}]}],criteria:[]},{id:"iltm24mgoemsoc8okbny",title:"Bedrijfseconomisch handelen",categories:[{id:"iuxmxxycunsonrldrk16m",title:"De student kan de normen van het bedrijf of de organisatie, de beroepsdeontologie en de maatschappelijke normen toepassen.",color:"",criteria:[{id:"xkisqg35b4897yv42v0uwh",title:"Een kritische analyse maken van een klant- en servicegerichte aanpak. ",weight:100},{id:"npq74gmgw7gykpvuyzai",title:"De beroepsmogelijkheden (specifiek voor de afstudeerrichting) omschrijven.",weight:100}]},{id:"2jqipotb8yaw5cqh7nfvun",title:"De student kan reflecteren over het beroepenveld, de klanten binnen de professionele werking en de servicegerichtheid.",color:"",criteria:[{id:"m6aub4lk7xb3j3njnqf63c",title:"Waarden en normen identificeren.",weight:100},{id:"0ws20lmnw5kk56h4mxnque",title:"Persoonlijke waarden en normen aan die van een bedrijf of organisatie aftoetsen.",weight:100},{id:"6h2a07o2caeqeypvf1n8nj",title:"Privacywetgeving, auteursrecht, portretrecht, beroepsgeheim, discretieplicht en vertrouwelijke gegevens van medewerkers en klanten of patiënten respecteren.",weight:100}]}],criteria:[]},{id:"0niw2sttq8erqq7w2zmpuah",title:"Onderzoekend handelen",categories:[{id:"nbi1y48rvvzl3pszo33ko",title:"De student kan reflecteren over creativiteit",color:"",criteria:[{id:"6m1j1p07g5yb4jn8rxfds",title:"Anders durven denken.",weight:100},{id:"0ckexyst4tadt2vppdqhbct",title:"De adviezen en uitgewerkte alternatieven getuigen van inventiviteit en creativiteit.",weight:100}]},{id:"4rrpq53r2zebnssolx9io6",title:"De student kan databanken, ook anderstalige, hanteren bij onderzoek.",color:"",criteria:[{id:"hwdfiaeimmqk6tg4xv9d4",title:"De meest geschikte databanken raadplegen.",weight:100},{id:"odvm3c1nde9gslxuas5q1m",title:"De meest efficiënte zoekstrategieën toepassen.",weight:100}]},{id:"nlww6dbqzgi2a2u6lv7rk",title:"De student kan de gepaste wetenschappelijke bronnen selecteren in het Nederlands, Frans en Engels.",color:"",criteria:[{id:"a9rm6of2j6ox13skroxg6",title:"Bronnen correct analyseren en interpreteren.",weight:100},{id:"7yh29o4t4zbuwdezsqiy08",title:"De geraadpleegde bronnen kritisch integreren tot een gestructureerd en samenhangend verhaal.",weight:100}]},{id:"a57a1gng3gnp7pwunif49",title:"De student kan correct bronnen refereren.",color:"",criteria:[{id:"3bypc8f2th99zqdvfl5r9",title:"Gebruikmaken van refereertools.",weight:100},{id:"tua60ec3j5oas4ki7sbkqk",title:"Bronnen in de lopende tekst en in de bronnenlijst opnemen volgens de APA 6th-richtlijnen (American Psychological Association).",weight:100}]},{id:"n0r6vtcquw1q87k9td85h",title:"De student kan zijn of haar visie met diepgaande argumenten onderbouwen.",color:"",criteria:[]}],criteria:[]}],choices:[{selected:!1,feedback:"Student geeft steeds volledige en betrouwbare informatie. Alle informatie is opgenomen in de antwoorden.",has_fixed_score:!1,fixed_score:10,criterium_id:"fufp9nyhm59tpv834p7s5",level_id:"ll1mno0a18hjedwy6w3jt"},{selected:!1,feedback:"Student geeft vaker wel dan niet volledige en betrouwbare informatie. Bijna alle informatie is opgenomen in de antwoorden.",has_fixed_score:!1,fixed_score:10,criterium_id:"fufp9nyhm59tpv834p7s5",level_id:"icoz2ha4bahqvqfi71slz"},{selected:!1,feedback:"Student geeft vrij vaak onvolledige en twijfelachtige informatie, die vragen oproept. Niet alle informatie is opgenomen in de antwoorden.",has_fixed_score:!1,fixed_score:10,criterium_id:"fufp9nyhm59tpv834p7s5",level_id:"ewl5t7raruutqf4gudx15"},{selected:!1,feedback:"Student geeft zo goed als altijd onvolledige en twijfelachtige informatie die vragen oproept. De antwoorden bevatten amper informatie.",has_fixed_score:!1,fixed_score:10,criterium_id:"fufp9nyhm59tpv834p7s5",level_id:"fcd66dsoj78g8jq0diks3b"},{selected:!1,feedback:"De student geeft zijn mening onderbouwd en overtuigend.",has_fixed_score:!1,fixed_score:10,criterium_id:"yjz8854ozprzhr2hw45wup",level_id:"ll1mno0a18hjedwy6w3jt"},{selected:!1,feedback:"De student geeft zijn mening, maar onderbouwt deze niet altijd even goed.",has_fixed_score:!1,fixed_score:10,criterium_id:"yjz8854ozprzhr2hw45wup",level_id:"icoz2ha4bahqvqfi71slz"},{selected:!1,feedback:"De student geeft zijn mening, maar neemt daarbij vooral de mening over van anderen (bv. filosofen die aan bod kwamen, medestudenten) of onderbouwt deze niet.",has_fixed_score:!1,fixed_score:10,criterium_id:"yjz8854ozprzhr2hw45wup",level_id:"ewl5t7raruutqf4gudx15"},{selected:!1,feedback:"De student geeft geen eigen mening.",has_fixed_score:!1,fixed_score:10,criterium_id:"yjz8854ozprzhr2hw45wup",level_id:"fcd66dsoj78g8jq0diks3b"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"9ec44j2au3v1nl9sigksrq",level_id:"ll1mno0a18hjedwy6w3jt"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"9ec44j2au3v1nl9sigksrq",level_id:"icoz2ha4bahqvqfi71slz"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"9ec44j2au3v1nl9sigksrq",level_id:"ewl5t7raruutqf4gudx15"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"9ec44j2au3v1nl9sigksrq",level_id:"fcd66dsoj78g8jq0diks3b"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"xzcorbibce20cm5g54xemi",level_id:"ll1mno0a18hjedwy6w3jt"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"xzcorbibce20cm5g54xemi",level_id:"icoz2ha4bahqvqfi71slz"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"xzcorbibce20cm5g54xemi",level_id:"ewl5t7raruutqf4gudx15"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"xzcorbibce20cm5g54xemi",level_id:"fcd66dsoj78g8jq0diks3b"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"aas2bl49lrnfl4i1m7uwho",level_id:"ll1mno0a18hjedwy6w3jt"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"aas2bl49lrnfl4i1m7uwho",level_id:"icoz2ha4bahqvqfi71slz"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"aas2bl49lrnfl4i1m7uwho",level_id:"ewl5t7raruutqf4gudx15"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"aas2bl49lrnfl4i1m7uwho",level_id:"fcd66dsoj78g8jq0diks3b"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"b6fxxz8q2nq21595ncj6od",level_id:"ll1mno0a18hjedwy6w3jt"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"b6fxxz8q2nq21595ncj6od",level_id:"icoz2ha4bahqvqfi71slz"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"b6fxxz8q2nq21595ncj6od",level_id:"ewl5t7raruutqf4gudx15"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"b6fxxz8q2nq21595ncj6od",level_id:"fcd66dsoj78g8jq0diks3b"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"m6aub4lk7xb3j3njnqf63c",level_id:"ll1mno0a18hjedwy6w3jt"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"m6aub4lk7xb3j3njnqf63c",level_id:"icoz2ha4bahqvqfi71slz"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"m6aub4lk7xb3j3njnqf63c",level_id:"ewl5t7raruutqf4gudx15"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"m6aub4lk7xb3j3njnqf63c",level_id:"fcd66dsoj78g8jq0diks3b"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"0ws20lmnw5kk56h4mxnque",level_id:"ll1mno0a18hjedwy6w3jt"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"0ws20lmnw5kk56h4mxnque",level_id:"icoz2ha4bahqvqfi71slz"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"0ws20lmnw5kk56h4mxnque",level_id:"ewl5t7raruutqf4gudx15"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"0ws20lmnw5kk56h4mxnque",level_id:"fcd66dsoj78g8jq0diks3b"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"6h2a07o2caeqeypvf1n8nj",level_id:"ll1mno0a18hjedwy6w3jt"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"6h2a07o2caeqeypvf1n8nj",level_id:"icoz2ha4bahqvqfi71slz"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"6h2a07o2caeqeypvf1n8nj",level_id:"ewl5t7raruutqf4gudx15"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"6h2a07o2caeqeypvf1n8nj",level_id:"fcd66dsoj78g8jq0diks3b"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"xkisqg35b4897yv42v0uwh",level_id:"ll1mno0a18hjedwy6w3jt"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"xkisqg35b4897yv42v0uwh",level_id:"icoz2ha4bahqvqfi71slz"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"xkisqg35b4897yv42v0uwh",level_id:"ewl5t7raruutqf4gudx15"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"xkisqg35b4897yv42v0uwh",level_id:"fcd66dsoj78g8jq0diks3b"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"npq74gmgw7gykpvuyzai",level_id:"ll1mno0a18hjedwy6w3jt"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"npq74gmgw7gykpvuyzai",level_id:"icoz2ha4bahqvqfi71slz"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"npq74gmgw7gykpvuyzai",level_id:"ewl5t7raruutqf4gudx15"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"npq74gmgw7gykpvuyzai",level_id:"fcd66dsoj78g8jq0diks3b"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"6m1j1p07g5yb4jn8rxfds",level_id:"ll1mno0a18hjedwy6w3jt"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"6m1j1p07g5yb4jn8rxfds",level_id:"icoz2ha4bahqvqfi71slz"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"6m1j1p07g5yb4jn8rxfds",level_id:"ewl5t7raruutqf4gudx15"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"6m1j1p07g5yb4jn8rxfds",level_id:"fcd66dsoj78g8jq0diks3b"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"0ckexyst4tadt2vppdqhbct",level_id:"ll1mno0a18hjedwy6w3jt"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"0ckexyst4tadt2vppdqhbct",level_id:"icoz2ha4bahqvqfi71slz"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"0ckexyst4tadt2vppdqhbct",level_id:"ewl5t7raruutqf4gudx15"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"0ckexyst4tadt2vppdqhbct",level_id:"fcd66dsoj78g8jq0diks3b"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"hwdfiaeimmqk6tg4xv9d4",level_id:"ll1mno0a18hjedwy6w3jt"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"hwdfiaeimmqk6tg4xv9d4",level_id:"icoz2ha4bahqvqfi71slz"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"hwdfiaeimmqk6tg4xv9d4",level_id:"ewl5t7raruutqf4gudx15"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"hwdfiaeimmqk6tg4xv9d4",level_id:"fcd66dsoj78g8jq0diks3b"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"odvm3c1nde9gslxuas5q1m",level_id:"ll1mno0a18hjedwy6w3jt"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"odvm3c1nde9gslxuas5q1m",level_id:"icoz2ha4bahqvqfi71slz"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"odvm3c1nde9gslxuas5q1m",level_id:"ewl5t7raruutqf4gudx15"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"odvm3c1nde9gslxuas5q1m",level_id:"fcd66dsoj78g8jq0diks3b"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"a9rm6of2j6ox13skroxg6",level_id:"ll1mno0a18hjedwy6w3jt"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"a9rm6of2j6ox13skroxg6",level_id:"icoz2ha4bahqvqfi71slz"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"a9rm6of2j6ox13skroxg6",level_id:"ewl5t7raruutqf4gudx15"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"a9rm6of2j6ox13skroxg6",level_id:"fcd66dsoj78g8jq0diks3b"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"7yh29o4t4zbuwdezsqiy08",level_id:"ll1mno0a18hjedwy6w3jt"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"7yh29o4t4zbuwdezsqiy08",level_id:"icoz2ha4bahqvqfi71slz"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"7yh29o4t4zbuwdezsqiy08",level_id:"ewl5t7raruutqf4gudx15"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"7yh29o4t4zbuwdezsqiy08",level_id:"fcd66dsoj78g8jq0diks3b"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"3bypc8f2th99zqdvfl5r9",level_id:"ll1mno0a18hjedwy6w3jt"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"3bypc8f2th99zqdvfl5r9",level_id:"icoz2ha4bahqvqfi71slz"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"3bypc8f2th99zqdvfl5r9",level_id:"ewl5t7raruutqf4gudx15"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"3bypc8f2th99zqdvfl5r9",level_id:"fcd66dsoj78g8jq0diks3b"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"tua60ec3j5oas4ki7sbkqk",level_id:"ll1mno0a18hjedwy6w3jt"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"tua60ec3j5oas4ki7sbkqk",level_id:"icoz2ha4bahqvqfi71slz"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"tua60ec3j5oas4ki7sbkqk",level_id:"ewl5t7raruutqf4gudx15"},{selected:!1,feedback:"",has_fixed_score:!1,fixed_score:10,criterium_id:"tua60ec3j5oas4ki7sbkqk",level_id:"fcd66dsoj78g8jq0diks3b"}]},rubricResults:{evaluators:[{userId:0,name:"Bob",role:"student",targetUserId:0,targetName:"Bob",date:"2020-06-15T10:30:35+0200"},{userId:1,name:"Alice",role:"teacher",targetUserId:0,targetName:"Bob",date:"2020-06-17T13:25:00+0200"},{userId:2,name:"Fred",role:"coach",targetUserId:0,targetName:"Bob",date:"2020-06-17T11:05:00+0200"}],evaluations:{0:[{treeNodeId:"fufp9nyhm59tpv834p7s5",levelId:"ll1mno0a18hjedwy6w3jt",feedback:"Ik vond het best moeilijk maar uiteindelijk lukte het wel."},{treeNodeId:"yjz8854ozprzhr2hw45wup",levelId:"ll1mno0a18hjedwy6w3jt",feedback:""},{treeNodeId:"xzcorbibce20cm5g54xemi",levelId:"icoz2ha4bahqvqfi71slz",feedback:""},{treeNodeId:"aas2bl49lrnfl4i1m7uwho",levelId:"icoz2ha4bahqvqfi71slz",feedback:""},{treeNodeId:"9ec44j2au3v1nl9sigksrq",levelId:"icoz2ha4bahqvqfi71slz",feedback:""}],1:[{treeNodeId:"fufp9nyhm59tpv834p7s5",levelId:"ll1mno0a18hjedwy6w3jt",feedback:"Uitstekend!"},{treeNodeId:"yjz8854ozprzhr2hw45wup",levelId:"ll1mno0a18hjedwy6w3jt",feedback:"Flink gedaan!"},{treeNodeId:"xzcorbibce20cm5g54xemi",levelId:"ll1mno0a18hjedwy6w3jt",feedback:""},{treeNodeId:"aas2bl49lrnfl4i1m7uwho",levelId:"ewl5t7raruutqf4gudx15",feedback:"Hier had ik toch meer van verwacht"},{treeNodeId:"9ec44j2au3v1nl9sigksrq",levelId:"icoz2ha4bahqvqfi71slz",feedback:""}],2:[]}}};let Ip=class extends(Ge()){config={addLevelURL:"https://test",addTreeNodeURL:"https://test",deleteLevelURL:"https://test",deleteTreeNodeURL:"https://test",moveLevelURL:"https://test",moveTreeNodeURL:"https://test",updateChoiceURL:"https://test",updateLevelURL:"https://test",updateTreeNodeURL:"https://test",updateRubricURL:"https://test",resetRubricAbsoluteWeightsURL:"https://test"};store=Lp;onRubricUpdated(e){for(let t in this.store.rubricData)delete this.store.rubricData[t];Object.assign(this.store.rubricData,e.toJSON())}};Ip=We([pt({components:{RubricBuilder:Ml}})],Ip);var Pp=Ip,Fp=Pp,Mp=_t(Fp,$p,jp,!1,null,null,null),qp=Mp.exports,zp=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticStyle:{"margin-top":"-20px"},attrs:{id:"app"}},[e.rubric?t("rubric-entry",{attrs:{rubric:e.rubric,preview:!0,"ui-state":e.store.uiState.preview,options:{isPreviewDemo:!0}}}):e._e()],1)},Bp=[];let Up=class extends(Ge()){rubric;store=Lp;created(){this.rubric=ze.fromJSON(this.store.rubricData)}};Up=We([pt({components:{RubricEntry:Sc}})],Up);var Wp=Up,Vp=Wp,Hp=_t(Vp,zp,Bp,!1,null,null,null),Gp=Hp.exports,Jp=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticStyle:{"margin-top":"-20px"},attrs:{id:"app"}},[t("rubric-entry",{attrs:{rubric:e.rubric,"rubric-evaluation":e.getRubricEvaluation(e.evaluator),"ui-state":e.store.uiState.entry,options:e.store.uiState.entry.options},on:{"level-selected":e.selectLevel,"criterium-feedback-changed":e.updateFeedback},scopedSlots:e._u([{key:"demoEvaluator",fn:function(){return[t("li",{staticClass:"app-tool-item"},[e._v("Demo: "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.evaluator,expression:"evaluator"}],on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.evaluator=t.target.multiple?i:i[0]},function(t){e.store.uiState.entry.options.evaluator=e.evaluator}]}},[t("option",{attrs:{disabled:""},domProps:{value:null}},[e._v(e._s(e.$t("select")))]),e._l(e.store.rubricResults.evaluators,(function(i){return t("option",{domProps:{value:i}},[e._v(e._s(i.name))])}))],2)])]},proxy:!0}])})],1)},Xp=[];let Yp=class extends(Ge()){rubric;store=Lp;evaluatorEvaluations=[];evaluator=null;getTreeNodeEvaluations(e){if(!e)return[];const t=this.evaluatorEvaluations.find((t=>t.evaluator.userId===e.userId));if(!t)throw new Error(`No evaluation data found for evaluator: ${e.name}`);return t.treeNodeEvaluations}getRubricEvaluation(e){if(!this.rubric)throw new Error("Rubric hasn't fully loaded yet");return lc.fromEntry(this.rubric,this.getTreeNodeEvaluations(e))}selectLevel(e,t){if(!this.evaluator)return;const i=Lp.rubricResults.evaluations[this.evaluator.userId],r=i.find((t=>t.treeNodeId===e.id));r?r.levelId=t.id:i.push({treeNodeId:e.id,levelId:t.id,feedback:""})}updateFeedback(e,t){if(!this.evaluator)return;const i=Lp.rubricResults.evaluations[this.evaluator.userId],r=i.find((t=>t.treeNodeId===e.id));r?r.feedback=t:i.push({treeNodeId:e.id,levelId:this.rubric.levels.find((e=>e.isDefault))?.id||null,feedback:t})}initData(){const e=this.rubric=ze.fromJSON(this.store.rubricData),t=e.levels.find((e=>e.isDefault))||null,i=e.getAllTreeNodes().map((i=>({treeNode:i,level:i instanceof je?t:null,score:i instanceof je?t?e.getChoiceScore(i,t):0:null,feedback:""}))),r=this.store.rubricResults.evaluators;this.evaluator=this.store.uiState.entry.options.evaluator,this.evaluatorEvaluations=r.map((t=>{const r=this.store.rubricResults.evaluations[t.userId],n=i.map((t=>{const i=r.find((e=>e.treeNodeId===t.treeNode.id));if(i){const r=e.levels.find((e=>e.id===i.levelId))||null,n=r&&t.treeNode instanceof je?e.getChoiceScore(t.treeNode,r):null;return{treeNode:t.treeNode,level:r,score:n,feedback:i.feedback}}return{...t}}));return{evaluator:t,treeNodeEvaluations:n}}))}created(){this.initData()}};Yp=We([pt({components:{RubricEntry:Sc}})],Yp);var Kp=Yp,Qp=Kp,Zp=n(657),ef=n.n(Zp),tf=ef(),rf=_t(Qp,Jp,Xp,!1,null,null,null);"function"===typeof tf&&tf(rf);var nf=rf.exports,of=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticStyle:{"margin-top":"-20px"},attrs:{id:"app"}},[e.rubric?t("rubric-result",{attrs:{rubric:e.rubric,"rubric-evaluation":e.rubricEvaluation,options:{isDemo:!0}}}):e._e()],1)},sf=[];let af=class extends(Ge()){rubric;store=Lp;rubricEvaluation;initData(){const e=ze.fromJSON(this.store.rubricData),t=this.store.rubricResults,i=t.evaluators,r=this.processTreeNodeResults(e,t,i);this.rubric=e,this.rubricEvaluation=lc.fromResults(this.rubric,i,r)}processTreeNodeResults(e,t,i){const r=e.levels.find((e=>e.isDefault))||null;return e.getAllTreeNodes().map((n=>{const o={treeNode:n,level:r,score:n instanceof je?r?e.getChoiceScore(n,r):0:null,feedback:""},s=i.map((i=>{const r={...o},s=t.evaluations[i.userId],a=s.find((e=>e.treeNodeId===n.id));if(a){r.feedback=a.feedback;const t=e.levels.find((e=>e.id===a.levelId));t&&(r.level=t,n instanceof je&&(r.score=e.getChoiceScore(n,t)))}return{evaluator:i,treeNodeEvaluation:r}}));return{treeNode:n,evaluations:s}}))}created(){this.initData()}};af=We([pt({components:{RubricResult:ed}})],af);var lf=af,cf=lf,uf=_t(cf,of,sf,!1,null,null,null),df=uf.exports,hf=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"levels-view"},[t("h1",{staticClass:"title"},[e._v(e._s(e.$t("levels")))]),t("div",{staticClass:"controls"},[t("div",[t("on-off-switch",{staticClass:"switch",attrs:{id:"use-scores-check",value:e.rubric.useScores,"on-value":e.$t("with-scores"),"off-value":e.$t("without-scores")},on:{input:e.onUseScoresChanged}})],1),e.rubric.useScores&&!e.rubric.hasAbsoluteWeights?t("div",{staticClass:"m-mx"},[t("button",{staticClass:"btn-check",class:{checked:e.rubric.useRelativeWeights},attrs:{"aria-pressed":e.rubric.useRelativeWeights?"true":"false"},on:{click:e.onUseRelativeWeightsChanged}},[t("span",{staticClass:"lbl-check",attrs:{tabindex:"-1"}},[t("i",{staticClass:"btn-icon-check fa",attrs:{"aria-hidden":"true"}}),e._v(e._s(e.$t("weights-per-total")))])])]):e._e()]),t("levels",{attrs:{rubric:e.rubric,"data-connector":e.dataConnector}})],1)},pf=[],ff=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"onoffswitch"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.mValue,expression:"mValue"}],staticClass:"onoffswitch-checkbox",attrs:{type:"checkbox",id:e.id},domProps:{checked:Array.isArray(e.mValue)?e._i(e.mValue,null)>-1:e.mValue},on:{change:function(t){var i=e.mValue,r=t.target,n=!!r.checked;if(Array.isArray(i)){var o=null,s=e._i(i,o);r.checked?s<0&&(e.mValue=i.concat([o])):s>-1&&(e.mValue=i.slice(0,s).concat(i.slice(s+1)))}else e.mValue=n}}}),t("label",{staticClass:"onoffswitch-label",attrs:{for:e.id}},[t("span",{staticClass:"onoffswitch-inner"},[t("span",{staticClass:"onoffswitch-inner-before"},[e._v(e._s(e.onValue))]),t("span",{staticClass:"onoffswitch-inner-after"},[e._v(e._s(e.offValue))])]),t("span",{staticClass:"onoffswitch-switch"})])])},mf=[];let gf=class extends(Ge()){value;id;onValue;offValue;get mValue(){return this.value}set mValue(e){this.$emit("input",e)}};We([gt({type:Boolean,required:!0}),Ve("design:type",Boolean)],gf.prototype,"value",void 0),We([gt({type:String,default:"myId"}),Ve("design:type",String)],gf.prototype,"id",void 0),We([gt({type:String,default:"ON"}),Ve("design:type",String)],gf.prototype,"onValue",void 0),We([gt({type:String,default:"OFF"}),Ve("design:type",String)],gf.prototype,"offValue",void 0),gf=We([pt({name:"on-off-switch"})],gf);var vf,bf=gf,yf=bf,wf=_t(yf,ff,mf,!1,null,null,null),_f=wf.exports;let Cf=class extends(Ge()){rubric;dataConnector;onUseScoresChanged(e){this.rubric.useScores=e,this.dataConnector?.updateRubric(this.rubric),e&&!this.rubric.useRelativeWeights?this.rubric.hasAbsoluteWeights=ze.usesAbsoluteWeights(this.rubric):e||(this.rubric.hasAbsoluteWeights=!1)}onUseRelativeWeightsChanged(){this.rubric.useRelativeWeights=!this.rubric.useRelativeWeights,this.dataConnector?.updateRubric(this.rubric)}};We([gt({type:ze,required:!0}),Ve("design:type","function"===typeof(vf="undefined"!==typeof ze&&ze)?vf:Object)],Cf.prototype,"rubric",void 0),We([gt(ls),Ve("design:type",Object)],Cf.prototype,"dataConnector",void 0),Cf=We([pt({name:"levels-view",components:{OnOffSwitch:_f,Levels:pa}})],Cf);var xf=Cf,kf=xf,Sf=n(397),Ef=n.n(Sf),Tf=Ef(),Rf=_t(kf,hf,pf,!1,null,"78b088e8",null);"function"===typeof Tf&&Tf(Rf);var Of,Df=Rf.exports,Nf=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.rubric?t("rubric-entry",{attrs:{rubric:e.rubric,preview:!0,"ui-state":e.uiState}}):e._e()},Af=[];let $f=class extends(Ge()){rubric;uiState};We([gt({type:ze,required:!0}),Ve("design:type","function"===typeof(Of="undefined"!==typeof ze&&ze)?Of:Object)],$f.prototype,"rubric",void 0),We([gt({type:Object}),Ve("design:type",Object)],$f.prototype,"uiState",void 0),$f=We([pt({components:{RubricEntry:Sc}})],$f);var jf=$f,Lf=jf,If=_t(Lf,Nf,Af,!1,null,null,null),Pf=If.exports;Ge().use(Sp);const Ff=[{path:"/",name:"BuilderPreview",component:Pf},{path:"/builder",name:"Builder",component:Fa},{path:"/levels",name:"BuilderLevels",component:Df},{path:"/full-view",name:"BuilderFull",component:_l}],Mf=[{path:"/",name:"Home",component:Ap,props:!0},{path:"/builder",component:qp,children:[{path:"",name:"BuilderPreview",component:Pf},{path:"builder",name:"Builder",component:Fa},{path:"levels",name:"BuilderLevels",component:Df},{path:"full-view",name:"BuilderFull",component:_l}]},{path:"/preview",name:"Preview",component:Gp},{path:"/entry",name:"Entry",component:nf,props:!0},{path:"/results",name:"Results",component:df,props:!0}],qf={getRouter:(e,t="hash")=>{if(-1===["demo","builder"].indexOf(e))throw new Error(`No router with name '${e}' available.`);return new Sp({mode:t,linkExactActiveClass:"active-link",routes:"builder"===e?Ff:Mf})}};var zf=qf,Bf={install(e,t){e.component("RubricDemoWrapper",xt),e.component("RubricBuilderWrapper",Wl),e.component("RubricPreviewWrapper",Dc),e.component("RubricEntryWrapper",Fc),e.component("RubricResultWrapper",od),e.prototype.$getRouter=function(e){return zf.getRouter(e)},e.prototype.$getRubricFromJSON=function(e){return ze.fromJSON(e)}}},Uf=Bf}(),o}()}));
//# sourceMappingURL=cosnics-rubric.umd.min.js.map