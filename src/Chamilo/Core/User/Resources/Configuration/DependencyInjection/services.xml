<?xml version="1.0" encoding="UTF-8" ?>
<container xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
           xmlns="http://symfony.com/schema/dic/services"
           xsi:schemaLocation="http://symfony.com/schema/dic/services http://symfony.com/schema/dic/services/services-1.0.xsd">
    <services>
        <defaults autowire="true"
                  autoconfigure="true"
                  public="true"/>

        <service id="Chamilo\Core\User\CurrentUser"
                 class="Chamilo\Core\User\Storage\DataClass\User">
            <factory service="Chamilo\Core\User\Factory\UserFactory"
                     method="getUser"/>
        </service>

        <service id="Chamilo\Core\User\Factory\UserFactory">
            <argument key="$themeWebPathBuilder"
                      type="service"
                      id="Chamilo\Libraries\Format\Theme\ThemeWebPathBuilder"/>
            <argument key="$themeSystemPathBuilder"
                      type="service"
                      id="Chamilo\Libraries\Format\Theme\ThemeSystemPathBuilder"/>
        </service>

        <service id="Chamilo\Core\User\Service\UserImporter\UserImporter">
            <argument key="$mailer"
                      type="service"
                      id="Chamilo\Libraries\Mail\Mailer\ActiveMailer"/>
        </service>
        <service id="Chamilo\Core\User\Service\UserImporter\ImportParser\ImportParserFactory"/>
        <service id="Chamilo\Core\User\Service\UserService">
            <argument key="$userSettingsCacheAdapter"
                      type="service"
                      id="Chamilo\Core\User\Service\UserSettingCacheService"/>
        </service>
        <service id="Chamilo\Core\User\Service\UserSettingService">
            <argument key="$userSettingsCacheAdapter"
                      type="service"
                      id="Chamilo\Core\User\Service\UserSettingCacheService"/>
        </service>

        <service id="Chamilo\Core\User\Service\UserSettingCacheService"
                 class="Symfony\Component\Cache\Adapter\FilesystemAdapter">
            <tag name="Symfony\Component\Cache\Adapter"/>
            <factory service="Chamilo\Libraries\Cache\SymfonyCacheAdapterFactory"
                     method="createFilesystemAdapter"/>
            <argument key="$namespace">Chamilo\Core\User\UserSetting</argument>
        </service>

        <service id="Chamilo\Core\User\Service\EmailService">
            <argument key="$activeMailer"
                      type="service"
                      id="Chamilo\Libraries\Mail\Mailer\ActiveMailer"/>
        </service>

        <service id="Chamilo\Core\User\Service\PasswordGenerator"/>
        <service id="Chamilo\Core\User\Domain\UserDetails\UserDetailsRendererCollection"/>
        <service id="Chamilo\Core\User\Storage\Repository\UserRepository"/>

        <service id="Chamilo\Core\User\Picture\UserPictureProviderFactory"/>

        <service id="Chamilo\Core\User\Picture\UserPictureProviderInterface"
                 alias="Chamilo\Core\User\Picture\UserPictureProvider"/>

        <service id="Chamilo\Core\User\Picture\UserPictureProvider"
                 class="Chamilo\Core\User\Picture\UserPictureProviderInterface">
            <factory service="Chamilo\Core\User\Picture\UserPictureProviderFactory"
                     method="getActivePictureProvider"/>
        </service>

        <service id="Chamilo\Core\User\Service\SettingsConnector">
            <tag name="Chamilo\Core\Admin\Service\SettingsConnectorInterface"/>
        </service>

        <service id="Chamilo\Core\User\Service\AdminActionProvider">
            <tag name="Chamilo\Core\Admin\Service\ActionProvider"/>
            <tag name="Chamilo\Core\Admin\Service\ImportActionProvider"/>
        </service>

        <service id="Chamilo\Core\User\Service\Home\LoginBlockRenderer">
            <tag name="Chamilo\Core\Home\Renderer\BlockRenderer"/>
        </service>

    </services>
</container>