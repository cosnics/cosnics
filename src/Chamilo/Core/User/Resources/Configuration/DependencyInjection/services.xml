<?xml version="1.0" encoding="UTF-8" ?>
<container xmlns="http://symfony.com/schema/dic/services"
           xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
           xsi:schemaLocation="http://symfony.com/schema/dic/services http://symfony.com/schema/dic/services/services-1.0.xsd">
    <services>
        <defaults autowire="true" autoconfigure="true" public="true"/>
        <service id="Chamilo\Core\User\User" class="Chamilo\Core\User\Storage\DataClass\User">
            <factory service="Chamilo\Core\User\Factory\UserFactory"
                     method="getUser"/>
        </service>

        <service id="Chamilo\Core\User\Factory\UserFactory">
            <argument type="service"
                      id="Chamilo\Libraries\Platform\Session\SessionUtilities"/>
            <argument type="service" id="Chamilo\Core\User\Service\UserService"/>
            <argument type="service"
                      id="Chamilo\Configuration\Service\ConfigurationConsulter"/>
            <argument type="service" id="Chamilo\Libraries\Format\Theme"/>
            <argument type="service" id="Chamilo\Libraries\Platform\Translation"/>
            <argument type="service"
                      id="Chamilo\Libraries\Platform\Configuration\LocalSetting"/>
        </service>

        <service id="Chamilo\Core\User\Service\UserService">
            <argument type="service"
                      id="Chamilo\Core\User\Storage\Repository\UserRepository"/>
            <argument type="service" id="Chamilo\Libraries\Hashing\HashingUtilities"/>
            <argument type="service"
                      id="Chamilo\Configuration\Service\ConfigurationService"/>
        </service>

        <service
                id="Chamilo\Core\User\Service\PasswordGenerator">
        </service>

        <service id="Chamilo\Core\User\Storage\Repository\UserRepository">
            <argument type="service"
                      id="Chamilo\Libraries\Storage\DataManager\Doctrine\DataClassRepository"/>
            <argument type="service" id="Chamilo\Libraries\Storage\Service\SearchQueryConditionGenerator"/>
        </service>

        <service id="Chamilo\Core\User\Service\SessionHandler">
            <factory service="Chamilo\Core\User\Factory\SessionHandlerFactory"
                     method="getSessionHandler"/>
        </service>

        <service id="Chamilo\Core\User\Storage\Repository\SessionRepository">
            <argument type="service"
                      id="Chamilo\Libraries\Storage\Cache\DataClassRepositoryCache"/>
            <argument type="service"
                      id="Chamilo\Libraries\Storage\DataManager\Doctrine\DataClassRepository"/>
        </service>

        <service id="Chamilo\Core\User\Factory\SessionHandlerFactory">
            <argument type="service"
                      id="Chamilo\Configuration\Service\FileConfigurationLocator"/>
            <argument>%chamilo.configuration.session.session_handler%</argument>
            <argument type="service"
                      id="Chamilo\Core\User\Storage\Repository\SessionRepository"/>
        </service>

    </services>
</container>