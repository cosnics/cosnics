{"remainingRequest":"D:\\Sites\\branch\\node_modules\\babel-loader\\lib\\index.js!D:\\Sites\\branch\\node_modules\\ts-loader\\index.js??ref--13-2!D:\\Sites\\branch\\src\\Chamilo\\Libraries\\VuePlugins\\src\\Plugins\\ScoreRubric\\Domain\\Container.ts","dependencies":[{"path":"D:\\Sites\\branch\\src\\Chamilo\\Libraries\\VuePlugins\\src\\Plugins\\ScoreRubric\\Domain\\Container.ts","mtime":1574763316000},{"path":"D:\\Sites\\branch\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Sites\\branch\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\Sites\\branch\\node_modules\\ts-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZSI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiRDpcXFNpdGVzXFxicmFuY2hcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJEOlxcU2l0ZXNcXGJyYW5jaFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwoKdmFyIENvbnRhaW5lciA9Ci8qI19fUFVSRV9fKi8KZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIENvbnRhaW5lcigpIHsKICAgIHZhciB0aXRsZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogJyc7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvbnRhaW5lcik7CgogICAgdGhpcy50aXRsZSA9ICcnOwogICAgdGhpcy5fY2hpbGRyZW4gPSBbXTsKICAgIHRoaXMucGFyZW50ID0gbnVsbDsKICAgIHRoaXMudGl0bGUgPSB0aXRsZTsKICB9CgogIF9jcmVhdGVDbGFzcyhDb250YWluZXIsIFt7CiAgICBrZXk6ICJhZGRDaGlsZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkQ2hpbGQoZWxlbWVudCkgewogICAgICBlbGVtZW50LnBhcmVudCA9IHRoaXM7CgogICAgICB0aGlzLl9jaGlsZHJlbi5wdXNoKGVsZW1lbnQpOwoKICAgICAgaWYgKHRoaXMucGFyZW50KSB0aGlzLnBhcmVudC5ub3RpZnlBZGRDaGlsZChlbGVtZW50KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJub3RpZnlBZGRDaGlsZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbm90aWZ5QWRkQ2hpbGQoZWxlbWVudCkgewogICAgICBpZiAodGhpcy5wYXJlbnQpIHsKICAgICAgICAvL2J1YmJsZSB1cCB0aGUgY2hhbmdlCiAgICAgICAgdGhpcy5wYXJlbnQubm90aWZ5QWRkQ2hpbGQoZWxlbWVudCk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJub3RpZnlSZW1vdmVDaGlsZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbm90aWZ5UmVtb3ZlQ2hpbGQoY29udGFpbmVyLCBlbGVtZW50KSB7CiAgICAgIGlmICh0aGlzLnBhcmVudCkgLy9idWJibGUgdXAgdGhlIGNoYWluCiAgICAgICAgdGhpcy5wYXJlbnQubm90aWZ5UmVtb3ZlQ2hpbGQoY29udGFpbmVyLCBlbGVtZW50KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZW1vdmVDaGlsZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlQ2hpbGQoZWxlbWVudCkgewogICAgICBpZiAoZWxlbWVudC5wYXJlbnQgIT09IHRoaXMpIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoImVsZW1lbnQ6ICIgKyBlbGVtZW50LnRpdGxlICsgIiBub3QgcGFydCBvZiBjb250YWluZXI6ICIgKyB0aGlzLnRpdGxlKTsKICAgICAgfQoKICAgICAgdmFyIGluZGV4ID0gdGhpcy5fY2hpbGRyZW4uaW5kZXhPZihlbGVtZW50KTsKCiAgICAgIHRoaXMuX2NoaWxkcmVuLnNwbGljZShpbmRleCwgMSk7CgogICAgICBpZiAodGhpcy5wYXJlbnQpIHRoaXMucGFyZW50Lm5vdGlmeVJlbW92ZUNoaWxkKHRoaXMsIGVsZW1lbnQpOwogICAgICBlbGVtZW50LnBhcmVudCA9IG51bGw7CiAgICB9CiAgICAvKnN0YXRpYyBtb3ZlRWxlbWVudFRvQ29udGFpbmVyQXRJbmRleChlbGVtZW50OiBFbGVtZW50LCBjb250YWluZXI6IENvbnRhaW5lciwgaW5kZXg6bnVtYmVyICkgew0KICAgICAgICBDb250YWluZXJNYW5hZ2VyLnJlbW92ZUVsZW1lbnRGcm9tQ29udGFpbmVyKGVsZW1lbnQsIGNvbnRhaW5lcik7DQogICAgfSovCgogIH0sIHsKICAgIGtleTogIm1vdmVJdGVtSW5BcnJheSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbW92ZUl0ZW1JbkFycmF5KGFycmF5LCBmcm9tLCB0bykgewogICAgICBpZiAodG8gPj0gYXJyYXkubGVuZ3RoIHx8IGZyb20gPj0gYXJyYXkubGVuZ3RoKSByZXR1cm47CiAgICAgIGlmICh0byA8IDAgfHwgZnJvbSA8IDApIHJldHVybjsKICAgICAgYXJyYXkuc3BsaWNlKHRvLCAwLCBhcnJheS5zcGxpY2UoZnJvbSwgMSlbMF0pOwogICAgfQogIH0sIHsKICAgIGtleTogImNoaWxkcmVuIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy5fY2hpbGRyZW4uc2xpY2UoKTsKICAgIH0KICB9XSk7CgogIHJldHVybiBDb250YWluZXI7Cn0oKTsKCmV4cG9ydCB7IENvbnRhaW5lciBhcyBkZWZhdWx0IH07"},{"version":3,"sources":["D:\\Sites\\branch\\src\\Chamilo\\Libraries\\VuePlugins\\src\\Plugins\\ScoreRubric\\Domain\\Container.ts"],"names":[],"mappings":";;;;;;IAM8B,S;;;AAK1B,uBAA8B;AAAA,QAAlB,KAAkB,uEAAF,EAAE;;AAAA;;AAHvB,SAAA,KAAA,GAAgB,EAAhB;AACG,SAAA,SAAA,GAAsB,EAAtB;AAGN,SAAK,MAAL,GAAc,IAAd;AACA,SAAK,KAAL,GAAa,KAAb;AACH;;;;6BAQkB,O,EAAgB;AAC/B,MAAA,OAAO,CAAC,MAAR,GAAiB,IAAjB;;AACA,WAAK,SAAL,CAAe,IAAf,CAAoB,OAApB;;AACA,UAAG,KAAK,MAAR,EACI,KAAK,MAAL,CAAY,cAAZ,CAA2B,OAA3B;AACP;;;mCAEwB,O,EAAgB;AACrC,UAAG,KAAK,MAAR,EAAgB;AAAC;AACb,aAAK,MAAL,CAAY,cAAZ,CAA2B,OAA3B;AACH;AACJ;;;sCAC2B,S,EAAsB,O,EAAgB;AAC9D,UAAG,KAAK,MAAR,EAAgB;AACZ,aAAK,MAAL,CAAY,iBAAZ,CAA8B,SAA9B,EAAyC,OAAzC;AACP;;;gCAEqB,O,EAAgB;AAClC,UAAG,OAAO,CAAC,MAAR,KAAmB,IAAtB,EAA4B;AACxB,cAAM,IAAI,KAAJ,CAAU,cAAc,OAAO,CAAC,KAAtB,GAA8B,0BAA9B,GAA2D,KAAK,KAA1E,CAAN;AACH;;AACD,UAAM,KAAK,GAAG,KAAK,SAAL,CAAe,OAAf,CAAuB,OAAvB,CAAd;;AACA,WAAK,SAAL,CAAe,MAAf,CAAsB,KAAtB,EAA6B,CAA7B;;AACA,UAAG,KAAK,MAAR,EACI,KAAK,MAAL,CAAY,iBAAZ,CAA8B,IAA9B,EAAoC,OAApC;AACJ,MAAA,OAAO,CAAC,MAAR,GAAiB,IAAjB;AACH;AAED;;;;;;oCAK0B,K,EAAc,I,EAAc,E,EAAU;AAC5D,UAAI,EAAE,IAAI,KAAK,CAAC,MAAZ,IAAsB,IAAI,IAAI,KAAK,CAAC,MAAxC,EACI;AACJ,UAAI,EAAE,GAAG,CAAL,IAAU,IAAI,GAAG,CAArB,EACI;AAEJ,MAAA,KAAK,CAAC,MAAN,CAAa,EAAb,EAAiB,CAAjB,EAAoB,KAAK,CAAC,MAAN,CAAa,IAAb,EAAmB,CAAnB,EAAsB,CAAtB,CAApB;AACH;;;wBA5CW;AACR,aAAO,KAAK,SAAL,CAAe,KAAf,EAAP;AACH;;;;;;SAdyB,S","sourcesContent":["import {Element} from \"@/Plugins/ScoreRubric/Domain/Rubric\";\n\nexport interface ContainerInterface extends Element {\n    readonly children: ReadonlyArray<Element>;\n}\n\nexport default abstract class Container implements ContainerInterface {\n    public parent: Container|null;\n    public title: string = '';\n    protected _children:Element[] = [];\n\n    constructor(title: string = '') {\n        this.parent = null;\n        this.title = title;\n    }\n\n    abstract getScore(): number;\n\n    get children():ReadonlyArray<Element> {\n        return this._children.slice();\n    }\n\n    protected addChild(element: Element): void {\n        element.parent = this;\n        this._children.push(element);\n        if(this.parent)\n            this.parent.notifyAddChild(element);\n    }\n\n    protected notifyAddChild(element: Element): void {\n        if(this.parent) {//bubble up the change\n            this.parent.notifyAddChild(element);\n        }\n    }\n    protected notifyRemoveChild(container: Container, element: Element): void{\n        if(this.parent) //bubble up the chain\n            this.parent.notifyRemoveChild(container, element);\n    }\n\n    protected removeChild(element: Element): void {\n        if(element.parent !== this) {\n            throw new Error(\"element: \" + element.title + \" not part of container: \" + this.title);\n        }\n        const index = this._children.indexOf(element);\n        this._children.splice(index, 1);\n        if(this.parent)\n            this.parent.notifyRemoveChild(this, element);\n        element.parent = null;\n    }\n\n    /*static moveElementToContainerAtIndex(element: Element, container: Container, index:number ) {\n        ContainerManager.removeElementFromContainer(element, container);\n    }*/\n\n\n    protected moveItemInArray(array: any[], from: number, to: number) {\n        if (to >= array.length || from >= array.length)\n            return;\n        if (to < 0 || from < 0)\n            return;\n\n        array.splice(to, 0, array.splice(from, 1)[0]);\n    }\n}\n"],"sourceRoot":""}]}