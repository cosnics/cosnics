var translations=[];var paths=[];var settings=[];var theme;var ajaxUri=getPath("WEB_PATH")+"index.php";function getPlatformSetting(b,a){if(typeof(settings[a])=="undefined"||(typeof(settings[a])!=="undefined"&&typeof(settings[a][b])=="undefined")){if(typeof(settings[a])=="undefined"){settings[a]=[]}settings[a][b]=getUtilities("platform_setting",{variable:b,context:a})}return settings[a][b]}function getTranslation(a,c,b){if(typeof(translations[b])=="undefined"||(typeof(translations[b])!=="undefined"&&typeof(translations[b][a])=="undefined")){if(typeof(translations[b])=="undefined"){translations[b]=[]}translations[b][a]=getUtilities("translation",{string:a,parameters:c,context:b})}return translations[b][a]}function getPath(a){if(a.toUpperCase()=="WEB_PATH"&&window.rootWebPath!==undefined){return window.rootWebPath}if(typeof(paths[a])=="undefined"){paths[a]=getUtilities("path",{path:a})}return paths[a]}function getTheme(){if(typeof(theme)=="undefined"){theme=getUtilities("theme")}return theme}function getMemory(a){return getUtilities("memory",{action:"get",variable:a})}function setMemory(a,b){getUtilities("memory",{action:"set",variable:a,value:b})}function clearMemory(a){getUtilities("memory",{action:"clear",variable:a})}function getUtilities(c,d){var a;if(typeof d=="undefined"){d=new Object()}d.type=c;d.application="Chamilo\\Libraries\\Ajax";d.go="utilities";var b=$.ajax({type:"POST",url:ajaxUri,data:d,async:false}).success(function(e){a=e.properties.result});return a}function doAjaxPost(a,b){return doAjax("POST",a,b)}function doAjaxGet(a,b){return doAjax("GET",a,b)}function doAjax(c,b,d){if(typeof d=="undefined"){d=new Object()}var a=$.ajax({type:c,url:b,dataType:"json",data:d,async:false}).responseText;return a}function renderHtmlEditor(g,h,e,b){var f={name:"",label:"",options:$.json.serialize({}),attributes:$.json.serialize({})};var d=new Object();d.name=g;if(typeof h!="undefined"){d.options=$.json.serialize(h)}if(typeof b!="undefined"){d.attributes=$.json.serialize(b)}if(typeof e!="undefined"){d.label=e}d.application="Chamilo\\Libraries\\Ajax";d.go="HtmlEditorInstance";var c=$.extend(f,d);ajaxUri=getPath("WEB_PATH")+"index.php";var a=doAjaxPost(ajaxUri,c);return a}function destroyHtmlEditor(a){if(typeof CKEDITOR!="undefined"){$("textarea.html_editor[name='"+a+"']").ckeditorGet().destroy()}if(typeof tinyMCE!="undefined"){$("textarea.html_editor[name='"+a+"']").tinymce().destroy()}}function openPopup(c,e,a){e=e||"80%";a=a||"70%";if(typeof e=="string"&&e.length>1&&e.substr(e.length-1,1)=="%"){e=parseInt(window.screen.width*parseInt(e,10)/100,10)}if(typeof a=="string"&&a.length>1&&a.substr(a.length-1,1)=="%"){a=parseInt(window.screen.height*parseInt(a,10)/100,10)}if(e<640){e=640}if(a<420){a=420}var d={centerBrowser:1,centerScreen:0,height:a,left:0,location:0,menubar:0,resizable:0,scrollbars:1,status:0,width:e,windowName:"_blank",windowURL:c,top:0,toolbar:0};var b="height="+d.height+",width="+d.width+",toolbar="+d.toolbar+",scrollbars="+d.scrollbars+",status="+d.status+",resizable="+d.resizable+",location="+d.location+",menuBar="+d.menubar;d.windowName=this.name||d.windowName;d.windowURL=this.href||d.windowURL;var f,g;if(d.centerBrowser){if($.browser.msie){f=(window.screenTop-120)+((((document.documentElement.clientHeight+120)/2)-(d.height/2)));g=window.screenLeft+((((document.body.offsetWidth+20)/2)-(d.width/2)))}else{f=window.screenY+(((window.outerHeight/2)-(d.height/2)));g=window.screenX+(((window.outerWidth/2)-(d.width/2)))}window.open(d.windowURL,d.windowName,b+",left="+g+",top="+f).focus()}else{if(d.centerScreen){f=(screen.height-d.height)/2;g=(screen.width-d.width)/2;window.open(d.windowURL,d.windowName,b+",left="+g+",top="+f).focus()}else{window.open(d.windowURL,d.windowName,b+",left="+d.left+",top="+d.top).focus()}}return false}function scaleDimensions(c,a,b){if(b.width>c||b.height>a){if(b.width>=b.height){b.thumbnailWidth=c;b.thumbnailHeight=(b.thumbnailWidth/b.width)*b.height}else{b.thumbnailHeight=a;b.thumbnailWidth=(b.thumbnailHeight/b.height)*b.width}}else{b.thumbnailWidth=b.width;b.thumbnailHeight=b.height}return b}function asort(c,q){var b=[],p=[],d,f,l,o,h=this,n=false,a={};switch(q){case"SORT_STRING":o=function(i,e){return h.strnatcmp(i,e)};break;case"SORT_LOCALE_STRING":var g=this.i18n_loc_get_default();o=this.php_js.i18nLocales[g].sorting;break;case"SORT_NUMERIC":o=function(i,e){return(i-e)};break;case"SORT_REGULAR":default:o=function(i,e){var t=parseFloat(i),k=parseFloat(e),s=t+""===i,r=k+""===e;if(s&&r){return t>k?1:t<k?-1:0}else{if(s&&!r){return 1}else{if(!s&&r){return -1}}}return i>e?1:i<e?-1:0};break}var m=function(e,u){var s,r,t,k;for(s=u.length-2;s>=0;s--){for(r=0;r<=s;r++){l=o(u[r+1],u[r]);if(l<0){t=u[r];u[r]=u[r+1];u[r+1]=t;k=e[r];e[r]=e[r+1];e[r+1]=k}}}};this.php_js=this.php_js||{};this.php_js.ini=this.php_js.ini||{};n=this.php_js.ini["phpjs.strictForIn"]&&this.php_js.ini["phpjs.strictForIn"].local_value&&this.php_js.ini["phpjs.strictForIn"].local_value!=="off";a=n?c:a;for(d in c){if(c.hasOwnProperty(d)){b.push(c[d]);p.push(d);if(n){delete c[d]}}}try{m(p,b)}catch(j){return false}for(f=0;f<b.length;f++){a[p[f]]=b[f]}return n||a}function explode(c,e,a){var f={0:""};if(arguments.length<2||typeof arguments[0]=="undefined"||typeof arguments[1]=="undefined"){return null}if(c===""||c===false||c===null){return false}if(typeof c=="function"||typeof c=="object"||typeof e=="function"||typeof e=="object"){return f}if(c===true){c="1"}if(!a){return e.toString().split(c.toString())}else{var g=e.toString().split(c.toString());var d=g.splice(0,a-1);var b=g.join(c.toString());d.push(b);return d}}function str_replace(t,c,m,l){var g=0,e=0,p="",k="",d=0,o=0,h=[].concat(t),a=[].concat(c),q=m,b=Object.prototype.toString.call(a)==="[object Array]",n=Object.prototype.toString.call(q)==="[object Array]";q=[].concat(q);if(l){this.window[l]=0}for(g=0,d=q.length;g<d;g++){if(q[g]===""){continue}for(e=0,o=h.length;e<o;e++){p=q[g]+"";k=b?(a[e]!==undefined?a[e]:""):a[0];q[g]=(p).split(h[e]).join(k);if(l&&q[g]!==p){this.window[l]+=(p.length-q[g].length)/h[e].length}}}return n?q:q[0]}function sprintf(){var g=/%%|%(\d+\$)?([-+\'#0 ]*)(\*\d+\$|\*|\d+)?(\.(\*\d+\$|\*|\d+))?([scboxXuidfegEG])/g;var h=arguments,f=0,k=h[f++];var b=function(n,a,i,m){if(!i){i=" "}var l=(n.length>=a)?"":Array(1+a-n.length>>>0).join(i);return m?n+l:l+n};var c=function(m,l,p,a,i,o){var n=a-m.length;if(n>0){if(p||!i){m=b(m,a,o,p)}else{m=m.slice(0,l.length)+b("",n,"0",true)+m.slice(l.length)}}return m};var j=function(p,o,n,q,i,a,m){var l=p>>>0;n=n&&l&&{"2":"0b","8":"0","16":"0x"}[o]||"";p=n+b(l.toString(o),a||0,"0",false);return c(p,n,q,i,m)};var e=function(m,o,i,a,l,n){if(a!=null){m=m.slice(0,a)}return c(m,"",o,i,l,n)};var d=function(z,m,n,r,B,w,l){var a;var v;var i;var A;var t;if(z=="%%"){return"%"}var s=false,o="",q=false,y=false,x=" ";var p=n.length;for(var u=0;n&&u<p;u++){switch(n.charAt(u)){case" ":o=" ";break;case"+":o="+";break;case"-":s=true;break;case"'":x=n.charAt(u+1);break;case"0":q=true;break;case"#":y=true;break}}if(!r){r=0}else{if(r=="*"){r=+h[f++]}else{if(r.charAt(0)=="*"){r=+h[r.slice(1,-1)]}else{r=+r}}}if(r<0){r=-r;s=true}if(!isFinite(r)){throw new Error("sprintf: (minimum-)width must be finite")}if(!w){w="fFeE".indexOf(l)>-1?6:(l=="d")?0:undefined}else{if(w=="*"){w=+h[f++]}else{if(w.charAt(0)=="*"){w=+h[w.slice(1,-1)]}else{w=+w}}}t=m?h[m.slice(0,-1)]:h[f++];switch(l){case"s":return e(String(t),s,r,w,q,x);case"c":return e(String.fromCharCode(+t),s,r,w,q);case"b":return j(t,2,y,s,r,w,q);case"o":return j(t,8,y,s,r,w,q);case"x":return j(t,16,y,s,r,w,q);case"X":return j(t,16,y,s,r,w,q).toUpperCase();case"u":return j(t,10,y,s,r,w,q);case"i":case"d":a=(+t)|0;v=a<0?"-":o;t=v+b(String(Math.abs(a)),w,"0",false);return c(t,v,s,r,q);case"e":case"E":case"f":case"F":case"g":case"G":a=+t;v=a<0?"-":o;i=["toExponential","toFixed","toPrecision"]["efg".indexOf(l.toLowerCase())];A=["toString","toUpperCase"]["eEfFgG".indexOf(l)%2];t=v+Math.abs(a)[i](w);return c(t,v,s,r,q)[A]();default:return z}};return k.replace(g,d)};