var theme,translations=[],paths=[],settings=[],ajaxUri=getPath("WEB_PATH")+"index.php";function getPlatformSetting(t,e){return(void 0===settings[e]||void 0!==settings[e]&&void 0===settings[e][t])&&(void 0===settings[e]&&(settings[e]=[]),settings[e][t]=getUtilities("platform_setting",{variable:t,context:e})),settings[e][t]}function getTranslation(t,e,i){return(void 0===translations[i]||void 0!==translations[i]&&void 0===translations[i][t])&&(void 0===translations[i]&&(translations[i]=[]),translations[i][t]=getUtilities("translation",{string:t,parameters:e,context:i})),translations[i][t]}function getPath(t){return"WEB_PATH"==t.toUpperCase()&&void 0!==window.rootWebPath?window.rootWebPath:(void 0===paths[t]&&(paths[t]=getUtilities("path",{path:t})),paths[t])}function getTheme(){return void 0===theme&&(theme=getUtilities("theme")),theme}function getMemory(t){return getUtilities("memory",{action:"get",variable:t})}function setMemory(t,e){getUtilities("memory",{action:"set",variable:t,value:e})}function clearMemory(t){getUtilities("memory",{action:"clear",variable:t})}function getUtilities(t,e){var i;void 0===e&&(e=new Object),e.type=t,e.application="Chamilo\\Libraries\\Ajax",e.go="utilities";$.ajax({type:"POST",url:ajaxUri,data:e,async:!1}).success(function(t){i=t.properties.result});return i}function doAjaxPost(t,e){return doAjax("POST",t,e)}function doAjaxGet(t,e){return doAjax("GET",t,e)}function doAjax(t,e,i){return void 0===i&&(i=new Object),$.ajax({type:t,url:e,dataType:"json",data:i,async:!1}).responseText}function renderHtmlEditor(t,e,i,n){var r={name:"",label:"",options:$.json.serialize({}),attributes:$.json.serialize({})},o=new Object;o.name=t,void 0!==e&&(o.options=$.json.serialize(e)),void 0!==n&&(o.attributes=$.json.serialize(n)),void 0!==i&&(o.label=i),o.application="Chamilo\\Libraries\\Ajax",o.go="HtmlEditorInstance";var a=$.extend(r,o);return doAjaxPost(ajaxUri=getPath("WEB_PATH")+"index.php",a)}function destroyHtmlEditor(t){"undefined"!=typeof CKEDITOR&&$("textarea.html_editor[name='"+t+"']").ckeditorGet().destroy(),"undefined"!=typeof tinyMCE&&$("textarea.html_editor[name='"+t+"']").tinymce().destroy()}function openPopup(t,e,i){i=i||"70%","string"==typeof(e=e||"80%")&&1<e.length&&"%"==e.substr(e.length-1,1)&&(e=parseInt(window.screen.width*parseInt(e,10)/100,10)),"string"==typeof i&&1<i.length&&"%"==i.substr(i.length-1,1)&&(i=parseInt(window.screen.height*parseInt(i,10)/100,10)),e<640&&(e=640),i<420&&(i=420);var n,r,o={centerBrowser:1,centerScreen:0,height:i,left:0,location:0,menubar:0,resizable:0,scrollbars:1,status:0,width:e,windowName:"_blank",windowURL:t,top:0,toolbar:0},a="height="+o.height+",width="+o.width+",toolbar="+o.toolbar+",scrollbars="+o.scrollbars+",status="+o.status+",resizable="+o.resizable+",location="+o.location+",menuBar="+o.menubar;return o.windowName=this.name||o.windowName,o.windowURL=this.href||o.windowURL,o.centerBrowser?(r=$.browser.msie?(n=window.screenTop-120+((document.documentElement.clientHeight+120)/2-o.height/2),window.screenLeft+((document.body.offsetWidth+20)/2-o.width/2)):(n=window.screenY+(window.outerHeight/2-o.height/2),window.screenX+(window.outerWidth/2-o.width/2)),window.open(o.windowURL,o.windowName,a+",left="+r+",top="+n).focus()):o.centerScreen?(n=(screen.height-o.height)/2,r=(screen.width-o.width)/2,window.open(o.windowURL,o.windowName,a+",left="+r+",top="+n).focus()):window.open(o.windowURL,o.windowName,a+",left="+o.left+",top="+o.top).focus(),!1}function scaleDimensions(t,e,i){return i.width>t||i.height>e?i.width>=i.height?(i.thumbnailWidth=t,i.thumbnailHeight=i.thumbnailWidth/i.width*i.height):(i.thumbnailHeight=e,i.thumbnailWidth=i.thumbnailHeight/i.height*i.width):(i.thumbnailWidth=i.width,i.thumbnailHeight=i.height),i}function asort(t,e){var i,n,a,r,o=[],s=[],c=this,l={};switch(e){case"SORT_STRING":a=function(t,e){return c.strnatcmp(t,e)};break;case"SORT_LOCALE_STRING":var h=this.i18n_loc_get_default();a=this.php_js.i18nLocales[h].sorting;break;case"SORT_NUMERIC":a=function(t,e){return t-e};break;case"SORT_REGULAR":default:a=function(t,e){var i=parseFloat(t),n=parseFloat(e),r=i+""===t,o=n+""===e;return r&&o?n<i?1:i<n?-1:0:r&&!o?1:!r&&o?-1:e<t?1:t<e?-1:0}}for(i in this.php_js=this.php_js||{},this.php_js.ini=this.php_js.ini||{},l=(r=this.php_js.ini["phpjs.strictForIn"]&&this.php_js.ini["phpjs.strictForIn"].local_value&&"off"!==this.php_js.ini["phpjs.strictForIn"].local_value)?t:l,t)t.hasOwnProperty(i)&&(o.push(t[i]),s.push(i),r&&delete t[i]);try{!function(t,e){var i,n,r,o;for(i=e.length-2;0<=i;i--)for(n=0;n<=i;n++)a(e[n+1],e[n])<0&&(r=e[n],e[n]=e[n+1],e[n+1]=r,o=t[n],t[n]=t[n+1],t[n+1]=o)}(s,o)}catch(t){return!1}for(n=0;n<o.length;n++)l[s[n]]=o[n];return r||l}function explode(t,e,i){if(arguments.length<2||void 0===t||void 0===e)return null;if(""===t||!1===t||null===t)return!1;if("function"==typeof t||"object"==typeof t||"function"==typeof e||"object"==typeof e)return{0:""};if(!0===t&&(t="1"),i){var n=e.toString().split(t.toString()),r=n.splice(0,i-1),o=n.join(t.toString());return r.push(o),r}return e.toString().split(t.toString())}function str_replace(t,e,i,n){var r,o=0,a=0,s="",c="",l=0,h=[].concat(t),d=[].concat(e),u=i,f="[object Array]"===Object.prototype.toString.call(d),p="[object Array]"===Object.prototype.toString.call(u);for(u=[].concat(u),n&&(this.window[n]=0),o=0,r=u.length;o<r;o++)if(""!==u[o])for(a=0,l=h.length;a<l;a++)s=u[o]+"",c=f?void 0!==d[a]?d[a]:"":d[0],u[o]=s.split(h[a]).join(c),n&&u[o]!==s&&(this.window[n]+=(s.length-u[o].length)/h[a].length);return p?u:u[0]}function sprintf(){function v(t,e,i,n){i=i||" ";var r=t.length>=e?"":Array(1+e-t.length>>>0).join(i);return n?t+r:r+t}function j(t,e,i,n,r,o){var a=n-t.length;return 0<a&&(t=i||!r?v(t,n,o,i):t.slice(0,e.length)+v("",a,"0",!0)+t.slice(e.length)),t}function y(t,e,i,n,r,o,a){var s=t>>>0;return t=(i=i&&s&&{2:"0b",8:"0",16:"0x"}[e]||"")+v(s.toString(e),o||0,"0",!1),j(t,i,n,r,a)}function _(t,e,i,n,r,o){return null!=n&&(t=t.slice(0,n)),j(t,"",e,i,r,o)}var x=arguments,S=0,t=x[S++];return t.replace(/%%|%(\d+\$)?([-+\'#0 ]*)(\*\d+\$|\*|\d+)?(\.(\*\d+\$|\*|\d+))?([scboxXuidfegEG])/g,function(t,e,i,n,r,o,a){var s,c,l,h,d;if("%%"==t)return"%";for(var u=!1,f="",p=!1,g=!1,m=" ",w=i.length,b=0;i&&b<w;b++)switch(i.charAt(b)){case" ":f=" ";break;case"+":f="+";break;case"-":u=!0;break;case"'":m=i.charAt(b+1);break;case"0":p=!0;break;case"#":g=!0}if((n=n?"*"==n?+x[S++]:"*"==n.charAt(0)?+x[n.slice(1,-1)]:+n:0)<0&&(n=-n,u=!0),!isFinite(n))throw new Error("sprintf: (minimum-)width must be finite");switch(o=o?"*"==o?+x[S++]:"*"==o.charAt(0)?+x[o.slice(1,-1)]:+o:-1<"fFeE".indexOf(a)?6:"d"==a?0:void 0,d=e?x[e.slice(0,-1)]:x[S++],a){case"s":return _(String(d),u,n,o,p,m);case"c":return _(String.fromCharCode(+d),u,n,o,p);case"b":return y(d,2,g,u,n,o,p);case"o":return y(d,8,g,u,n,o,p);case"x":return y(d,16,g,u,n,o,p);case"X":return y(d,16,g,u,n,o,p).toUpperCase();case"u":return y(d,10,g,u,n,o,p);case"i":case"d":return d=(c=(s=0|+d)<0?"-":f)+v(String(Math.abs(s)),o,"0",!1),j(d,c,u,n,p);case"e":case"E":case"f":case"F":case"g":case"G":return c=(s=+d)<0?"-":f,l=["toExponential","toFixed","toPrecision"]["efg".indexOf(a.toLowerCase())],h=["toString","toUpperCase"]["eEfFgG".indexOf(a)%2],d=c+Math.abs(s)[l](o),j(d,c,u,n,p)[h]();default:return t}})}!function(i){t();function t(){return window.innerHeight?window.innerHeight:document.documentElement?document.documentElement.offsetHeight:void 0}function e(t,e){i(this).hasClass("notification_mini")?i(this).removeClass("notification_mini"):i(this).addClass("notification_mini")}i(document).ready(function(){i(".normal-message").bind("mouseenter",function(t){i("#closeMessage",this).attr("class","close_normal_message")}),i(".warning-message").bind("mouseenter",function(t){i("#closeMessage",this).attr("class","close_warning_message")}),i(".error-message").bind("mouseenter",function(t){i("#closeMessage",this).attr("class","close_error_message")}),i(".normal-message, .warning_message, .error_message").bind("mouseleave",function(t){i("#closeMessage",this).attr("class","close_message")}),i("[id|=closeMessage]").bind("click",function(t){i(this).parent().fadeOut(500)}),i(".notification").addClass("notification_mini"),i(document).on("click",".notification",e),i("#datepicker").datepicker()})}(jQuery),function(n){function t(t,e){var i='<iframe id="iframe-help" style="margin: 20px; width: 95%; height: 95%;" src="'+n(this).attr("href")+'" frameborder="0">';return i+="</iframe>",n.modal(i,{overlayId:"help-modal-overlay",containerId:"help-modal-container",closeClass:"help-modal-close",opacity:75}),n.browser.mozilla&&(r(),n(window).resize(function(){r()})),!1}n(document).ready(function(){n(".help").bind("click",t)});var r=function(){var t=.95*n("#help-modal-container").height();n("#iframe-help").css("height",t+"px")}}(jQuery),function(i){i(window).on("beforeunload",function(t){if("undefined"!=typeof tracker){var e=getPath("WEB_PATH")+"index.php";parameters=new Object,parameters.application="Chamilo\\Core\\User\\Ajax",parameters.go="Leave",parameters.tracker=tracker,i.ajax({type:"POST",url:e,data:parameters,async:!1})}})}(jQuery),$(document).ready(function(){hljs.initHighlightingOnLoad()});