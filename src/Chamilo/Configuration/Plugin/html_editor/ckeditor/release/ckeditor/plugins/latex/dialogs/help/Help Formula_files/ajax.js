var sajax_debug_mode=!1,sajax_request_type="GET";function sajax_debug(b){if(!sajax_debug_mode)return!1;var d=document.getElementById("sajax_debug");if(!d){d=document.createElement("p");d.className="sajax_debug";d.id="sajax_debug";var c=document.getElementsByTagName("body")[0];c.firstChild?c.insertBefore(d,c.firstChild):c.appendChild(d)}c=document.createElement("div");c.appendChild(document.createTextNode(b));d.appendChild(c);return!0}
function sajax_init_object(){sajax_debug("sajax_init_object() called..");var b;try{b=new XMLHttpRequest}catch(d){try{b=new ActiveXObject("Msxml2.XMLHTTP")}catch(c){try{b=new ActiveXObject("Microsoft.XMLHTTP")}catch(f){b=null}}}b||sajax_debug("Could not create connection object.");return b}
function sajax_do_call(b,d,c){var f,a,e,g;e=wgServer+(null==wgScript?wgScriptPath+"/index.php":wgScript)+"?action=ajax";if("GET"==sajax_request_type){e=-1==e.indexOf("?")?e+"?rs="+encodeURIComponent(b):e+"&rs="+encodeURIComponent(b);for(f=0;f<d.length;f++)e=e+"&rsargs[]="+encodeURIComponent(d[f]);g=null}else{g="rs="+encodeURIComponent(b);for(f=0;f<d.length;f++)g=g+"&rsargs[]="+encodeURIComponent(d[f])}a=sajax_init_object();if(!a)return alert("AJAX not supported"),!1;try{a.open(sajax_request_type,
e,!0)}catch(h){throw"localhost"==window.location.hostname&&alert("Your browser blocks XMLHttpRequest to 'localhost', try using a real hostname for development/testing."),h;}"POST"==sajax_request_type&&(a.setRequestHeader("Method","POST "+e+" HTTP/1.1"),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"));a.setRequestHeader("Pragma","cache=yes");a.setRequestHeader("Cache-Control","no-transform");a.onreadystatechange=function(){if(a.readyState==4){sajax_debug("received ("+a.status+
" "+a.statusText+") "+a.responseText);if(typeof c=="function")c(a);else if(typeof c=="object")if(c.tagName=="INPUT"){if(a.status==200)c.value=a.responseText}else c.innerHTML=a.status==200?a.responseText:"<div class='error'>Error: "+a.status+" "+a.statusText+" ("+a.responseText+")</div>";else alert("bad target for sajax_do_call: not a function or object: "+c)}};sajax_debug(b+" uri = "+e+" / post = "+g);a.send(g);sajax_debug(b+" waiting..");delete a;return!0}
function wfSupportsAjax(){var b=sajax_init_object();delete b;return b?!0:!1};